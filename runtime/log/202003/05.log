---------------------------------------------------------------
[ 2020-03-05T11:44:12+08:00 ] 127.0.0.1 POST www.jfmblog.com/admin/index/login?url=%2Fadmin
[ sql ] [ DB ] CONNECT:[ UseTime:0.015575s ] mysql:host=127.0.0.1;dbname=jfmblog;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_admin` [ RunTime:0.041974s ]
[ sql ] [ SQL ] SELECT * FROM `fa_admin` WHERE  `username` = 'admin' LIMIT 1 [ RunTime:0.001253s ]
[ sql ] [ SQL ] UPDATE `fa_admin`  SET `loginfailure`=1,`updatetime`=1583379851  WHERE  `id` = 1 [ RunTime:0.079792s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_admin_log` [ RunTime:0.006945s ]
[ sql ] [ SQL ] INSERT INTO `fa_admin_log` (`title` , `content` , `url` , `admin_id` , `username` , `useragent` , `ip` , `createtime`) VALUES ('登录' , '{\"url\":\"\\/admin\",\"__token__\":\"52565f9ddd605a1a7c44df12d9ea2e45\",\"username\":\"admin\",\"captcha\":\"8M2R\"}' , '/admin/index/login?url=%2Fadmin' , 0 , 'Unknown' , 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/80.0.3970.5 Safari/537.36' , '127.0.0.1' , 1583379851) [ RunTime:0.075717s ]
---------------------------------------------------------------
[ 2020-03-05T11:44:26+08:00 ] 127.0.0.1 POST www.jfmblog.com/admin/index/login?url=%2Fadmin
[ sql ] [ DB ] CONNECT:[ UseTime:0.011970s ] mysql:host=127.0.0.1;dbname=jfmblog;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_admin` [ RunTime:0.005139s ]
[ sql ] [ SQL ] SELECT * FROM `fa_admin` WHERE  `username` = 'admin' LIMIT 1 [ RunTime:0.000872s ]
[ sql ] [ SQL ] UPDATE `fa_admin`  SET `loginfailure`=0,`logintime`=1583379866,`token`='9273685e-8762-43b3-aafe-ef2eda387058',`updatetime`=1583379866  WHERE  `id` = 1 [ RunTime:0.037670s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_admin_log` [ RunTime:0.005135s ]
[ sql ] [ SQL ] INSERT INTO `fa_admin_log` (`title` , `content` , `url` , `admin_id` , `username` , `useragent` , `ip` , `createtime`) VALUES ('登录' , '{\"url\":\"\\/admin\",\"__token__\":\"289f6076e0f1f27916a4f8af934d6840\",\"username\":\"admin\",\"captcha\":\"mfyy\"}' , '/admin/index/login?url=%2Fadmin' , 1 , 'admin' , 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/80.0.3970.5 Safari/537.36' , '127.0.0.1' , 1583379866) [ RunTime:0.035927s ]
---------------------------------------------------------------
[ 2020-03-05T11:44:27+08:00 ] 127.0.0.1 GET www.jfmblog.com/admin
[ sql ] [ DB ] CONNECT:[ UseTime:0.011945s ] mysql:host=127.0.0.1;dbname=jfmblog;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_auth_group_access` [ RunTime:0.033899s ]
[ sql ] [ SQL ] SELECT `aga`.`uid`,`aga`.`group_id`,`ag`.`id`,`ag`.`pid`,`ag`.`name`,`ag`.`rules` FROM `fa_auth_group_access` `aga` LEFT JOIN `fa_auth_group` `ag` ON `aga`.`group_id`=`ag`.`id` WHERE  (  aga.uid='1' and ag.status='normal' ) [ RunTime:0.002274s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_auth_rule` [ RunTime:0.007876s ]
[ sql ] [ SQL ] SELECT `id`,`pid`,`condition`,`icon`,`name`,`title`,`ismenu` FROM `fa_auth_rule` WHERE  `status` = 'normal' [ RunTime:0.001283s ]
[ sql ] [ SQL ] SELECT * FROM `fa_auth_rule` WHERE  `status` = 'normal'  AND `ismenu` = 1 ORDER BY `weigh` DESC [ RunTime:0.001244s ]
[ sql ] [ SQL ] SELECT `name`,`pid` FROM `fa_auth_rule` WHERE  `status` = 'normal'  AND `ismenu` = 0  AND `name` LIKE '%/index' [ RunTime:0.001049s ]
---------------------------------------------------------------
[ 2020-03-05T11:44:28+08:00 ] 127.0.0.1 GET www.jfmblog.com/admin/general/config?addtabs=1
[ sql ] [ DB ] CONNECT:[ UseTime:0.012765s ] mysql:host=127.0.0.1;dbname=jfmblog;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_auth_group_access` [ RunTime:0.012036s ]
[ sql ] [ SQL ] SELECT `aga`.`uid`,`aga`.`group_id`,`ag`.`id`,`ag`.`pid`,`ag`.`name`,`ag`.`rules` FROM `fa_auth_group_access` `aga` LEFT JOIN `fa_auth_group` `ag` ON `aga`.`group_id`=`ag`.`id` WHERE  (  aga.uid='1' and ag.status='normal' ) [ RunTime:0.000851s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_auth_rule` [ RunTime:0.005251s ]
[ sql ] [ SQL ] SELECT `id`,`pid`,`condition`,`icon`,`name`,`title`,`ismenu` FROM `fa_auth_rule` WHERE  `status` = 'normal' [ RunTime:0.001057s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_config` [ RunTime:0.040130s ]
[ sql ] [ SQL ] SELECT * FROM `fa_config` [ RunTime:0.000861s ]
[ sql ] [ SQL ] SELECT `title`,`remark` FROM `fa_auth_rule` WHERE  `name` = 'general/config' LIMIT 1 [ RunTime:0.000887s ]
---------------------------------------------------------------
[ 2020-03-05T11:44:34+08:00 ] 127.0.0.1 GET www.jfmblog.com/admin/blog/post?addtabs=1
[ sql ] [ DB ] CONNECT:[ UseTime:0.012625s ] mysql:host=127.0.0.1;dbname=jfmblog;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_auth_group_access` [ RunTime:0.011915s ]
[ sql ] [ SQL ] SELECT `aga`.`uid`,`aga`.`group_id`,`ag`.`id`,`ag`.`pid`,`ag`.`name`,`ag`.`rules` FROM `fa_auth_group_access` `aga` LEFT JOIN `fa_auth_group` `ag` ON `aga`.`group_id`=`ag`.`id` WHERE  (  aga.uid='1' and ag.status='normal' ) [ RunTime:0.000754s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_auth_rule` [ RunTime:0.004920s ]
[ sql ] [ SQL ] SELECT `id`,`pid`,`condition`,`icon`,`name`,`title`,`ismenu` FROM `fa_auth_rule` WHERE  `status` = 'normal' [ RunTime:0.001122s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_blog_category` [ RunTime:0.026845s ]
[ sql ] [ SQL ] SELECT * FROM `fa_blog_category` ORDER BY `weigh` DESC,`id` DESC [ RunTime:0.000812s ]
[ sql ] [ SQL ] SELECT `title`,`remark` FROM `fa_auth_rule` WHERE  `name` = 'blog/post' LIMIT 1 [ RunTime:0.000862s ]
---------------------------------------------------------------
[ 2020-03-05T11:44:35+08:00 ] 127.0.0.1 GET www.jfmblog.com/admin/blog/post/index?sort=weigh&order=desc&offset=0&limit=10&filter=%7B%7D&op=%7B%7D&_=1583379874818
[ sql ] [ DB ] CONNECT:[ UseTime:0.011976s ] mysql:host=127.0.0.1;dbname=jfmblog;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_auth_group_access` [ RunTime:0.004635s ]
[ sql ] [ SQL ] SELECT `aga`.`uid`,`aga`.`group_id`,`ag`.`id`,`ag`.`pid`,`ag`.`name`,`ag`.`rules` FROM `fa_auth_group_access` `aga` LEFT JOIN `fa_auth_group` `ag` ON `aga`.`group_id`=`ag`.`id` WHERE  (  aga.uid='1' and ag.status='normal' ) [ RunTime:0.000779s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_auth_rule` [ RunTime:0.004955s ]
[ sql ] [ SQL ] SELECT `id`,`pid`,`condition`,`icon`,`name`,`title`,`ismenu` FROM `fa_auth_rule` WHERE  `status` = 'normal' [ RunTime:0.001091s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_blog_category` [ RunTime:0.005465s ]
[ sql ] [ SQL ] SELECT * FROM `fa_blog_category` ORDER BY `weigh` DESC,`id` DESC [ RunTime:0.000789s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_blog_post` [ RunTime:0.032638s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `fa_blog_post` `blog_post` LEFT JOIN `fa_blog_category` `category` ON `blog_post`.`category_id`=`category`.`id` ORDER BY `blog_post`.`weigh` DESC LIMIT 1 [ RunTime:0.000882s ]
[ sql ] [ SQL ] SELECT `blog_post`.`id`,`blog_post`.`category_id`,`blog_post`.`flag`,`blog_post`.`title`,`blog_post`.`summary`,`blog_post`.`content`,`blog_post`.`thumb`,`blog_post`.`image`,`blog_post`.`keywords`,`blog_post`.`description`,`blog_post`.`views`,`blog_post`.`comments`,`blog_post`.`createtime`,`blog_post`.`updatetime`,`blog_post`.`weigh`,`blog_post`.`status`,category.id AS category__id,category.pid AS category__pid,category.name AS category__name,category.nickname AS category__nickname,category.flag AS category__flag,category.image AS category__image,category.keywords AS category__keywords,category.description AS category__description,category.diyname AS category__diyname,category.createtime AS category__createtime,category.updatetime AS category__updatetime,category.weigh AS category__weigh,category.status AS category__status FROM `fa_blog_post` `blog_post` LEFT JOIN `fa_blog_category` `category` ON `blog_post`.`category_id`=`category`.`id` ORDER BY `blog_post`.`weigh` DESC LIMIT 0,10 [ RunTime:0.000789s ]
---------------------------------------------------------------
[ 2020-03-05T11:44:40+08:00 ] 127.0.0.1 GET www.jfmblog.com/admin/blog/post/add?dialog=1
[ sql ] [ DB ] CONNECT:[ UseTime:0.012305s ] mysql:host=127.0.0.1;dbname=jfmblog;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_auth_group_access` [ RunTime:0.005652s ]
[ sql ] [ SQL ] SELECT `aga`.`uid`,`aga`.`group_id`,`ag`.`id`,`ag`.`pid`,`ag`.`name`,`ag`.`rules` FROM `fa_auth_group_access` `aga` LEFT JOIN `fa_auth_group` `ag` ON `aga`.`group_id`=`ag`.`id` WHERE  (  aga.uid='1' and ag.status='normal' ) [ RunTime:0.000824s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_auth_rule` [ RunTime:0.005525s ]
[ sql ] [ SQL ] SELECT `id`,`pid`,`condition`,`icon`,`name`,`title`,`ismenu` FROM `fa_auth_rule` WHERE  `status` = 'normal' [ RunTime:0.001120s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_blog_category` [ RunTime:0.006056s ]
[ sql ] [ SQL ] SELECT * FROM `fa_blog_category` ORDER BY `weigh` DESC,`id` DESC [ RunTime:0.000852s ]
---------------------------------------------------------------
[ 2020-03-05T11:44:49+08:00 ] 127.0.0.1 GET www.jfmblog.com/admin/addon?addtabs=1
[ sql ] [ DB ] CONNECT:[ UseTime:0.014969s ] mysql:host=127.0.0.1;dbname=jfmblog;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_auth_group_access` [ RunTime:0.016025s ]
[ sql ] [ SQL ] SELECT `aga`.`uid`,`aga`.`group_id`,`ag`.`id`,`ag`.`pid`,`ag`.`name`,`ag`.`rules` FROM `fa_auth_group_access` `aga` LEFT JOIN `fa_auth_group` `ag` ON `aga`.`group_id`=`ag`.`id` WHERE  (  aga.uid='1' and ag.status='normal' ) [ RunTime:0.001727s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_auth_rule` [ RunTime:0.006424s ]
[ sql ] [ SQL ] SELECT `id`,`pid`,`condition`,`icon`,`name`,`title`,`ismenu` FROM `fa_auth_rule` WHERE  `status` = 'normal' [ RunTime:0.001153s ]
[ sql ] [ SQL ] SELECT `title`,`remark` FROM `fa_auth_rule` WHERE  `name` = 'addon' LIMIT 1 [ RunTime:0.000878s ]
---------------------------------------------------------------
[ 2020-03-05T11:45:02+08:00 ] 127.0.0.1 POST www.jfmblog.com/admin/addon/state
[ sql ] [ DB ] CONNECT:[ UseTime:0.011950s ] mysql:host=127.0.0.1;dbname=jfmblog;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_auth_group_access` [ RunTime:0.006298s ]
[ sql ] [ SQL ] SELECT `aga`.`uid`,`aga`.`group_id`,`ag`.`id`,`ag`.`pid`,`ag`.`name`,`ag`.`rules` FROM `fa_auth_group_access` `aga` LEFT JOIN `fa_auth_group` `ag` ON `aga`.`group_id`=`ag`.`id` WHERE  (  aga.uid='1' and ag.status='normal' ) [ RunTime:0.000757s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_auth_rule` [ RunTime:0.005221s ]
[ sql ] [ SQL ] SELECT `id`,`pid`,`condition`,`icon`,`name`,`title`,`ismenu` FROM `fa_auth_rule` WHERE  `status` = 'normal' [ RunTime:0.001141s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_admin_log` [ RunTime:0.005025s ]
[ sql ] [ SQL ] INSERT INTO `fa_admin_log` (`title` , `content` , `url` , `admin_id` , `username` , `useragent` , `ip` , `createtime`) VALUES ('插件管理 禁用启用' , '{\"name\":\"markdown\",\"action\":\"disable\",\"force\":\"0\"}' , '/admin/addon/state' , 1 , 'admin' , 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/80.0.3970.5 Safari/537.36' , '127.0.0.1' , 1583379902) [ RunTime:0.032150s ]
---------------------------------------------------------------
[ 2020-03-05T11:45:02+08:00 ] 127.0.0.1 POST www.jfmblog.com/admin/index/index
[ sql ] [ DB ] CONNECT:[ UseTime:0.012799s ] mysql:host=127.0.0.1;dbname=jfmblog;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_auth_group_access` [ RunTime:0.005730s ]
[ sql ] [ SQL ] SELECT `aga`.`uid`,`aga`.`group_id`,`ag`.`id`,`ag`.`pid`,`ag`.`name`,`ag`.`rules` FROM `fa_auth_group_access` `aga` LEFT JOIN `fa_auth_group` `ag` ON `aga`.`group_id`=`ag`.`id` WHERE  (  aga.uid='1' and ag.status='normal' ) [ RunTime:0.000768s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_auth_rule` [ RunTime:0.005026s ]
[ sql ] [ SQL ] SELECT `id`,`pid`,`condition`,`icon`,`name`,`title`,`ismenu` FROM `fa_auth_rule` WHERE  `status` = 'normal' [ RunTime:0.001102s ]
[ sql ] [ SQL ] SELECT * FROM `fa_auth_rule` WHERE  `status` = 'normal'  AND `ismenu` = 1 ORDER BY `weigh` DESC [ RunTime:0.001535s ]
[ sql ] [ SQL ] SELECT `name`,`pid` FROM `fa_auth_rule` WHERE  `status` = 'normal'  AND `ismenu` = 0  AND `name` LIKE '%/index' [ RunTime:0.001136s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_admin_log` [ RunTime:0.004968s ]
[ sql ] [ SQL ] INSERT INTO `fa_admin_log` (`title` , `content` , `url` , `admin_id` , `username` , `useragent` , `ip` , `createtime`) VALUES ('' , '{\"action\":\"refreshmenu\"}' , '/admin/index/index' , 1 , 'admin' , 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/80.0.3970.5 Safari/537.36' , '127.0.0.1' , 1583379902) [ RunTime:0.042201s ]
---------------------------------------------------------------
[ 2020-03-05T11:45:09+08:00 ] 127.0.0.1 POST www.jfmblog.com/admin/addon/uninstall
[ sql ] [ DB ] CONNECT:[ UseTime:0.012407s ] mysql:host=127.0.0.1;dbname=jfmblog;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_auth_group_access` [ RunTime:0.012389s ]
[ sql ] [ SQL ] SELECT `aga`.`uid`,`aga`.`group_id`,`ag`.`id`,`ag`.`pid`,`ag`.`name`,`ag`.`rules` FROM `fa_auth_group_access` `aga` LEFT JOIN `fa_auth_group` `ag` ON `aga`.`group_id`=`ag`.`id` WHERE  (  aga.uid='1' and ag.status='normal' ) [ RunTime:0.000772s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_auth_rule` [ RunTime:0.005413s ]
[ sql ] [ SQL ] SELECT `id`,`pid`,`condition`,`icon`,`name`,`title`,`ismenu` FROM `fa_auth_rule` WHERE  `status` = 'normal' [ RunTime:0.001134s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_admin_log` [ RunTime:0.005114s ]
[ sql ] [ SQL ] INSERT INTO `fa_admin_log` (`title` , `content` , `url` , `admin_id` , `username` , `useragent` , `ip` , `createtime`) VALUES ('插件管理 卸载' , '{\"name\":\"markdown\",\"force\":\"0\"}' , '/admin/addon/uninstall' , 1 , 'admin' , 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/80.0.3970.5 Safari/537.36' , '127.0.0.1' , 1583379909) [ RunTime:0.034325s ]
---------------------------------------------------------------
[ 2020-03-05T11:45:09+08:00 ] 127.0.0.1 POST www.jfmblog.com/admin/index/index
[ sql ] [ DB ] CONNECT:[ UseTime:0.012718s ] mysql:host=127.0.0.1;dbname=jfmblog;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_auth_group_access` [ RunTime:0.011957s ]
[ sql ] [ SQL ] SELECT `aga`.`uid`,`aga`.`group_id`,`ag`.`id`,`ag`.`pid`,`ag`.`name`,`ag`.`rules` FROM `fa_auth_group_access` `aga` LEFT JOIN `fa_auth_group` `ag` ON `aga`.`group_id`=`ag`.`id` WHERE  (  aga.uid='1' and ag.status='normal' ) [ RunTime:0.000771s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_auth_rule` [ RunTime:0.005475s ]
[ sql ] [ SQL ] SELECT `id`,`pid`,`condition`,`icon`,`name`,`title`,`ismenu` FROM `fa_auth_rule` WHERE  `status` = 'normal' [ RunTime:0.001087s ]
[ sql ] [ SQL ] SELECT `name`,`pid` FROM `fa_auth_rule` WHERE  `status` = 'normal'  AND `ismenu` = 0  AND `name` LIKE '%/index' [ RunTime:0.001205s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_admin_log` [ RunTime:0.004933s ]
[ sql ] [ SQL ] INSERT INTO `fa_admin_log` (`title` , `content` , `url` , `admin_id` , `username` , `useragent` , `ip` , `createtime`) VALUES ('' , '{\"action\":\"refreshmenu\"}' , '/admin/index/index' , 1 , 'admin' , 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/80.0.3970.5 Safari/537.36' , '127.0.0.1' , 1583379909) [ RunTime:0.098998s ]
---------------------------------------------------------------
[ 2020-03-05T11:45:55+08:00 ] 127.0.0.1 POST www.jfmblog.com/admin/addon/install
[ sql ] [ DB ] CONNECT:[ UseTime:0.011969s ] mysql:host=127.0.0.1;dbname=jfmblog;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_auth_group_access` [ RunTime:0.011964s ]
[ sql ] [ SQL ] SELECT `aga`.`uid`,`aga`.`group_id`,`ag`.`id`,`ag`.`pid`,`ag`.`name`,`ag`.`rules` FROM `fa_auth_group_access` `aga` LEFT JOIN `fa_auth_group` `ag` ON `aga`.`group_id`=`ag`.`id` WHERE  (  aga.uid='1' and ag.status='normal' ) [ RunTime:0.000797s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_auth_rule` [ RunTime:0.005016s ]
[ sql ] [ SQL ] SELECT `id`,`pid`,`condition`,`icon`,`name`,`title`,`ismenu` FROM `fa_auth_rule` WHERE  `status` = 'normal' [ RunTime:0.001117s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_admin_log` [ RunTime:0.004908s ]
[ sql ] [ SQL ] INSERT INTO `fa_admin_log` (`title` , `content` , `url` , `admin_id` , `username` , `useragent` , `ip` , `createtime`) VALUES ('插件管理 安装' , '{\"name\":\"simditor\",\"force\":\"0\",\"uid\":\"15122\",\"token\":\"7008d8af-b206-4957-915c-ef2dc5b6d10b\",\"version\":\"1.0.5\",\"faversion\":\"1.0.0.20191101_beta\"}' , '/admin/addon/install' , 1 , 'admin' , 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/80.0.3970.5 Safari/537.36' , '127.0.0.1' , 1583379954) [ RunTime:0.142891s ]
---------------------------------------------------------------
[ 2020-03-05T11:45:55+08:00 ] 127.0.0.1 POST www.jfmblog.com/admin/index/index
[ sql ] [ DB ] CONNECT:[ UseTime:0.012658s ] mysql:host=127.0.0.1;dbname=jfmblog;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_auth_group_access` [ RunTime:0.012157s ]
[ sql ] [ SQL ] SELECT `aga`.`uid`,`aga`.`group_id`,`ag`.`id`,`ag`.`pid`,`ag`.`name`,`ag`.`rules` FROM `fa_auth_group_access` `aga` LEFT JOIN `fa_auth_group` `ag` ON `aga`.`group_id`=`ag`.`id` WHERE  (  aga.uid='1' and ag.status='normal' ) [ RunTime:0.000790s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_auth_rule` [ RunTime:0.005278s ]
[ sql ] [ SQL ] SELECT `id`,`pid`,`condition`,`icon`,`name`,`title`,`ismenu` FROM `fa_auth_rule` WHERE  `status` = 'normal' [ RunTime:0.001132s ]
[ sql ] [ SQL ] SELECT `name`,`pid` FROM `fa_auth_rule` WHERE  `status` = 'normal'  AND `ismenu` = 0  AND `name` LIKE '%/index' [ RunTime:0.001043s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_admin_log` [ RunTime:0.012163s ]
[ sql ] [ SQL ] INSERT INTO `fa_admin_log` (`title` , `content` , `url` , `admin_id` , `username` , `useragent` , `ip` , `createtime`) VALUES ('' , '{\"action\":\"refreshmenu\"}' , '/admin/index/index' , 1 , 'admin' , 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/80.0.3970.5 Safari/537.36' , '127.0.0.1' , 1583379955) [ RunTime:0.043885s ]
---------------------------------------------------------------
[ 2020-03-05T11:46:03+08:00 ] 127.0.0.1 GET www.jfmblog.com/admin/blog/post/index?sort=weigh&order=desc&offset=0&limit=10&filter=%7B%7D&op=%7B%7D&_=1583379874819
[ sql ] [ DB ] CONNECT:[ UseTime:0.012286s ] mysql:host=127.0.0.1;dbname=jfmblog;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_auth_group_access` [ RunTime:0.011719s ]
[ sql ] [ SQL ] SELECT `aga`.`uid`,`aga`.`group_id`,`ag`.`id`,`ag`.`pid`,`ag`.`name`,`ag`.`rules` FROM `fa_auth_group_access` `aga` LEFT JOIN `fa_auth_group` `ag` ON `aga`.`group_id`=`ag`.`id` WHERE  (  aga.uid='1' and ag.status='normal' ) [ RunTime:0.000800s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_auth_rule` [ RunTime:0.004873s ]
[ sql ] [ SQL ] SELECT `id`,`pid`,`condition`,`icon`,`name`,`title`,`ismenu` FROM `fa_auth_rule` WHERE  `status` = 'normal' [ RunTime:0.001135s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_blog_category` [ RunTime:0.005037s ]
[ sql ] [ SQL ] SELECT * FROM `fa_blog_category` ORDER BY `weigh` DESC,`id` DESC [ RunTime:0.000865s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_blog_post` [ RunTime:0.005399s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `fa_blog_post` `blog_post` LEFT JOIN `fa_blog_category` `category` ON `blog_post`.`category_id`=`category`.`id` ORDER BY `blog_post`.`weigh` DESC LIMIT 1 [ RunTime:0.000789s ]
[ sql ] [ SQL ] SELECT `blog_post`.`id`,`blog_post`.`category_id`,`blog_post`.`flag`,`blog_post`.`title`,`blog_post`.`summary`,`blog_post`.`content`,`blog_post`.`thumb`,`blog_post`.`image`,`blog_post`.`keywords`,`blog_post`.`description`,`blog_post`.`views`,`blog_post`.`comments`,`blog_post`.`createtime`,`blog_post`.`updatetime`,`blog_post`.`weigh`,`blog_post`.`status`,category.id AS category__id,category.pid AS category__pid,category.name AS category__name,category.nickname AS category__nickname,category.flag AS category__flag,category.image AS category__image,category.keywords AS category__keywords,category.description AS category__description,category.diyname AS category__diyname,category.createtime AS category__createtime,category.updatetime AS category__updatetime,category.weigh AS category__weigh,category.status AS category__status FROM `fa_blog_post` `blog_post` LEFT JOIN `fa_blog_category` `category` ON `blog_post`.`category_id`=`category`.`id` ORDER BY `blog_post`.`weigh` DESC LIMIT 0,10 [ RunTime:0.000962s ]
---------------------------------------------------------------
[ 2020-03-05T11:46:05+08:00 ] 127.0.0.1 GET www.jfmblog.com/admin/blog/post/add?dialog=1
[ sql ] [ DB ] CONNECT:[ UseTime:0.012314s ] mysql:host=127.0.0.1;dbname=jfmblog;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_auth_group_access` [ RunTime:0.004806s ]
[ sql ] [ SQL ] SELECT `aga`.`uid`,`aga`.`group_id`,`ag`.`id`,`ag`.`pid`,`ag`.`name`,`ag`.`rules` FROM `fa_auth_group_access` `aga` LEFT JOIN `fa_auth_group` `ag` ON `aga`.`group_id`=`ag`.`id` WHERE  (  aga.uid='1' and ag.status='normal' ) [ RunTime:0.000869s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_auth_rule` [ RunTime:0.005050s ]
[ sql ] [ SQL ] SELECT `id`,`pid`,`condition`,`icon`,`name`,`title`,`ismenu` FROM `fa_auth_rule` WHERE  `status` = 'normal' [ RunTime:0.001170s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_blog_category` [ RunTime:0.005126s ]
[ sql ] [ SQL ] SELECT * FROM `fa_blog_category` ORDER BY `weigh` DESC,`id` DESC [ RunTime:0.000665s ]
---------------------------------------------------------------
[ 2020-03-05T11:47:04+08:00 ] 127.0.0.1 POST www.jfmblog.com/admin/blog/post/add?dialog=1
[ sql ] [ DB ] CONNECT:[ UseTime:0.012089s ] mysql:host=127.0.0.1;dbname=jfmblog;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_auth_group_access` [ RunTime:0.005730s ]
[ sql ] [ SQL ] SELECT `aga`.`uid`,`aga`.`group_id`,`ag`.`id`,`ag`.`pid`,`ag`.`name`,`ag`.`rules` FROM `fa_auth_group_access` `aga` LEFT JOIN `fa_auth_group` `ag` ON `aga`.`group_id`=`ag`.`id` WHERE  (  aga.uid='1' and ag.status='normal' ) [ RunTime:0.000770s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_auth_rule` [ RunTime:0.004919s ]
[ sql ] [ SQL ] SELECT `id`,`pid`,`condition`,`icon`,`name`,`title`,`ismenu` FROM `fa_auth_rule` WHERE  `status` = 'normal' [ RunTime:0.001153s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_blog_category` [ RunTime:0.005194s ]
[ sql ] [ SQL ] SELECT * FROM `fa_blog_category` ORDER BY `weigh` DESC,`id` DESC [ RunTime:0.000778s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_blog_post` [ RunTime:0.005009s ]
[ sql ] [ SQL ] INSERT INTO `fa_blog_post` (`category_id` , `flag` , `title` , `summary` , `content` , `thumb` , `image` , `keywords` , `description` , `views` , `comments` , `weigh` , `status` , `createtime` , `updatetime`) VALUES (3 , 'hot' , '通用爬虫' , '通用爬虫' , 'import requests\r\nimport time\r\n\r\n\r\nclass TiebaSpider:\r\n    def __init__(self, name):\r\n        self.name = name\r\n        self.url = \"https://tieba.baidu.com/f?kw=\"+name+\"&ie=utf-8&pn={}\"\r\n        self.headers = {\"User-Agent\": \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36\"\r\n                                      \" (KHTML, like Gecko) Chrome/80.0.3970.5 Safari/537.36\"}\r\n\r\n    def get_url_list(self):\r\n        \'\'\'构造url列表\'\'\'\r\n        url_list = []\r\n        for i in range(1000):\r\n            url_list.append(self.url.format(i * 50))\r\n        return url_list\r\n\r\n    def parse_url(self, url):\r\n        \'\'\'解析url\'\'\'\r\n        response = requests.get(url, headers=self.headers)\r\n        return response.content.decode()\r\n\r\n    def save_html(self, html_str, page_num):\r\n        file_path = \"{}--第{}页.html\".format(self.name, page_num)\r\n        with open(file_path, \"w\", encoding=\"utf-8\") as f:\r\n            f.write(html_str)\r\n\r\n    def run(self):\r\n        # 1.构造url列表\r\n        url_list = self.get_url_list()\r\n        # 2.遍历，发送请求，获取相应\r\n        for url in url_list:\r\n            html_str = self.parse_url(url)\r\n            # 3.保存\r\n            page_num = url_list.index(url) + 1\r\n            self.save_html(html_str, page_num)\r\n            time.sleep(10)\r\n\r\n\r\nif __name__ == \'__main__\':\r\n    tieba = TiebaSpider(\"吴亦凡\")\r\n    tieba.run()\r\n' , '' , '' , '' , '' , 0 , 0 , 0 , 'normal' , 1583380023 , 1583380023) [ RunTime:0.002061s ]
[ sql ] [ SQL ] UPDATE `fa_blog_post`  SET `category_id`=3,`flag`='hot',`title`='通用爬虫',`summary`='通用爬虫',`content`='import requests\r\nimport time\r\n\r\n\r\nclass TiebaSpider:\r\n    def __init__(self, name):\r\n        self.name = name\r\n        self.url = \"https://tieba.baidu.com/f?kw=\"+name+\"&ie=utf-8&pn={}\"\r\n        self.headers = {\"User-Agent\": \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36\"\r\n                                      \" (KHTML, like Gecko) Chrome/80.0.3970.5 Safari/537.36\"}\r\n\r\n    def get_url_list(self):\r\n        \'\'\'构造url列表\'\'\'\r\n        url_list = []\r\n        for i in range(1000):\r\n            url_list.append(self.url.format(i * 50))\r\n        return url_list\r\n\r\n    def parse_url(self, url):\r\n        \'\'\'解析url\'\'\'\r\n        response = requests.get(url, headers=self.headers)\r\n        return response.content.decode()\r\n\r\n    def save_html(self, html_str, page_num):\r\n        file_path = \"{}--第{}页.html\".format(self.name, page_num)\r\n        with open(file_path, \"w\", encoding=\"utf-8\") as f:\r\n            f.write(html_str)\r\n\r\n    def run(self):\r\n        # 1.构造url列表\r\n        url_list = self.get_url_list()\r\n        # 2.遍历，发送请求，获取相应\r\n        for url in url_list:\r\n            html_str = self.parse_url(url)\r\n            # 3.保存\r\n            page_num = url_list.index(url) + 1\r\n            self.save_html(html_str, page_num)\r\n            time.sleep(10)\r\n\r\n\r\nif __name__ == \'__main__\':\r\n    tieba = TiebaSpider(\"吴亦凡\")\r\n    tieba.run()\r\n',`thumb`='',`image`='',`keywords`='',`description`='',`views`=0,`comments`=0,`weigh`=7,`status`='normal',`createtime`=1583380023,`updatetime`=1583380023  WHERE  `id` = 7 [ RunTime:0.002323s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_admin_log` [ RunTime:0.006116s ]
[ sql ] [ SQL ] INSERT INTO `fa_admin_log` (`title` , `content` , `url` , `admin_id` , `username` , `useragent` , `ip` , `createtime`) VALUES ('博客管理 日志管理 添加' , '{\"dialog\":\"1\",\"row\":{\"category_id\":\"3\",\"flag\":[\"hot\"],\"title\":\"\\u901a\\u7528\\u722c\\u866b\",\"summary\":\"\\u901a\\u7528\\u722c\\u866b\",\"content\":\"import requests\\r\\nimport time\\r\\n\\r\\n\\r\\nclass TiebaSpider:\\r\\n    def __init__(self, name):\\r\\n        self.name = name\\r\\n        self.url = &quot;https:\\/\\/tieba.baidu.com\\/f?kw=&quot;+name+&quot;&amp;ie=utf-8&amp;pn={}&quot;\\r\\n        self.headers = {&quot;User-Agent&quot;: &quot;Mozilla\\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\\/537.36&quot;\\r\\n                                      &quot; (KHTML, like Gecko) Chrome\\/80.0.3970.5 Safari\\/537.36&quot;}\\r\\n\\r\\n    def get_url_list(self):\\r\\n        \'\'\'\\u6784\\u9020url\\u5217\\u8868\'\'\'\\r\\n        url_list = []\\r\\n        for i in range(1000):\\r\\n            url_list.append(self.url.format(i * 50))\\r\\n        return url_list\\r\\n\\r\\n    def parse_url(self, url):\\r\\n        \'\'\'\\u89e3\\u6790url\'\'\'\\r\\n        response = requests.get(url, headers=self.headers)\\r\\n        return response.content.decode()\\r\\n\\r\\n    def save_html(self, html_str, page_num):\\r\\n        file_path = &quot;{}--\\u7b2c{}\\u9875.html&quot;.format(self.name, page_num)\\r\\n        with open(file_path, &quot;w&quot;, encoding=&quot;utf-8&quot;) as f:\\r\\n            f.write(html_str)\\r\\n\\r\\n    def run(self):\\r\\n        # 1.\\u6784\\u9020url\\u5217\\u8868\\r\\n        url_list = self.get_url_list()\\r\\n        # 2.\\u904d\\u5386\\uff0c\\u53d1\\u9001\\u8bf7\\u6c42\\uff0c\\u83b7\\u53d6\\u76f8\\u5e94\\r\\n        for url in url_list:\\r\\n            html_str = self.parse_url(url)\\r\\n            # 3.\\u4fdd\\u5b58\\r\\n            page_num = url_list.index(url) + 1\\r\\n            self.save_html(html_str, page_num)\\r\\n            time.sleep(10)\\r\\n\\r\\n\\r\\nif __name__ == \'__main__\':\\r\\n    tieba = TiebaSpider(&quot;\\u5434\\u4ea6\\u51e1&quot;)\\r\\n    tieba.run()\",\"thumb\":\"\",\"image\":\"\",\"keywords\":\"\",\"description\":\"\",\"views\":\"0\",\"comments\":\"0\",\"weigh\":\"0\",\"status\":\"normal\"}}' , '/admin/blog/post/add?dialog=1' , 1 , 'admin' , 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/80.0.3970.5 Safari/537.36' , '127.0.0.1' , 1583380023) [ RunTime:0.057215s ]
---------------------------------------------------------------
[ 2020-03-05T11:47:04+08:00 ] 127.0.0.1 GET www.jfmblog.com/admin/blog/post/index?sort=weigh&order=desc&offset=0&limit=10&filter=%7B%7D&op=%7B%7D&_=1583379874820
[ sql ] [ DB ] CONNECT:[ UseTime:0.012937s ] mysql:host=127.0.0.1;dbname=jfmblog;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_auth_group_access` [ RunTime:0.008886s ]
[ sql ] [ SQL ] SELECT `aga`.`uid`,`aga`.`group_id`,`ag`.`id`,`ag`.`pid`,`ag`.`name`,`ag`.`rules` FROM `fa_auth_group_access` `aga` LEFT JOIN `fa_auth_group` `ag` ON `aga`.`group_id`=`ag`.`id` WHERE  (  aga.uid='1' and ag.status='normal' ) [ RunTime:0.000782s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_auth_rule` [ RunTime:0.005260s ]
[ sql ] [ SQL ] SELECT `id`,`pid`,`condition`,`icon`,`name`,`title`,`ismenu` FROM `fa_auth_rule` WHERE  `status` = 'normal' [ RunTime:0.001364s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_blog_category` [ RunTime:0.005936s ]
[ sql ] [ SQL ] SELECT * FROM `fa_blog_category` ORDER BY `weigh` DESC,`id` DESC [ RunTime:0.000999s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_blog_post` [ RunTime:0.005066s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `fa_blog_post` `blog_post` LEFT JOIN `fa_blog_category` `category` ON `blog_post`.`category_id`=`category`.`id` ORDER BY `blog_post`.`weigh` DESC LIMIT 1 [ RunTime:0.000783s ]
[ sql ] [ SQL ] SELECT `blog_post`.`id`,`blog_post`.`category_id`,`blog_post`.`flag`,`blog_post`.`title`,`blog_post`.`summary`,`blog_post`.`content`,`blog_post`.`thumb`,`blog_post`.`image`,`blog_post`.`keywords`,`blog_post`.`description`,`blog_post`.`views`,`blog_post`.`comments`,`blog_post`.`createtime`,`blog_post`.`updatetime`,`blog_post`.`weigh`,`blog_post`.`status`,category.id AS category__id,category.pid AS category__pid,category.name AS category__name,category.nickname AS category__nickname,category.flag AS category__flag,category.image AS category__image,category.keywords AS category__keywords,category.description AS category__description,category.diyname AS category__diyname,category.createtime AS category__createtime,category.updatetime AS category__updatetime,category.weigh AS category__weigh,category.status AS category__status FROM `fa_blog_post` `blog_post` LEFT JOIN `fa_blog_category` `category` ON `blog_post`.`category_id`=`category`.`id` ORDER BY `blog_post`.`weigh` DESC LIMIT 0,10 [ RunTime:0.000959s ]
---------------------------------------------------------------
[ 2020-03-05T11:47:13+08:00 ] 127.0.0.1 GET www.jfmblog.com/
[ sql ] [ DB ] CONNECT:[ UseTime:0.012145s ] mysql:host=127.0.0.1;dbname=jfmblog;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_blog_category` [ RunTime:0.005075s ]
[ sql ] [ SQL ] SELECT * FROM `fa_blog_category` WHERE  `status` = 'normal' ORDER BY `weigh` DESC,`id` DESC [ RunTime:0.000910s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_blog_post` [ RunTime:0.004903s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `fa_blog_post` WHERE  `status` = 'normal' LIMIT 1 [ RunTime:0.000880s ]
[ sql ] [ SQL ] SELECT * FROM `fa_blog_post` WHERE  `status` = 'normal' ORDER BY `weigh` DESC,`id` DESC LIMIT 0,10 [ RunTime:0.000922s ]
[ sql ] [ SQL ] SELECT * FROM `fa_blog_category` WHERE  `id` IN (3,2,1) [ RunTime:0.001110s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_blog_block` [ RunTime:0.024970s ]
[ sql ] [ SQL ] SELECT * FROM `fa_blog_block` WHERE  `name` = 'sidebarad1'  AND `status` = 'normal' LIMIT 1 [ RunTime:0.001000s ]
[ sql ] [ SQL ] SELECT * FROM `fa_blog_block` WHERE  `name` = 'sidebarad2'  AND `status` = 'normal' LIMIT 1 [ RunTime:0.000966s ]
[ sql ] [ SQL ] SELECT * FROM `fa_blog_block` WHERE  `status` = 'normal'  AND `name` = 'indexfocus' ORDER BY `id` DESC LIMIT 5 [ RunTime:0.001012s ]
[ sql ] [ SQL ] SELECT * FROM `fa_blog_block` WHERE  `status` = 'normal'  AND `name` = 'indexsmallfocus' ORDER BY `id` DESC LIMIT 4 [ RunTime:0.001024s ]
[ sql ] [ SQL ] SELECT * FROM `fa_blog_post` WHERE  `status` = 'normal' ORDER BY `createtime` DESC LIMIT 10 [ RunTime:0.000917s ]
[ sql ] [ SQL ] SELECT * FROM `fa_blog_category` WHERE  `id` IN (3,2,1) [ RunTime:0.000977s ]
[ sql ] [ SQL ] SELECT * FROM `fa_blog_post` WHERE  `status` = 'normal'  AND (  (FIND_IN_SET('recommend', flag)) ) ORDER BY `createtime` DESC LIMIT 10 [ RunTime:0.000849s ]
[ sql ] [ SQL ] SELECT * FROM `fa_blog_category` WHERE  `id` IN (2) [ RunTime:0.000840s ]
---------------------------------------------------------------
[ 2020-03-05T11:47:19+08:00 ] 127.0.0.1 GET www.jfmblog.com/p/7.html
[ sql ] [ DB ] CONNECT:[ UseTime:0.012845s ] mysql:host=127.0.0.1;dbname=jfmblog;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_blog_post` [ RunTime:0.012281s ]
[ sql ] [ SQL ] SELECT * FROM `fa_blog_post` WHERE  `id` = 7 LIMIT 1 [ RunTime:0.001027s ]
[ sql ] [ SQL ] UPDATE `fa_blog_post`  SET `views`=`views`+1  WHERE  `id` = 7 [ RunTime:0.090710s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_blog_category` [ RunTime:0.008001s ]
[ sql ] [ SQL ] SELECT * FROM `fa_blog_category` WHERE  `id` = 3 LIMIT 1 [ RunTime:0.001358s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_blog_comment` [ RunTime:0.036912s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `fa_blog_comment` WHERE  `post_id` = 7  AND `pid` = 0  AND `status` = 'normal' LIMIT 1 [ RunTime:0.001149s ]
[ sql ] [ SQL ] SELECT * FROM `fa_blog_comment` WHERE  `post_id` = 7  AND `pid` = 0  AND `status` = 'normal' ORDER BY `id` DESC LIMIT 0,10 [ RunTime:0.001171s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_blog_block` [ RunTime:0.005001s ]
[ sql ] [ SQL ] SELECT * FROM `fa_blog_post` WHERE  `status` = 'normal' ORDER BY `createtime` DESC LIMIT 3 [ RunTime:0.000907s ]
[ sql ] [ SQL ] SELECT * FROM `fa_blog_category` WHERE  `id` IN (3,2) [ RunTime:0.000939s ]
[ sql ] [ SQL ] SELECT * FROM `fa_blog_category` WHERE  `id` IN (3,2,1) [ RunTime:0.001090s ]
[ sql ] [ SQL ] SELECT * FROM `fa_blog_category` WHERE  `id` IN (2) [ RunTime:0.000770s ]
---------------------------------------------------------------
[ 2020-03-05T11:47:42+08:00 ] 127.0.0.1 GET www.jfmblog.com/admin/blog/post/edit/ids/7?dialog=1
[ sql ] [ DB ] CONNECT:[ UseTime:0.011981s ] mysql:host=127.0.0.1;dbname=jfmblog;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_auth_group_access` [ RunTime:0.004704s ]
[ sql ] [ SQL ] SELECT `aga`.`uid`,`aga`.`group_id`,`ag`.`id`,`ag`.`pid`,`ag`.`name`,`ag`.`rules` FROM `fa_auth_group_access` `aga` LEFT JOIN `fa_auth_group` `ag` ON `aga`.`group_id`=`ag`.`id` WHERE  (  aga.uid='1' and ag.status='normal' ) [ RunTime:0.000794s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_auth_rule` [ RunTime:0.005874s ]
[ sql ] [ SQL ] SELECT `id`,`pid`,`condition`,`icon`,`name`,`title`,`ismenu` FROM `fa_auth_rule` WHERE  `status` = 'normal' [ RunTime:0.001108s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_blog_category` [ RunTime:0.005934s ]
[ sql ] [ SQL ] SELECT * FROM `fa_blog_category` ORDER BY `weigh` DESC,`id` DESC [ RunTime:0.000829s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_blog_post` [ RunTime:0.005046s ]
[ sql ] [ SQL ] SELECT * FROM `fa_blog_post` WHERE  `id` = 7 LIMIT 1 [ RunTime:0.000925s ]
---------------------------------------------------------------
[ 2020-03-05T11:48:40+08:00 ] 127.0.0.1 POST www.jfmblog.com/admin/blog/post/edit/ids/7?dialog=1
[ sql ] [ DB ] CONNECT:[ UseTime:0.012172s ] mysql:host=127.0.0.1;dbname=jfmblog;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_auth_group_access` [ RunTime:0.012295s ]
[ sql ] [ SQL ] SELECT `aga`.`uid`,`aga`.`group_id`,`ag`.`id`,`ag`.`pid`,`ag`.`name`,`ag`.`rules` FROM `fa_auth_group_access` `aga` LEFT JOIN `fa_auth_group` `ag` ON `aga`.`group_id`=`ag`.`id` WHERE  (  aga.uid='1' and ag.status='normal' ) [ RunTime:0.000788s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_auth_rule` [ RunTime:0.005676s ]
[ sql ] [ SQL ] SELECT `id`,`pid`,`condition`,`icon`,`name`,`title`,`ismenu` FROM `fa_auth_rule` WHERE  `status` = 'normal' [ RunTime:0.001103s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_blog_category` [ RunTime:0.005094s ]
[ sql ] [ SQL ] SELECT * FROM `fa_blog_category` ORDER BY `weigh` DESC,`id` DESC [ RunTime:0.000684s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_blog_post` [ RunTime:0.005007s ]
[ sql ] [ SQL ] SELECT * FROM `fa_blog_post` WHERE  `id` = 7 LIMIT 1 [ RunTime:0.000804s ]
[ sql ] [ SQL ] UPDATE `fa_blog_post`  SET `content`='```\r\nimport requests\r\nimport time\r\n\r\n\r\nclass TiebaSpider:\r\n    def __init__(self, name):\r\n        self.name = name\r\n        self.url = \"https://tieba.baidu.com/f?kw=\"+name+\"&ie=utf-8&pn={}\"\r\n        self.headers = {\"User-Agent\": \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36\"\r\n                                      \" (KHTML, like Gecko) Chrome/80.0.3970.5 Safari/537.36\"}\r\n\r\n    def get_url_list(self):\r\n        \'\'\'构造url列表\'\'\'\r\n        url_list = []\r\n        for i in range(1000):\r\n            url_list.append(self.url.format(i * 50))\r\n        return url_list\r\n\r\n    def parse_url(self, url):\r\n        \'\'\'解析url\'\'\'\r\n        response = requests.get(url, headers=self.headers)\r\n        return response.content.decode()\r\n\r\n    def save_html(self, html_str, page_num):\r\n        file_path = \"{}--第{}页.html\".format(self.name, page_num)\r\n        with open(file_path, \"w\", encoding=\"utf-8\") as f:\r\n            f.write(html_str)\r\n\r\n    def run(self):\r\n        # 1.构造url列表\r\n        url_list = self.get_url_list()\r\n        # 2.遍历，发送请求，获取相应\r\n        for url in url_list:\r\n            html_str = self.parse_url(url)\r\n            # 3.保存\r\n            page_num = url_list.index(url) + 1\r\n            self.save_html(html_str, page_num)\r\n            time.sleep(10)\r\n\r\n\r\nif __name__ == \'__main__\':\r\n    tieba = TiebaSpider(\"吴亦凡\")\r\n    tieba.run()\r\n\r\n```',`comments`=0,`updatetime`=1583380119  WHERE  `id` = 7 [ RunTime:0.001045s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_admin_log` [ RunTime:0.012472s ]
[ sql ] [ SQL ] INSERT INTO `fa_admin_log` (`title` , `content` , `url` , `admin_id` , `username` , `useragent` , `ip` , `createtime`) VALUES ('博客管理 日志管理 修改' , '{\"dialog\":\"1\",\"row\":{\"category_id\":\"3\",\"flag\":[\"hot\"],\"title\":\"\\u901a\\u7528\\u722c\\u866b\",\"summary\":\"\\u901a\\u7528\\u722c\\u866b\",\"content\":\"```\\r\\nimport requests\\r\\nimport time\\r\\n\\r\\n\\r\\nclass TiebaSpider:\\r\\n    def __init__(self, name):\\r\\n        self.name = name\\r\\n        self.url = &quot;https:\\/\\/tieba.baidu.com\\/f?kw=&quot;+name+&quot;&amp;ie=utf-8&amp;pn={}&quot;\\r\\n        self.headers = {&quot;User-Agent&quot;: &quot;Mozilla\\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\\/537.36&quot;\\r\\n                                      &quot; (KHTML, like Gecko) Chrome\\/80.0.3970.5 Safari\\/537.36&quot;}\\r\\n\\r\\n    def get_url_list(self):\\r\\n        \'\'\'\\u6784\\u9020url\\u5217\\u8868\'\'\'\\r\\n        url_list = []\\r\\n        for i in range(1000):\\r\\n            url_list.append(self.url.format(i * 50))\\r\\n        return url_list\\r\\n\\r\\n    def parse_url(self, url):\\r\\n        \'\'\'\\u89e3\\u6790url\'\'\'\\r\\n        response = requests.get(url, headers=self.headers)\\r\\n        return response.content.decode()\\r\\n\\r\\n    def save_html(self, html_str, page_num):\\r\\n        file_path = &quot;{}--\\u7b2c{}\\u9875.html&quot;.format(self.name, page_num)\\r\\n        with open(file_path, &quot;w&quot;, encoding=&quot;utf-8&quot;) as f:\\r\\n            f.write(html_str)\\r\\n\\r\\n    def run(self):\\r\\n        # 1.\\u6784\\u9020url\\u5217\\u8868\\r\\n        url_list = self.get_url_list()\\r\\n        # 2.\\u904d\\u5386\\uff0c\\u53d1\\u9001\\u8bf7\\u6c42\\uff0c\\u83b7\\u53d6\\u76f8\\u5e94\\r\\n        for url in url_list:\\r\\n            html_str = self.parse_url(url)\\r\\n            # 3.\\u4fdd\\u5b58\\r\\n            page_num = url_list.index(url) + 1\\r\\n            self.save_html(html_str, page_num)\\r\\n            time.sleep(10)\\r\\n\\r\\n\\r\\nif __name__ == \'__main__\':\\r\\n    tieba = TiebaSpider(&quot;\\u5434\\u4ea6\\u51e1&quot;)\\r\\n    tieba.run()\\r\\n\\r\\n```\",\"thumb\":\"\",\"image\":\"\",\"keywords\":\"\",\"description\":\"\",\"views\":\"1\",\"comments\":\"0\",\"weigh\":\"7\",\"status\":\"normal\"},\"ids\":\"7\"}' , '/admin/blog/post/edit/ids/7?dialog=1' , 1 , 'admin' , 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/80.0.3970.5 Safari/537.36' , '127.0.0.1' , 1583380119) [ RunTime:0.132250s ]
---------------------------------------------------------------
[ 2020-03-05T11:48:40+08:00 ] 127.0.0.1 GET www.jfmblog.com/admin/blog/post/index?sort=weigh&order=desc&offset=0&limit=10&filter=%7B%7D&op=%7B%7D&_=1583379874821
[ sql ] [ DB ] CONNECT:[ UseTime:0.012364s ] mysql:host=127.0.0.1;dbname=jfmblog;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_auth_group_access` [ RunTime:0.012941s ]
[ sql ] [ SQL ] SELECT `aga`.`uid`,`aga`.`group_id`,`ag`.`id`,`ag`.`pid`,`ag`.`name`,`ag`.`rules` FROM `fa_auth_group_access` `aga` LEFT JOIN `fa_auth_group` `ag` ON `aga`.`group_id`=`ag`.`id` WHERE  (  aga.uid='1' and ag.status='normal' ) [ RunTime:0.000788s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_auth_rule` [ RunTime:0.005623s ]
[ sql ] [ SQL ] SELECT `id`,`pid`,`condition`,`icon`,`name`,`title`,`ismenu` FROM `fa_auth_rule` WHERE  `status` = 'normal' [ RunTime:0.001129s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_blog_category` [ RunTime:0.005665s ]
[ sql ] [ SQL ] SELECT * FROM `fa_blog_category` ORDER BY `weigh` DESC,`id` DESC [ RunTime:0.000812s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_blog_post` [ RunTime:0.005564s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `fa_blog_post` `blog_post` LEFT JOIN `fa_blog_category` `category` ON `blog_post`.`category_id`=`category`.`id` ORDER BY `blog_post`.`weigh` DESC LIMIT 1 [ RunTime:0.000734s ]
[ sql ] [ SQL ] SELECT `blog_post`.`id`,`blog_post`.`category_id`,`blog_post`.`flag`,`blog_post`.`title`,`blog_post`.`summary`,`blog_post`.`content`,`blog_post`.`thumb`,`blog_post`.`image`,`blog_post`.`keywords`,`blog_post`.`description`,`blog_post`.`views`,`blog_post`.`comments`,`blog_post`.`createtime`,`blog_post`.`updatetime`,`blog_post`.`weigh`,`blog_post`.`status`,category.id AS category__id,category.pid AS category__pid,category.name AS category__name,category.nickname AS category__nickname,category.flag AS category__flag,category.image AS category__image,category.keywords AS category__keywords,category.description AS category__description,category.diyname AS category__diyname,category.createtime AS category__createtime,category.updatetime AS category__updatetime,category.weigh AS category__weigh,category.status AS category__status FROM `fa_blog_post` `blog_post` LEFT JOIN `fa_blog_category` `category` ON `blog_post`.`category_id`=`category`.`id` ORDER BY `blog_post`.`weigh` DESC LIMIT 0,10 [ RunTime:0.000913s ]
---------------------------------------------------------------
[ 2020-03-05T11:48:44+08:00 ] 127.0.0.1 GET www.jfmblog.com/p/7.html
[ sql ] [ DB ] CONNECT:[ UseTime:0.018811s ] mysql:host=127.0.0.1;dbname=jfmblog;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_blog_category` [ RunTime:0.012652s ]
[ sql ] [ SQL ] SELECT * FROM `fa_blog_category` WHERE  `status` = 'normal' ORDER BY `weigh` DESC,`id` DESC [ RunTime:0.000872s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_blog_post` [ RunTime:0.004852s ]
[ sql ] [ SQL ] SELECT * FROM `fa_blog_post` WHERE  `id` = 7 LIMIT 1 [ RunTime:0.000838s ]
[ sql ] [ SQL ] UPDATE `fa_blog_post`  SET `views`=`views`+1  WHERE  `id` = 7 [ RunTime:0.041326s ]
[ sql ] [ SQL ] SELECT * FROM `fa_blog_category` WHERE  `id` = 3 LIMIT 1 [ RunTime:0.000936s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_blog_comment` [ RunTime:0.004882s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `fa_blog_comment` WHERE  `post_id` = 7  AND `pid` = 0  AND `status` = 'normal' LIMIT 1 [ RunTime:0.001066s ]
[ sql ] [ SQL ] SELECT * FROM `fa_blog_comment` WHERE  `post_id` = 7  AND `pid` = 0  AND `status` = 'normal' ORDER BY `id` DESC LIMIT 0,10 [ RunTime:0.001075s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_blog_block` [ RunTime:0.005020s ]
[ sql ] [ SQL ] SELECT * FROM `fa_blog_block` WHERE  `name` = 'sidebarad1'  AND `status` = 'normal' LIMIT 1 [ RunTime:0.000940s ]
[ sql ] [ SQL ] SELECT * FROM `fa_blog_block` WHERE  `name` = 'sidebarad2'  AND `status` = 'normal' LIMIT 1 [ RunTime:0.000986s ]
[ sql ] [ SQL ] SELECT * FROM `fa_blog_post` WHERE  `status` = 'normal' ORDER BY `createtime` DESC LIMIT 3 [ RunTime:0.000966s ]
[ sql ] [ SQL ] SELECT * FROM `fa_blog_category` WHERE  `id` IN (3,2) [ RunTime:0.000947s ]
[ sql ] [ SQL ] SELECT * FROM `fa_blog_post` WHERE  `status` = 'normal' ORDER BY `createtime` DESC LIMIT 10 [ RunTime:0.000951s ]
[ sql ] [ SQL ] SELECT * FROM `fa_blog_category` WHERE  `id` IN (3,2,1) [ RunTime:0.001094s ]
[ sql ] [ SQL ] SELECT * FROM `fa_blog_post` WHERE  `status` = 'normal'  AND (  (FIND_IN_SET('recommend', flag)) ) ORDER BY `createtime` DESC LIMIT 10 [ RunTime:0.000898s ]
[ sql ] [ SQL ] SELECT * FROM `fa_blog_category` WHERE  `id` IN (2) [ RunTime:0.000817s ]
---------------------------------------------------------------
[ 2020-03-05T11:48:49+08:00 ] 127.0.0.1 GET www.jfmblog.com/p/7.html
[ sql ] [ DB ] CONNECT:[ UseTime:0.012536s ] mysql:host=127.0.0.1;dbname=jfmblog;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_blog_post` [ RunTime:0.012334s ]
[ sql ] [ SQL ] SELECT * FROM `fa_blog_post` WHERE  `id` = 7 LIMIT 1 [ RunTime:0.000953s ]
[ sql ] [ SQL ] UPDATE `fa_blog_post`  SET `views`=`views`+1  WHERE  `id` = 7 [ RunTime:0.042798s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_blog_category` [ RunTime:0.005278s ]
[ sql ] [ SQL ] SELECT * FROM `fa_blog_category` WHERE  `id` = 3 LIMIT 1 [ RunTime:0.000821s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_blog_comment` [ RunTime:0.005145s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `fa_blog_comment` WHERE  `post_id` = 7  AND `pid` = 0  AND `status` = 'normal' LIMIT 1 [ RunTime:0.001068s ]
[ sql ] [ SQL ] SELECT * FROM `fa_blog_comment` WHERE  `post_id` = 7  AND `pid` = 0  AND `status` = 'normal' ORDER BY `id` DESC LIMIT 0,10 [ RunTime:0.001068s ]
[ sql ] [ SQL ] SELECT * FROM `fa_blog_category` WHERE  `id` IN (3,2) [ RunTime:0.000988s ]
[ sql ] [ SQL ] SELECT * FROM `fa_blog_category` WHERE  `id` IN (3,2,1) [ RunTime:0.000988s ]
[ sql ] [ SQL ] SELECT * FROM `fa_blog_category` WHERE  `id` IN (2) [ RunTime:0.000791s ]
---------------------------------------------------------------
[ 2020-03-05T11:48:57+08:00 ] 127.0.0.1 GET www.jfmblog.com/p/7.html
[ sql ] [ DB ] CONNECT:[ UseTime:0.012332s ] mysql:host=127.0.0.1;dbname=jfmblog;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_blog_category` [ RunTime:0.005075s ]
[ sql ] [ SQL ] SELECT * FROM `fa_blog_category` WHERE  `status` = 'normal' ORDER BY `weigh` DESC,`id` DESC [ RunTime:0.000884s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_blog_post` [ RunTime:0.004909s ]
[ sql ] [ SQL ] SELECT * FROM `fa_blog_post` WHERE  `id` = 7 LIMIT 1 [ RunTime:0.001060s ]
[ sql ] [ SQL ] UPDATE `fa_blog_post`  SET `views`=`views`+1  WHERE  `id` = 7 [ RunTime:0.030008s ]
[ sql ] [ SQL ] SELECT * FROM `fa_blog_category` WHERE  `id` = 3 LIMIT 1 [ RunTime:0.000863s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_blog_comment` [ RunTime:0.004898s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `fa_blog_comment` WHERE  `post_id` = 7  AND `pid` = 0  AND `status` = 'normal' LIMIT 1 [ RunTime:0.001109s ]
[ sql ] [ SQL ] SELECT * FROM `fa_blog_comment` WHERE  `post_id` = 7  AND `pid` = 0  AND `status` = 'normal' ORDER BY `id` DESC LIMIT 0,10 [ RunTime:0.000966s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_blog_block` [ RunTime:0.005176s ]
[ sql ] [ SQL ] SELECT * FROM `fa_blog_block` WHERE  `name` = 'sidebarad1'  AND `status` = 'normal' LIMIT 1 [ RunTime:0.000964s ]
[ sql ] [ SQL ] SELECT * FROM `fa_blog_block` WHERE  `name` = 'sidebarad2'  AND `status` = 'normal' LIMIT 1 [ RunTime:0.000970s ]
[ sql ] [ SQL ] SELECT * FROM `fa_blog_post` WHERE  `status` = 'normal' ORDER BY `createtime` DESC LIMIT 3 [ RunTime:0.000832s ]
[ sql ] [ SQL ] SELECT * FROM `fa_blog_category` WHERE  `id` IN (3,2) [ RunTime:0.000863s ]
[ sql ] [ SQL ] SELECT * FROM `fa_blog_post` WHERE  `status` = 'normal' ORDER BY `createtime` DESC LIMIT 10 [ RunTime:0.000852s ]
[ sql ] [ SQL ] SELECT * FROM `fa_blog_category` WHERE  `id` IN (3,2,1) [ RunTime:0.000972s ]
[ sql ] [ SQL ] SELECT * FROM `fa_blog_post` WHERE  `status` = 'normal'  AND (  (FIND_IN_SET('recommend', flag)) ) ORDER BY `createtime` DESC LIMIT 10 [ RunTime:0.000816s ]
[ sql ] [ SQL ] SELECT * FROM `fa_blog_category` WHERE  `id` IN (2) [ RunTime:0.000677s ]
---------------------------------------------------------------
[ 2020-03-05T11:49:05+08:00 ] 127.0.0.1 GET www.jfmblog.com/admin/blog/post/edit/ids/7?dialog=1
[ sql ] [ DB ] CONNECT:[ UseTime:0.014633s ] mysql:host=127.0.0.1;dbname=jfmblog;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_auth_group_access` [ RunTime:0.004820s ]
[ sql ] [ SQL ] SELECT `aga`.`uid`,`aga`.`group_id`,`ag`.`id`,`ag`.`pid`,`ag`.`name`,`ag`.`rules` FROM `fa_auth_group_access` `aga` LEFT JOIN `fa_auth_group` `ag` ON `aga`.`group_id`=`ag`.`id` WHERE  (  aga.uid='1' and ag.status='normal' ) [ RunTime:0.000766s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_auth_rule` [ RunTime:0.005011s ]
[ sql ] [ SQL ] SELECT `id`,`pid`,`condition`,`icon`,`name`,`title`,`ismenu` FROM `fa_auth_rule` WHERE  `status` = 'normal' [ RunTime:0.001068s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_blog_category` [ RunTime:0.005825s ]
[ sql ] [ SQL ] SELECT * FROM `fa_blog_category` ORDER BY `weigh` DESC,`id` DESC [ RunTime:0.000766s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_blog_post` [ RunTime:0.005004s ]
[ sql ] [ SQL ] SELECT * FROM `fa_blog_post` WHERE  `id` = 7 LIMIT 1 [ RunTime:0.000930s ]
---------------------------------------------------------------
[ 2020-03-05T11:49:29+08:00 ] 127.0.0.1 GET www.jfmblog.com/
[ sql ] [ DB ] CONNECT:[ UseTime:0.012782s ] mysql:host=127.0.0.1;dbname=jfmblog;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_blog_category` [ RunTime:0.012407s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_blog_post` [ RunTime:0.005203s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `fa_blog_post` WHERE  `status` = 'normal' LIMIT 1 [ RunTime:0.000895s ]
[ sql ] [ SQL ] SELECT * FROM `fa_blog_post` WHERE  `status` = 'normal' ORDER BY `weigh` DESC,`id` DESC LIMIT 0,10 [ RunTime:0.000878s ]
[ sql ] [ SQL ] SELECT * FROM `fa_blog_category` WHERE  `id` IN (3,2,1) [ RunTime:0.001291s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_blog_block` [ RunTime:0.005004s ]
[ sql ] [ SQL ] SELECT * FROM `fa_blog_block` WHERE  `status` = 'normal'  AND `name` = 'indexfocus' ORDER BY `id` DESC LIMIT 5 [ RunTime:0.001006s ]
[ sql ] [ SQL ] SELECT * FROM `fa_blog_block` WHERE  `status` = 'normal'  AND `name` = 'indexsmallfocus' ORDER BY `id` DESC LIMIT 4 [ RunTime:0.000939s ]
[ sql ] [ SQL ] SELECT * FROM `fa_blog_category` WHERE  `id` IN (3,2,1) [ RunTime:0.001082s ]
[ sql ] [ SQL ] SELECT * FROM `fa_blog_category` WHERE  `id` IN (2) [ RunTime:0.000798s ]
---------------------------------------------------------------
[ 2020-03-05T11:49:33+08:00 ] 127.0.0.1 GET www.jfmblog.com/p/7.html
[ sql ] [ DB ] CONNECT:[ UseTime:0.015901s ] mysql:host=127.0.0.1;dbname=jfmblog;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_blog_post` [ RunTime:0.004933s ]
[ sql ] [ SQL ] SELECT * FROM `fa_blog_post` WHERE  `id` = 7 LIMIT 1 [ RunTime:0.000959s ]
[ sql ] [ SQL ] UPDATE `fa_blog_post`  SET `views`=`views`+1  WHERE  `id` = 7 [ RunTime:0.049225s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_blog_category` [ RunTime:0.005005s ]
[ sql ] [ SQL ] SELECT * FROM `fa_blog_category` WHERE  `id` = 3 LIMIT 1 [ RunTime:0.000918s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_blog_comment` [ RunTime:0.005199s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `fa_blog_comment` WHERE  `post_id` = 7  AND `pid` = 0  AND `status` = 'normal' LIMIT 1 [ RunTime:0.001063s ]
[ sql ] [ SQL ] SELECT * FROM `fa_blog_comment` WHERE  `post_id` = 7  AND `pid` = 0  AND `status` = 'normal' ORDER BY `id` DESC LIMIT 0,10 [ RunTime:0.000986s ]
[ sql ] [ SQL ] SELECT * FROM `fa_blog_category` WHERE  `id` IN (3,2) [ RunTime:0.000977s ]
[ sql ] [ SQL ] SELECT * FROM `fa_blog_category` WHERE  `id` IN (3,2,1) [ RunTime:0.000983s ]
[ sql ] [ SQL ] SELECT * FROM `fa_blog_category` WHERE  `id` IN (2) [ RunTime:0.000922s ]
---------------------------------------------------------------
[ 2020-03-05T11:50:24+08:00 ] 127.0.0.1 POST www.jfmblog.com/admin/addon/state
[ sql ] [ DB ] CONNECT:[ UseTime:0.012324s ] mysql:host=127.0.0.1;dbname=jfmblog;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_auth_group_access` [ RunTime:0.011995s ]
[ sql ] [ SQL ] SELECT `aga`.`uid`,`aga`.`group_id`,`ag`.`id`,`ag`.`pid`,`ag`.`name`,`ag`.`rules` FROM `fa_auth_group_access` `aga` LEFT JOIN `fa_auth_group` `ag` ON `aga`.`group_id`=`ag`.`id` WHERE  (  aga.uid='1' and ag.status='normal' ) [ RunTime:0.000769s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_auth_rule` [ RunTime:0.004647s ]
[ sql ] [ SQL ] SELECT `id`,`pid`,`condition`,`icon`,`name`,`title`,`ismenu` FROM `fa_auth_rule` WHERE  `status` = 'normal' [ RunTime:0.001130s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_admin_log` [ RunTime:0.004906s ]
[ sql ] [ SQL ] INSERT INTO `fa_admin_log` (`title` , `content` , `url` , `admin_id` , `username` , `useragent` , `ip` , `createtime`) VALUES ('插件管理 禁用启用' , '{\"name\":\"simditor\",\"action\":\"disable\",\"force\":\"0\"}' , '/admin/addon/state' , 1 , 'admin' , 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/80.0.3970.5 Safari/537.36' , '127.0.0.1' , 1583380224) [ RunTime:0.122021s ]
---------------------------------------------------------------
[ 2020-03-05T11:50:25+08:00 ] 127.0.0.1 POST www.jfmblog.com/admin/index/index
[ sql ] [ DB ] CONNECT:[ UseTime:0.014378s ] mysql:host=127.0.0.1;dbname=jfmblog;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_auth_group_access` [ RunTime:0.013353s ]
[ sql ] [ SQL ] SELECT `aga`.`uid`,`aga`.`group_id`,`ag`.`id`,`ag`.`pid`,`ag`.`name`,`ag`.`rules` FROM `fa_auth_group_access` `aga` LEFT JOIN `fa_auth_group` `ag` ON `aga`.`group_id`=`ag`.`id` WHERE  (  aga.uid='1' and ag.status='normal' ) [ RunTime:0.000690s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_auth_rule` [ RunTime:0.005090s ]
[ sql ] [ SQL ] SELECT `id`,`pid`,`condition`,`icon`,`name`,`title`,`ismenu` FROM `fa_auth_rule` WHERE  `status` = 'normal' [ RunTime:0.001078s ]
[ sql ] [ SQL ] SELECT * FROM `fa_auth_rule` WHERE  `status` = 'normal'  AND `ismenu` = 1 ORDER BY `weigh` DESC [ RunTime:0.001113s ]
[ sql ] [ SQL ] SELECT `name`,`pid` FROM `fa_auth_rule` WHERE  `status` = 'normal'  AND `ismenu` = 0  AND `name` LIKE '%/index' [ RunTime:0.001054s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_admin_log` [ RunTime:0.012787s ]
[ sql ] [ SQL ] INSERT INTO `fa_admin_log` (`title` , `content` , `url` , `admin_id` , `username` , `useragent` , `ip` , `createtime`) VALUES ('' , '{\"action\":\"refreshmenu\"}' , '/admin/index/index' , 1 , 'admin' , 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/80.0.3970.5 Safari/537.36' , '127.0.0.1' , 1583380225) [ RunTime:0.118518s ]
---------------------------------------------------------------
[ 2020-03-05T11:50:28+08:00 ] 127.0.0.1 POST www.jfmblog.com/admin/addon/uninstall
[ sql ] [ DB ] CONNECT:[ UseTime:0.023364s ] mysql:host=127.0.0.1;dbname=jfmblog;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_auth_group_access` [ RunTime:0.011889s ]
[ sql ] [ SQL ] SELECT `aga`.`uid`,`aga`.`group_id`,`ag`.`id`,`ag`.`pid`,`ag`.`name`,`ag`.`rules` FROM `fa_auth_group_access` `aga` LEFT JOIN `fa_auth_group` `ag` ON `aga`.`group_id`=`ag`.`id` WHERE  (  aga.uid='1' and ag.status='normal' ) [ RunTime:0.000762s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_auth_rule` [ RunTime:0.004961s ]
[ sql ] [ SQL ] SELECT `id`,`pid`,`condition`,`icon`,`name`,`title`,`ismenu` FROM `fa_auth_rule` WHERE  `status` = 'normal' [ RunTime:0.001089s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_admin_log` [ RunTime:0.005215s ]
[ sql ] [ SQL ] INSERT INTO `fa_admin_log` (`title` , `content` , `url` , `admin_id` , `username` , `useragent` , `ip` , `createtime`) VALUES ('插件管理 卸载' , '{\"name\":\"simditor\",\"force\":\"0\"}' , '/admin/addon/uninstall' , 1 , 'admin' , 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/80.0.3970.5 Safari/537.36' , '127.0.0.1' , 1583380227) [ RunTime:0.127405s ]
---------------------------------------------------------------
[ 2020-03-05T11:50:28+08:00 ] 127.0.0.1 POST www.jfmblog.com/admin/index/index
[ sql ] [ DB ] CONNECT:[ UseTime:0.011948s ] mysql:host=127.0.0.1;dbname=jfmblog;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_auth_group_access` [ RunTime:0.011952s ]
[ sql ] [ SQL ] SELECT `aga`.`uid`,`aga`.`group_id`,`ag`.`id`,`ag`.`pid`,`ag`.`name`,`ag`.`rules` FROM `fa_auth_group_access` `aga` LEFT JOIN `fa_auth_group` `ag` ON `aga`.`group_id`=`ag`.`id` WHERE  (  aga.uid='1' and ag.status='normal' ) [ RunTime:0.000752s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_auth_rule` [ RunTime:0.005392s ]
[ sql ] [ SQL ] SELECT `id`,`pid`,`condition`,`icon`,`name`,`title`,`ismenu` FROM `fa_auth_rule` WHERE  `status` = 'normal' [ RunTime:0.001069s ]
[ sql ] [ SQL ] SELECT `name`,`pid` FROM `fa_auth_rule` WHERE  `status` = 'normal'  AND `ismenu` = 0  AND `name` LIKE '%/index' [ RunTime:0.001062s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_admin_log` [ RunTime:0.012085s ]
[ sql ] [ SQL ] INSERT INTO `fa_admin_log` (`title` , `content` , `url` , `admin_id` , `username` , `useragent` , `ip` , `createtime`) VALUES ('' , '{\"action\":\"refreshmenu\"}' , '/admin/index/index' , 1 , 'admin' , 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/80.0.3970.5 Safari/537.36' , '127.0.0.1' , 1583380228) [ RunTime:0.125084s ]
---------------------------------------------------------------
[ 2020-03-05T11:50:34+08:00 ] 127.0.0.1 POST www.jfmblog.com/admin/addon/install
[ sql ] [ DB ] CONNECT:[ UseTime:0.002910s ] mysql:host=127.0.0.1;dbname=jfmblog;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_auth_group_access` [ RunTime:0.012090s ]
[ sql ] [ SQL ] SELECT `aga`.`uid`,`aga`.`group_id`,`ag`.`id`,`ag`.`pid`,`ag`.`name`,`ag`.`rules` FROM `fa_auth_group_access` `aga` LEFT JOIN `fa_auth_group` `ag` ON `aga`.`group_id`=`ag`.`id` WHERE  (  aga.uid='1' and ag.status='normal' ) [ RunTime:0.000772s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_auth_rule` [ RunTime:0.005277s ]
[ sql ] [ SQL ] SELECT `id`,`pid`,`condition`,`icon`,`name`,`title`,`ismenu` FROM `fa_auth_rule` WHERE  `status` = 'normal' [ RunTime:0.001121s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_admin_log` [ RunTime:0.012239s ]
[ sql ] [ SQL ] INSERT INTO `fa_admin_log` (`title` , `content` , `url` , `admin_id` , `username` , `useragent` , `ip` , `createtime`) VALUES ('插件管理 安装' , '{\"name\":\"tinymce\",\"force\":\"0\",\"uid\":\"15122\",\"token\":\"7008d8af-b206-4957-915c-ef2dc5b6d10b\",\"version\":\"1.0.4\",\"faversion\":\"1.0.0.20191101_beta\"}' , '/admin/addon/install' , 1 , 'admin' , 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/80.0.3970.5 Safari/537.36' , '127.0.0.1' , 1583380234) [ RunTime:0.106831s ]
---------------------------------------------------------------
[ 2020-03-05T11:50:35+08:00 ] 127.0.0.1 POST www.jfmblog.com/admin/index/index
[ sql ] [ DB ] CONNECT:[ UseTime:0.012256s ] mysql:host=127.0.0.1;dbname=jfmblog;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_auth_group_access` [ RunTime:0.004763s ]
[ sql ] [ SQL ] SELECT `aga`.`uid`,`aga`.`group_id`,`ag`.`id`,`ag`.`pid`,`ag`.`name`,`ag`.`rules` FROM `fa_auth_group_access` `aga` LEFT JOIN `fa_auth_group` `ag` ON `aga`.`group_id`=`ag`.`id` WHERE  (  aga.uid='1' and ag.status='normal' ) [ RunTime:0.000758s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_auth_rule` [ RunTime:0.004965s ]
[ sql ] [ SQL ] SELECT `id`,`pid`,`condition`,`icon`,`name`,`title`,`ismenu` FROM `fa_auth_rule` WHERE  `status` = 'normal' [ RunTime:0.001248s ]
[ sql ] [ SQL ] SELECT `name`,`pid` FROM `fa_auth_rule` WHERE  `status` = 'normal'  AND `ismenu` = 0  AND `name` LIKE '%/index' [ RunTime:0.001165s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_admin_log` [ RunTime:0.012065s ]
[ sql ] [ SQL ] INSERT INTO `fa_admin_log` (`title` , `content` , `url` , `admin_id` , `username` , `useragent` , `ip` , `createtime`) VALUES ('' , '{\"action\":\"refreshmenu\"}' , '/admin/index/index' , 1 , 'admin' , 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/80.0.3970.5 Safari/537.36' , '127.0.0.1' , 1583380235) [ RunTime:0.052844s ]
---------------------------------------------------------------
[ 2020-03-05T11:50:41+08:00 ] 127.0.0.1 GET www.jfmblog.com/admin/addon?ref=addtabs
[ sql ] [ DB ] CONNECT:[ UseTime:0.012833s ] mysql:host=127.0.0.1;dbname=jfmblog;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_auth_group_access` [ RunTime:0.012124s ]
[ sql ] [ SQL ] SELECT `aga`.`uid`,`aga`.`group_id`,`ag`.`id`,`ag`.`pid`,`ag`.`name`,`ag`.`rules` FROM `fa_auth_group_access` `aga` LEFT JOIN `fa_auth_group` `ag` ON `aga`.`group_id`=`ag`.`id` WHERE  (  aga.uid='1' and ag.status='normal' ) [ RunTime:0.000782s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_auth_rule` [ RunTime:0.004917s ]
[ sql ] [ SQL ] SELECT `id`,`pid`,`condition`,`icon`,`name`,`title`,`ismenu` FROM `fa_auth_rule` WHERE  `status` = 'normal' [ RunTime:0.001160s ]
---------------------------------------------------------------
[ 2020-03-05T11:50:42+08:00 ] 127.0.0.1 GET www.jfmblog.com/admin/index/index
[ sql ] [ DB ] CONNECT:[ UseTime:0.012585s ] mysql:host=127.0.0.1;dbname=jfmblog;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_auth_group_access` [ RunTime:0.004919s ]
[ sql ] [ SQL ] SELECT `aga`.`uid`,`aga`.`group_id`,`ag`.`id`,`ag`.`pid`,`ag`.`name`,`ag`.`rules` FROM `fa_auth_group_access` `aga` LEFT JOIN `fa_auth_group` `ag` ON `aga`.`group_id`=`ag`.`id` WHERE  (  aga.uid='1' and ag.status='normal' ) [ RunTime:0.000843s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_auth_rule` [ RunTime:0.004935s ]
[ sql ] [ SQL ] SELECT `id`,`pid`,`condition`,`icon`,`name`,`title`,`ismenu` FROM `fa_auth_rule` WHERE  `status` = 'normal' [ RunTime:0.001078s ]
[ sql ] [ SQL ] SELECT * FROM `fa_auth_rule` WHERE  `status` = 'normal'  AND `ismenu` = 1 ORDER BY `weigh` DESC [ RunTime:0.001082s ]
[ sql ] [ SQL ] SELECT `name`,`pid` FROM `fa_auth_rule` WHERE  `status` = 'normal'  AND `ismenu` = 0  AND `name` LIKE '%/index' [ RunTime:0.001040s ]
---------------------------------------------------------------
[ 2020-03-05T11:50:42+08:00 ] 127.0.0.1 GET www.jfmblog.com/admin/addon?addtabs=1
[ sql ] [ DB ] CONNECT:[ UseTime:0.012827s ] mysql:host=127.0.0.1;dbname=jfmblog;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_auth_group_access` [ RunTime:0.005570s ]
[ sql ] [ SQL ] SELECT `aga`.`uid`,`aga`.`group_id`,`ag`.`id`,`ag`.`pid`,`ag`.`name`,`ag`.`rules` FROM `fa_auth_group_access` `aga` LEFT JOIN `fa_auth_group` `ag` ON `aga`.`group_id`=`ag`.`id` WHERE  (  aga.uid='1' and ag.status='normal' ) [ RunTime:0.000790s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_auth_rule` [ RunTime:0.005124s ]
[ sql ] [ SQL ] SELECT `id`,`pid`,`condition`,`icon`,`name`,`title`,`ismenu` FROM `fa_auth_rule` WHERE  `status` = 'normal' [ RunTime:0.001108s ]
[ sql ] [ SQL ] SELECT `title`,`remark` FROM `fa_auth_rule` WHERE  `name` = 'addon' LIMIT 1 [ RunTime:0.000921s ]
---------------------------------------------------------------
[ 2020-03-05T11:50:43+08:00 ] 127.0.0.1 GET www.jfmblog.com/admin/general/config?addtabs=1
[ sql ] [ DB ] CONNECT:[ UseTime:0.012318s ] mysql:host=127.0.0.1;dbname=jfmblog;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_auth_group_access` [ RunTime:0.006827s ]
[ sql ] [ SQL ] SELECT `aga`.`uid`,`aga`.`group_id`,`ag`.`id`,`ag`.`pid`,`ag`.`name`,`ag`.`rules` FROM `fa_auth_group_access` `aga` LEFT JOIN `fa_auth_group` `ag` ON `aga`.`group_id`=`ag`.`id` WHERE  (  aga.uid='1' and ag.status='normal' ) [ RunTime:0.000804s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_auth_rule` [ RunTime:0.005045s ]
[ sql ] [ SQL ] SELECT `id`,`pid`,`condition`,`icon`,`name`,`title`,`ismenu` FROM `fa_auth_rule` WHERE  `status` = 'normal' [ RunTime:0.001100s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_config` [ RunTime:0.004937s ]
[ sql ] [ SQL ] SELECT * FROM `fa_config` [ RunTime:0.000884s ]
[ sql ] [ SQL ] SELECT `title`,`remark` FROM `fa_auth_rule` WHERE  `name` = 'general/config' LIMIT 1 [ RunTime:0.001050s ]
---------------------------------------------------------------
[ 2020-03-05T11:50:47+08:00 ] 127.0.0.1 GET www.jfmblog.com/admin/blog/post?addtabs=1
[ sql ] [ DB ] CONNECT:[ UseTime:0.012378s ] mysql:host=127.0.0.1;dbname=jfmblog;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_auth_group_access` [ RunTime:0.004772s ]
[ sql ] [ SQL ] SELECT `aga`.`uid`,`aga`.`group_id`,`ag`.`id`,`ag`.`pid`,`ag`.`name`,`ag`.`rules` FROM `fa_auth_group_access` `aga` LEFT JOIN `fa_auth_group` `ag` ON `aga`.`group_id`=`ag`.`id` WHERE  (  aga.uid='1' and ag.status='normal' ) [ RunTime:0.000779s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_auth_rule` [ RunTime:0.004968s ]
[ sql ] [ SQL ] SELECT `id`,`pid`,`condition`,`icon`,`name`,`title`,`ismenu` FROM `fa_auth_rule` WHERE  `status` = 'normal' [ RunTime:0.001200s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_blog_category` [ RunTime:0.005004s ]
[ sql ] [ SQL ] SELECT * FROM `fa_blog_category` ORDER BY `weigh` DESC,`id` DESC [ RunTime:0.000798s ]
[ sql ] [ SQL ] SELECT `title`,`remark` FROM `fa_auth_rule` WHERE  `name` = 'blog/post' LIMIT 1 [ RunTime:0.000752s ]
---------------------------------------------------------------
[ 2020-03-05T11:50:48+08:00 ] 127.0.0.1 GET www.jfmblog.com/admin/blog/post/index?sort=weigh&order=desc&offset=0&limit=10&filter=%7B%7D&op=%7B%7D&_=1583380247734
[ sql ] [ DB ] CONNECT:[ UseTime:0.011941s ] mysql:host=127.0.0.1;dbname=jfmblog;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_auth_group_access` [ RunTime:0.004918s ]
[ sql ] [ SQL ] SELECT `aga`.`uid`,`aga`.`group_id`,`ag`.`id`,`ag`.`pid`,`ag`.`name`,`ag`.`rules` FROM `fa_auth_group_access` `aga` LEFT JOIN `fa_auth_group` `ag` ON `aga`.`group_id`=`ag`.`id` WHERE  (  aga.uid='1' and ag.status='normal' ) [ RunTime:0.000738s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_auth_rule` [ RunTime:0.005355s ]
[ sql ] [ SQL ] SELECT `id`,`pid`,`condition`,`icon`,`name`,`title`,`ismenu` FROM `fa_auth_rule` WHERE  `status` = 'normal' [ RunTime:0.001092s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_blog_category` [ RunTime:0.005293s ]
[ sql ] [ SQL ] SELECT * FROM `fa_blog_category` ORDER BY `weigh` DESC,`id` DESC [ RunTime:0.000770s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_blog_post` [ RunTime:0.005148s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `fa_blog_post` `blog_post` LEFT JOIN `fa_blog_category` `category` ON `blog_post`.`category_id`=`category`.`id` ORDER BY `blog_post`.`weigh` DESC LIMIT 1 [ RunTime:0.000790s ]
[ sql ] [ SQL ] SELECT `blog_post`.`id`,`blog_post`.`category_id`,`blog_post`.`flag`,`blog_post`.`title`,`blog_post`.`summary`,`blog_post`.`content`,`blog_post`.`thumb`,`blog_post`.`image`,`blog_post`.`keywords`,`blog_post`.`description`,`blog_post`.`views`,`blog_post`.`comments`,`blog_post`.`createtime`,`blog_post`.`updatetime`,`blog_post`.`weigh`,`blog_post`.`status`,category.id AS category__id,category.pid AS category__pid,category.name AS category__name,category.nickname AS category__nickname,category.flag AS category__flag,category.image AS category__image,category.keywords AS category__keywords,category.description AS category__description,category.diyname AS category__diyname,category.createtime AS category__createtime,category.updatetime AS category__updatetime,category.weigh AS category__weigh,category.status AS category__status FROM `fa_blog_post` `blog_post` LEFT JOIN `fa_blog_category` `category` ON `blog_post`.`category_id`=`category`.`id` ORDER BY `blog_post`.`weigh` DESC LIMIT 0,10 [ RunTime:0.001011s ]
---------------------------------------------------------------
[ 2020-03-05T11:50:50+08:00 ] 127.0.0.1 GET www.jfmblog.com/admin/blog/post/edit/ids/7?dialog=1
[ sql ] [ DB ] CONNECT:[ UseTime:0.012443s ] mysql:host=127.0.0.1;dbname=jfmblog;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_auth_group_access` [ RunTime:0.012079s ]
[ sql ] [ SQL ] SELECT `aga`.`uid`,`aga`.`group_id`,`ag`.`id`,`ag`.`pid`,`ag`.`name`,`ag`.`rules` FROM `fa_auth_group_access` `aga` LEFT JOIN `fa_auth_group` `ag` ON `aga`.`group_id`=`ag`.`id` WHERE  (  aga.uid='1' and ag.status='normal' ) [ RunTime:0.000743s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_auth_rule` [ RunTime:0.005650s ]
[ sql ] [ SQL ] SELECT `id`,`pid`,`condition`,`icon`,`name`,`title`,`ismenu` FROM `fa_auth_rule` WHERE  `status` = 'normal' [ RunTime:0.001122s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_blog_category` [ RunTime:0.005218s ]
[ sql ] [ SQL ] SELECT * FROM `fa_blog_category` ORDER BY `weigh` DESC,`id` DESC [ RunTime:0.000814s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_blog_post` [ RunTime:0.005144s ]
[ sql ] [ SQL ] SELECT * FROM `fa_blog_post` WHERE  `id` = 7 LIMIT 1 [ RunTime:0.000912s ]
---------------------------------------------------------------
[ 2020-03-05T11:51:10+08:00 ] 127.0.0.1 GET www.jfmblog.com/admin/addon/config?name=tinymce&dialog=1
[ sql ] [ DB ] CONNECT:[ UseTime:0.012665s ] mysql:host=127.0.0.1;dbname=jfmblog;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_auth_group_access` [ RunTime:0.011963s ]
[ sql ] [ SQL ] SELECT `aga`.`uid`,`aga`.`group_id`,`ag`.`id`,`ag`.`pid`,`ag`.`name`,`ag`.`rules` FROM `fa_auth_group_access` `aga` LEFT JOIN `fa_auth_group` `ag` ON `aga`.`group_id`=`ag`.`id` WHERE  (  aga.uid='1' and ag.status='normal' ) [ RunTime:0.000835s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_auth_rule` [ RunTime:0.005062s ]
[ sql ] [ SQL ] SELECT `id`,`pid`,`condition`,`icon`,`name`,`title`,`ismenu` FROM `fa_auth_rule` WHERE  `status` = 'normal' [ RunTime:0.001153s ]
---------------------------------------------------------------
[ 2020-03-05T11:51:24+08:00 ] 127.0.0.1 GET www.jfmblog.com/admin/addon?ref=addtabs
[ sql ] [ DB ] CONNECT:[ UseTime:0.012268s ] mysql:host=127.0.0.1;dbname=jfmblog;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_auth_group_access` [ RunTime:0.005903s ]
[ sql ] [ SQL ] SELECT `aga`.`uid`,`aga`.`group_id`,`ag`.`id`,`ag`.`pid`,`ag`.`name`,`ag`.`rules` FROM `fa_auth_group_access` `aga` LEFT JOIN `fa_auth_group` `ag` ON `aga`.`group_id`=`ag`.`id` WHERE  (  aga.uid='1' and ag.status='normal' ) [ RunTime:0.000772s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_auth_rule` [ RunTime:0.005164s ]
[ sql ] [ SQL ] SELECT `id`,`pid`,`condition`,`icon`,`name`,`title`,`ismenu` FROM `fa_auth_rule` WHERE  `status` = 'normal' [ RunTime:0.001161s ]
---------------------------------------------------------------
[ 2020-03-05T11:51:24+08:00 ] 127.0.0.1 GET www.jfmblog.com/admin/index/index
[ sql ] [ DB ] CONNECT:[ UseTime:0.012950s ] mysql:host=127.0.0.1;dbname=jfmblog;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_auth_group_access` [ RunTime:0.008524s ]
[ sql ] [ SQL ] SELECT `aga`.`uid`,`aga`.`group_id`,`ag`.`id`,`ag`.`pid`,`ag`.`name`,`ag`.`rules` FROM `fa_auth_group_access` `aga` LEFT JOIN `fa_auth_group` `ag` ON `aga`.`group_id`=`ag`.`id` WHERE  (  aga.uid='1' and ag.status='normal' ) [ RunTime:0.000950s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_auth_rule` [ RunTime:0.005434s ]
[ sql ] [ SQL ] SELECT `id`,`pid`,`condition`,`icon`,`name`,`title`,`ismenu` FROM `fa_auth_rule` WHERE  `status` = 'normal' [ RunTime:0.001007s ]
[ sql ] [ SQL ] SELECT * FROM `fa_auth_rule` WHERE  `status` = 'normal'  AND `ismenu` = 1 ORDER BY `weigh` DESC [ RunTime:0.001075s ]
[ sql ] [ SQL ] SELECT `name`,`pid` FROM `fa_auth_rule` WHERE  `status` = 'normal'  AND `ismenu` = 0  AND `name` LIKE '%/index' [ RunTime:0.000991s ]
---------------------------------------------------------------
[ 2020-03-05T11:51:24+08:00 ] 127.0.0.1 GET www.jfmblog.com/admin/addon?addtabs=1
[ sql ] [ DB ] CONNECT:[ UseTime:0.012547s ] mysql:host=127.0.0.1;dbname=jfmblog;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_auth_group_access` [ RunTime:0.011958s ]
[ sql ] [ SQL ] SELECT `aga`.`uid`,`aga`.`group_id`,`ag`.`id`,`ag`.`pid`,`ag`.`name`,`ag`.`rules` FROM `fa_auth_group_access` `aga` LEFT JOIN `fa_auth_group` `ag` ON `aga`.`group_id`=`ag`.`id` WHERE  (  aga.uid='1' and ag.status='normal' ) [ RunTime:0.000762s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_auth_rule` [ RunTime:0.005037s ]
[ sql ] [ SQL ] SELECT `id`,`pid`,`condition`,`icon`,`name`,`title`,`ismenu` FROM `fa_auth_rule` WHERE  `status` = 'normal' [ RunTime:0.001091s ]
[ sql ] [ SQL ] SELECT `title`,`remark` FROM `fa_auth_rule` WHERE  `name` = 'addon' LIMIT 1 [ RunTime:0.000895s ]
---------------------------------------------------------------
[ 2020-03-05T11:51:26+08:00 ] 127.0.0.1 GET www.jfmblog.com/admin/general/config?addtabs=1
[ sql ] [ DB ] CONNECT:[ UseTime:0.012331s ] mysql:host=127.0.0.1;dbname=jfmblog;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_auth_group_access` [ RunTime:0.012375s ]
[ sql ] [ SQL ] SELECT `aga`.`uid`,`aga`.`group_id`,`ag`.`id`,`ag`.`pid`,`ag`.`name`,`ag`.`rules` FROM `fa_auth_group_access` `aga` LEFT JOIN `fa_auth_group` `ag` ON `aga`.`group_id`=`ag`.`id` WHERE  (  aga.uid='1' and ag.status='normal' ) [ RunTime:0.000791s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_auth_rule` [ RunTime:0.005439s ]
[ sql ] [ SQL ] SELECT `id`,`pid`,`condition`,`icon`,`name`,`title`,`ismenu` FROM `fa_auth_rule` WHERE  `status` = 'normal' [ RunTime:0.001172s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_config` [ RunTime:0.005132s ]
[ sql ] [ SQL ] SELECT * FROM `fa_config` [ RunTime:0.000777s ]
[ sql ] [ SQL ] SELECT `title`,`remark` FROM `fa_auth_rule` WHERE  `name` = 'general/config' LIMIT 1 [ RunTime:0.000853s ]
---------------------------------------------------------------
[ 2020-03-05T11:51:28+08:00 ] 127.0.0.1 GET www.jfmblog.com/admin/blog/post?addtabs=1
[ sql ] [ DB ] CONNECT:[ UseTime:0.012064s ] mysql:host=127.0.0.1;dbname=jfmblog;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_auth_group_access` [ RunTime:0.011982s ]
[ sql ] [ SQL ] SELECT `aga`.`uid`,`aga`.`group_id`,`ag`.`id`,`ag`.`pid`,`ag`.`name`,`ag`.`rules` FROM `fa_auth_group_access` `aga` LEFT JOIN `fa_auth_group` `ag` ON `aga`.`group_id`=`ag`.`id` WHERE  (  aga.uid='1' and ag.status='normal' ) [ RunTime:0.000782s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_auth_rule` [ RunTime:0.004899s ]
[ sql ] [ SQL ] SELECT `id`,`pid`,`condition`,`icon`,`name`,`title`,`ismenu` FROM `fa_auth_rule` WHERE  `status` = 'normal' [ RunTime:0.001110s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_blog_category` [ RunTime:0.005009s ]
[ sql ] [ SQL ] SELECT * FROM `fa_blog_category` ORDER BY `weigh` DESC,`id` DESC [ RunTime:0.000778s ]
[ sql ] [ SQL ] SELECT `title`,`remark` FROM `fa_auth_rule` WHERE  `name` = 'blog/post' LIMIT 1 [ RunTime:0.000840s ]
---------------------------------------------------------------
[ 2020-03-05T11:51:29+08:00 ] 127.0.0.1 GET www.jfmblog.com/admin/blog/post/index?sort=weigh&order=desc&offset=0&limit=10&filter=%7B%7D&op=%7B%7D&_=1583380288348
[ sql ] [ DB ] CONNECT:[ UseTime:0.011523s ] mysql:host=127.0.0.1;dbname=jfmblog;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_auth_group_access` [ RunTime:0.012035s ]
[ sql ] [ SQL ] SELECT `aga`.`uid`,`aga`.`group_id`,`ag`.`id`,`ag`.`pid`,`ag`.`name`,`ag`.`rules` FROM `fa_auth_group_access` `aga` LEFT JOIN `fa_auth_group` `ag` ON `aga`.`group_id`=`ag`.`id` WHERE  (  aga.uid='1' and ag.status='normal' ) [ RunTime:0.000683s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_auth_rule` [ RunTime:0.005286s ]
[ sql ] [ SQL ] SELECT `id`,`pid`,`condition`,`icon`,`name`,`title`,`ismenu` FROM `fa_auth_rule` WHERE  `status` = 'normal' [ RunTime:0.001011s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_blog_category` [ RunTime:0.005199s ]
[ sql ] [ SQL ] SELECT * FROM `fa_blog_category` ORDER BY `weigh` DESC,`id` DESC [ RunTime:0.000690s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_blog_post` [ RunTime:0.005103s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `fa_blog_post` `blog_post` LEFT JOIN `fa_blog_category` `category` ON `blog_post`.`category_id`=`category`.`id` ORDER BY `blog_post`.`weigh` DESC LIMIT 1 [ RunTime:0.000699s ]
[ sql ] [ SQL ] SELECT `blog_post`.`id`,`blog_post`.`category_id`,`blog_post`.`flag`,`blog_post`.`title`,`blog_post`.`summary`,`blog_post`.`content`,`blog_post`.`thumb`,`blog_post`.`image`,`blog_post`.`keywords`,`blog_post`.`description`,`blog_post`.`views`,`blog_post`.`comments`,`blog_post`.`createtime`,`blog_post`.`updatetime`,`blog_post`.`weigh`,`blog_post`.`status`,category.id AS category__id,category.pid AS category__pid,category.name AS category__name,category.nickname AS category__nickname,category.flag AS category__flag,category.image AS category__image,category.keywords AS category__keywords,category.description AS category__description,category.diyname AS category__diyname,category.createtime AS category__createtime,category.updatetime AS category__updatetime,category.weigh AS category__weigh,category.status AS category__status FROM `fa_blog_post` `blog_post` LEFT JOIN `fa_blog_category` `category` ON `blog_post`.`category_id`=`category`.`id` ORDER BY `blog_post`.`weigh` DESC LIMIT 0,10 [ RunTime:0.000878s ]
---------------------------------------------------------------
[ 2020-03-05T11:51:31+08:00 ] 127.0.0.1 GET www.jfmblog.com/admin/blog/post/edit/ids/7?dialog=1
[ sql ] [ DB ] CONNECT:[ UseTime:0.012555s ] mysql:host=127.0.0.1;dbname=jfmblog;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_auth_group_access` [ RunTime:0.011966s ]
[ sql ] [ SQL ] SELECT `aga`.`uid`,`aga`.`group_id`,`ag`.`id`,`ag`.`pid`,`ag`.`name`,`ag`.`rules` FROM `fa_auth_group_access` `aga` LEFT JOIN `fa_auth_group` `ag` ON `aga`.`group_id`=`ag`.`id` WHERE  (  aga.uid='1' and ag.status='normal' ) [ RunTime:0.000780s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_auth_rule` [ RunTime:0.005094s ]
[ sql ] [ SQL ] SELECT `id`,`pid`,`condition`,`icon`,`name`,`title`,`ismenu` FROM `fa_auth_rule` WHERE  `status` = 'normal' [ RunTime:0.001106s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_blog_category` [ RunTime:0.005603s ]
[ sql ] [ SQL ] SELECT * FROM `fa_blog_category` ORDER BY `weigh` DESC,`id` DESC [ RunTime:0.000770s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_blog_post` [ RunTime:0.005104s ]
[ sql ] [ SQL ] SELECT * FROM `fa_blog_post` WHERE  `id` = 7 LIMIT 1 [ RunTime:0.000897s ]
---------------------------------------------------------------
[ 2020-03-05T11:51:42+08:00 ] 127.0.0.1 POST www.jfmblog.com/admin/blog/post/edit/ids/7?dialog=1
[ sql ] [ DB ] CONNECT:[ UseTime:0.005266s ] mysql:host=127.0.0.1;dbname=jfmblog;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_auth_group_access` [ RunTime:0.012011s ]
[ sql ] [ SQL ] SELECT `aga`.`uid`,`aga`.`group_id`,`ag`.`id`,`ag`.`pid`,`ag`.`name`,`ag`.`rules` FROM `fa_auth_group_access` `aga` LEFT JOIN `fa_auth_group` `ag` ON `aga`.`group_id`=`ag`.`id` WHERE  (  aga.uid='1' and ag.status='normal' ) [ RunTime:0.000768s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_auth_rule` [ RunTime:0.005322s ]
[ sql ] [ SQL ] SELECT `id`,`pid`,`condition`,`icon`,`name`,`title`,`ismenu` FROM `fa_auth_rule` WHERE  `status` = 'normal' [ RunTime:0.001087s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_blog_category` [ RunTime:0.005080s ]
[ sql ] [ SQL ] SELECT * FROM `fa_blog_category` ORDER BY `weigh` DESC,`id` DESC [ RunTime:0.000796s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_blog_post` [ RunTime:0.005005s ]
[ sql ] [ SQL ] SELECT * FROM `fa_blog_post` WHERE  `id` = 7 LIMIT 1 [ RunTime:0.000809s ]
[ sql ] [ SQL ] UPDATE `fa_blog_post`  SET `comments`=0,`updatetime`=1583380302  WHERE  `id` = 7 [ RunTime:0.000887s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_admin_log` [ RunTime:0.005180s ]
[ sql ] [ SQL ] INSERT INTO `fa_admin_log` (`title` , `content` , `url` , `admin_id` , `username` , `useragent` , `ip` , `createtime`) VALUES ('博客管理 日志管理 修改' , '{\"dialog\":\"1\",\"row\":{\"category_id\":\"3\",\"flag\":[\"hot\"],\"title\":\"\\u901a\\u7528\\u722c\\u866b\",\"summary\":\"\\u901a\\u7528\\u722c\\u866b\",\"content\":\"```\\r\\nimport requests\\r\\nimport time\\r\\n\\r\\n\\r\\nclass TiebaSpider:\\r\\n    def __init__(self, name):\\r\\n        self.name = name\\r\\n        self.url = &quot;https:\\/\\/tieba.baidu.com\\/f?kw=&quot;+name+&quot;&amp;ie=utf-8&amp;pn={}&quot;\\r\\n        self.headers = {&quot;User-Agent&quot;: &quot;Mozilla\\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\\/537.36&quot;\\r\\n                                      &quot; (KHTML, like Gecko) Chrome\\/80.0.3970.5 Safari\\/537.36&quot;}\\r\\n\\r\\n    def get_url_list(self):\\r\\n        \'\'\'\\u6784\\u9020url\\u5217\\u8868\'\'\'\\r\\n        url_list = []\\r\\n        for i in range(1000):\\r\\n            url_list.append(self.url.format(i * 50))\\r\\n        return url_list\\r\\n\\r\\n    def parse_url(self, url):\\r\\n        \'\'\'\\u89e3\\u6790url\'\'\'\\r\\n        response = requests.get(url, headers=self.headers)\\r\\n        return response.content.decode()\\r\\n\\r\\n    def save_html(self, html_str, page_num):\\r\\n        file_path = &quot;{}--\\u7b2c{}\\u9875.html&quot;.format(self.name, page_num)\\r\\n        with open(file_path, &quot;w&quot;, encoding=&quot;utf-8&quot;) as f:\\r\\n            f.write(html_str)\\r\\n\\r\\n    def run(self):\\r\\n        # 1.\\u6784\\u9020url\\u5217\\u8868\\r\\n        url_list = self.get_url_list()\\r\\n        # 2.\\u904d\\u5386\\uff0c\\u53d1\\u9001\\u8bf7\\u6c42\\uff0c\\u83b7\\u53d6\\u76f8\\u5e94\\r\\n        for url in url_list:\\r\\n            html_str = self.parse_url(url)\\r\\n            # 3.\\u4fdd\\u5b58\\r\\n            page_num = url_list.index(url) + 1\\r\\n            self.save_html(html_str, page_num)\\r\\n            time.sleep(10)\\r\\n\\r\\n\\r\\nif __name__ == \'__main__\':\\r\\n    tieba = TiebaSpider(&quot;\\u5434\\u4ea6\\u51e1&quot;)\\r\\n    tieba.run()\\r\\n\\r\\n```\",\"thumb\":\"\",\"image\":\"\",\"keywords\":\"\",\"description\":\"\",\"views\":\"5\",\"comments\":\"0\",\"weigh\":\"7\",\"status\":\"normal\"},\"ids\":\"7\"}' , '/admin/blog/post/edit/ids/7?dialog=1' , 1 , 'admin' , 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/80.0.3970.5 Safari/537.36' , '127.0.0.1' , 1583380302) [ RunTime:0.053550s ]
---------------------------------------------------------------
[ 2020-03-05T11:51:43+08:00 ] 127.0.0.1 GET www.jfmblog.com/admin/blog/post/index?sort=weigh&order=desc&offset=0&limit=10&filter=%7B%7D&op=%7B%7D&_=1583380288349
[ sql ] [ DB ] CONNECT:[ UseTime:0.003024s ] mysql:host=127.0.0.1;dbname=jfmblog;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_auth_group_access` [ RunTime:0.005358s ]
[ sql ] [ SQL ] SELECT `aga`.`uid`,`aga`.`group_id`,`ag`.`id`,`ag`.`pid`,`ag`.`name`,`ag`.`rules` FROM `fa_auth_group_access` `aga` LEFT JOIN `fa_auth_group` `ag` ON `aga`.`group_id`=`ag`.`id` WHERE  (  aga.uid='1' and ag.status='normal' ) [ RunTime:0.000680s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_auth_rule` [ RunTime:0.006065s ]
[ sql ] [ SQL ] SELECT `id`,`pid`,`condition`,`icon`,`name`,`title`,`ismenu` FROM `fa_auth_rule` WHERE  `status` = 'normal' [ RunTime:0.001157s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_blog_category` [ RunTime:0.005875s ]
[ sql ] [ SQL ] SELECT * FROM `fa_blog_category` ORDER BY `weigh` DESC,`id` DESC [ RunTime:0.000800s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_blog_post` [ RunTime:0.005588s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `fa_blog_post` `blog_post` LEFT JOIN `fa_blog_category` `category` ON `blog_post`.`category_id`=`category`.`id` ORDER BY `blog_post`.`weigh` DESC LIMIT 1 [ RunTime:0.000807s ]
[ sql ] [ SQL ] SELECT `blog_post`.`id`,`blog_post`.`category_id`,`blog_post`.`flag`,`blog_post`.`title`,`blog_post`.`summary`,`blog_post`.`content`,`blog_post`.`thumb`,`blog_post`.`image`,`blog_post`.`keywords`,`blog_post`.`description`,`blog_post`.`views`,`blog_post`.`comments`,`blog_post`.`createtime`,`blog_post`.`updatetime`,`blog_post`.`weigh`,`blog_post`.`status`,category.id AS category__id,category.pid AS category__pid,category.name AS category__name,category.nickname AS category__nickname,category.flag AS category__flag,category.image AS category__image,category.keywords AS category__keywords,category.description AS category__description,category.diyname AS category__diyname,category.createtime AS category__createtime,category.updatetime AS category__updatetime,category.weigh AS category__weigh,category.status AS category__status FROM `fa_blog_post` `blog_post` LEFT JOIN `fa_blog_category` `category` ON `blog_post`.`category_id`=`category`.`id` ORDER BY `blog_post`.`weigh` DESC LIMIT 0,10 [ RunTime:0.000979s ]
---------------------------------------------------------------
[ 2020-03-05T11:51:45+08:00 ] 127.0.0.1 GET www.jfmblog.com/p/7.html
[ sql ] [ DB ] CONNECT:[ UseTime:0.012346s ] mysql:host=127.0.0.1;dbname=jfmblog;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_blog_category` [ RunTime:0.005372s ]
[ sql ] [ SQL ] SELECT * FROM `fa_blog_category` WHERE  `status` = 'normal' ORDER BY `weigh` DESC,`id` DESC [ RunTime:0.000813s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_blog_post` [ RunTime:0.004944s ]
[ sql ] [ SQL ] SELECT * FROM `fa_blog_post` WHERE  `id` = 7 LIMIT 1 [ RunTime:0.000860s ]
[ sql ] [ SQL ] UPDATE `fa_blog_post`  SET `views`=`views`+1  WHERE  `id` = 7 [ RunTime:0.034747s ]
[ sql ] [ SQL ] SELECT * FROM `fa_blog_category` WHERE  `id` = 3 LIMIT 1 [ RunTime:0.000761s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_blog_comment` [ RunTime:0.004852s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `fa_blog_comment` WHERE  `post_id` = 7  AND `pid` = 0  AND `status` = 'normal' LIMIT 1 [ RunTime:0.000965s ]
[ sql ] [ SQL ] SELECT * FROM `fa_blog_comment` WHERE  `post_id` = 7  AND `pid` = 0  AND `status` = 'normal' ORDER BY `id` DESC LIMIT 0,10 [ RunTime:0.000965s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_blog_block` [ RunTime:0.005134s ]
[ sql ] [ SQL ] SELECT * FROM `fa_blog_block` WHERE  `name` = 'sidebarad1'  AND `status` = 'normal' LIMIT 1 [ RunTime:0.000907s ]
[ sql ] [ SQL ] SELECT * FROM `fa_blog_block` WHERE  `name` = 'sidebarad2'  AND `status` = 'normal' LIMIT 1 [ RunTime:0.000888s ]
[ sql ] [ SQL ] SELECT * FROM `fa_blog_post` WHERE  `status` = 'normal' ORDER BY `createtime` DESC LIMIT 3 [ RunTime:0.000851s ]
[ sql ] [ SQL ] SELECT * FROM `fa_blog_category` WHERE  `id` IN (3,2) [ RunTime:0.001017s ]
[ sql ] [ SQL ] SELECT * FROM `fa_blog_post` WHERE  `status` = 'normal' ORDER BY `createtime` DESC LIMIT 10 [ RunTime:0.000852s ]
[ sql ] [ SQL ] SELECT * FROM `fa_blog_category` WHERE  `id` IN (3,2,1) [ RunTime:0.001050s ]
[ sql ] [ SQL ] SELECT * FROM `fa_blog_post` WHERE  `status` = 'normal'  AND (  (FIND_IN_SET('recommend', flag)) ) ORDER BY `createtime` DESC LIMIT 10 [ RunTime:0.000804s ]
[ sql ] [ SQL ] SELECT * FROM `fa_blog_category` WHERE  `id` IN (2) [ RunTime:0.000748s ]
---------------------------------------------------------------
[ 2020-03-05T11:51:47+08:00 ] 127.0.0.1 GET www.jfmblog.com/p/7.html
[ sql ] [ DB ] CONNECT:[ UseTime:0.011803s ] mysql:host=127.0.0.1;dbname=jfmblog;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_blog_post` [ RunTime:0.012227s ]
[ sql ] [ SQL ] SELECT * FROM `fa_blog_post` WHERE  `id` = 7 LIMIT 1 [ RunTime:0.000960s ]
[ sql ] [ SQL ] UPDATE `fa_blog_post`  SET `views`=`views`+1  WHERE  `id` = 7 [ RunTime:0.051634s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_blog_category` [ RunTime:0.004913s ]
[ sql ] [ SQL ] SELECT * FROM `fa_blog_category` WHERE  `id` = 3 LIMIT 1 [ RunTime:0.000870s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_blog_comment` [ RunTime:0.004926s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `fa_blog_comment` WHERE  `post_id` = 7  AND `pid` = 0  AND `status` = 'normal' LIMIT 1 [ RunTime:0.001082s ]
[ sql ] [ SQL ] SELECT * FROM `fa_blog_comment` WHERE  `post_id` = 7  AND `pid` = 0  AND `status` = 'normal' ORDER BY `id` DESC LIMIT 0,10 [ RunTime:0.000985s ]
[ sql ] [ SQL ] SELECT * FROM `fa_blog_category` WHERE  `id` IN (3,2) [ RunTime:0.000975s ]
[ sql ] [ SQL ] SELECT * FROM `fa_blog_category` WHERE  `id` IN (3,2,1) [ RunTime:0.000978s ]
[ sql ] [ SQL ] SELECT * FROM `fa_blog_category` WHERE  `id` IN (2) [ RunTime:0.000758s ]
---------------------------------------------------------------
[ 2020-03-05T11:51:48+08:00 ] 127.0.0.1 GET www.jfmblog.com/p/7.html
[ sql ] [ DB ] CONNECT:[ UseTime:0.012007s ] mysql:host=127.0.0.1;dbname=jfmblog;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_blog_post` [ RunTime:0.012407s ]
[ sql ] [ SQL ] SELECT * FROM `fa_blog_post` WHERE  `id` = 7 LIMIT 1 [ RunTime:0.000959s ]
[ sql ] [ SQL ] UPDATE `fa_blog_post`  SET `views`=`views`+1  WHERE  `id` = 7 [ RunTime:0.046571s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_blog_category` [ RunTime:0.005282s ]
[ sql ] [ SQL ] SELECT * FROM `fa_blog_category` WHERE  `id` = 3 LIMIT 1 [ RunTime:0.000869s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_blog_comment` [ RunTime:0.004926s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `fa_blog_comment` WHERE  `post_id` = 7  AND `pid` = 0  AND `status` = 'normal' LIMIT 1 [ RunTime:0.001072s ]
[ sql ] [ SQL ] SELECT * FROM `fa_blog_comment` WHERE  `post_id` = 7  AND `pid` = 0  AND `status` = 'normal' ORDER BY `id` DESC LIMIT 0,10 [ RunTime:0.001080s ]
[ sql ] [ SQL ] SELECT * FROM `fa_blog_category` WHERE  `id` IN (3,2) [ RunTime:0.000979s ]
[ sql ] [ SQL ] SELECT * FROM `fa_blog_category` WHERE  `id` IN (3,2,1) [ RunTime:0.000985s ]
[ sql ] [ SQL ] SELECT * FROM `fa_blog_category` WHERE  `id` IN (2) [ RunTime:0.000781s ]
---------------------------------------------------------------
[ 2020-03-05T11:51:51+08:00 ] 127.0.0.1 GET www.jfmblog.com/p/7.html
[ sql ] [ DB ] CONNECT:[ UseTime:0.012103s ] mysql:host=127.0.0.1;dbname=jfmblog;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_blog_post` [ RunTime:0.005554s ]
[ sql ] [ SQL ] SELECT * FROM `fa_blog_post` WHERE  `id` = 7 LIMIT 1 [ RunTime:0.000921s ]
[ sql ] [ SQL ] UPDATE `fa_blog_post`  SET `views`=`views`+1  WHERE  `id` = 7 [ RunTime:0.028964s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_blog_category` [ RunTime:0.004959s ]
[ sql ] [ SQL ] SELECT * FROM `fa_blog_category` WHERE  `id` = 3 LIMIT 1 [ RunTime:0.000880s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_blog_comment` [ RunTime:0.005309s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `fa_blog_comment` WHERE  `post_id` = 7  AND `pid` = 0  AND `status` = 'normal' LIMIT 1 [ RunTime:0.001088s ]
[ sql ] [ SQL ] SELECT * FROM `fa_blog_comment` WHERE  `post_id` = 7  AND `pid` = 0  AND `status` = 'normal' ORDER BY `id` DESC LIMIT 0,10 [ RunTime:0.001033s ]
[ sql ] [ SQL ] SELECT * FROM `fa_blog_category` WHERE  `id` IN (3,2) [ RunTime:0.000972s ]
[ sql ] [ SQL ] SELECT * FROM `fa_blog_category` WHERE  `id` IN (3,2,1) [ RunTime:0.001008s ]
[ sql ] [ SQL ] SELECT * FROM `fa_blog_category` WHERE  `id` IN (2) [ RunTime:0.000766s ]
---------------------------------------------------------------
[ 2020-03-05T11:51:53+08:00 ] 127.0.0.1 GET www.jfmblog.com/p/7.html
[ sql ] [ DB ] CONNECT:[ UseTime:0.017514s ] mysql:host=127.0.0.1;dbname=jfmblog;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_blog_post` [ RunTime:0.012632s ]
[ sql ] [ SQL ] SELECT * FROM `fa_blog_post` WHERE  `id` = 7 LIMIT 1 [ RunTime:0.000944s ]
[ sql ] [ SQL ] UPDATE `fa_blog_post`  SET `views`=`views`+1  WHERE  `id` = 7 [ RunTime:0.050571s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_blog_category` [ RunTime:0.008291s ]
[ sql ] [ SQL ] SELECT * FROM `fa_blog_category` WHERE  `id` = 3 LIMIT 1 [ RunTime:0.001171s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_blog_comment` [ RunTime:0.006456s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `fa_blog_comment` WHERE  `post_id` = 7  AND `pid` = 0  AND `status` = 'normal' LIMIT 1 [ RunTime:0.001007s ]
[ sql ] [ SQL ] SELECT * FROM `fa_blog_comment` WHERE  `post_id` = 7  AND `pid` = 0  AND `status` = 'normal' ORDER BY `id` DESC LIMIT 0,10 [ RunTime:0.001087s ]
[ sql ] [ SQL ] SELECT * FROM `fa_blog_category` WHERE  `id` IN (3,2) [ RunTime:0.001086s ]
[ sql ] [ SQL ] SELECT * FROM `fa_blog_category` WHERE  `id` IN (3,2,1) [ RunTime:0.001109s ]
[ sql ] [ SQL ] SELECT * FROM `fa_blog_category` WHERE  `id` IN (2) [ RunTime:0.000864s ]
---------------------------------------------------------------
[ 2020-03-05T12:02:00+08:00 ] 127.0.0.1 POST www.jfmblog.com/admin/addon/state
[ sql ] [ DB ] CONNECT:[ UseTime:0.014359s ] mysql:host=127.0.0.1;dbname=jfmblog;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_auth_group_access` [ RunTime:0.012116s ]
[ sql ] [ SQL ] SELECT `aga`.`uid`,`aga`.`group_id`,`ag`.`id`,`ag`.`pid`,`ag`.`name`,`ag`.`rules` FROM `fa_auth_group_access` `aga` LEFT JOIN `fa_auth_group` `ag` ON `aga`.`group_id`=`ag`.`id` WHERE  (  aga.uid='1' and ag.status='normal' ) [ RunTime:0.000787s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_auth_rule` [ RunTime:0.004773s ]
[ sql ] [ SQL ] SELECT `id`,`pid`,`condition`,`icon`,`name`,`title`,`ismenu` FROM `fa_auth_rule` WHERE  `status` = 'normal' [ RunTime:0.001164s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_admin_log` [ RunTime:0.004841s ]
[ sql ] [ SQL ] INSERT INTO `fa_admin_log` (`title` , `content` , `url` , `admin_id` , `username` , `useragent` , `ip` , `createtime`) VALUES ('插件管理 禁用启用' , '{\"name\":\"tinymce\",\"action\":\"disable\",\"force\":\"0\"}' , '/admin/addon/state' , 1 , 'admin' , 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/80.0.3970.5 Safari/537.36' , '127.0.0.1' , 1583380919) [ RunTime:0.152053s ]
---------------------------------------------------------------
[ 2020-03-05T12:02:00+08:00 ] 127.0.0.1 POST www.jfmblog.com/admin/index/index
[ sql ] [ DB ] CONNECT:[ UseTime:0.012077s ] mysql:host=127.0.0.1;dbname=jfmblog;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_auth_group_access` [ RunTime:0.012143s ]
[ sql ] [ SQL ] SELECT `aga`.`uid`,`aga`.`group_id`,`ag`.`id`,`ag`.`pid`,`ag`.`name`,`ag`.`rules` FROM `fa_auth_group_access` `aga` LEFT JOIN `fa_auth_group` `ag` ON `aga`.`group_id`=`ag`.`id` WHERE  (  aga.uid='1' and ag.status='normal' ) [ RunTime:0.000798s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_auth_rule` [ RunTime:0.005244s ]
[ sql ] [ SQL ] SELECT `id`,`pid`,`condition`,`icon`,`name`,`title`,`ismenu` FROM `fa_auth_rule` WHERE  `status` = 'normal' [ RunTime:0.001112s ]
[ sql ] [ SQL ] SELECT * FROM `fa_auth_rule` WHERE  `status` = 'normal'  AND `ismenu` = 1 ORDER BY `weigh` DESC [ RunTime:0.001124s ]
[ sql ] [ SQL ] SELECT `name`,`pid` FROM `fa_auth_rule` WHERE  `status` = 'normal'  AND `ismenu` = 0  AND `name` LIKE '%/index' [ RunTime:0.001063s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_admin_log` [ RunTime:0.012086s ]
[ sql ] [ SQL ] INSERT INTO `fa_admin_log` (`title` , `content` , `url` , `admin_id` , `username` , `useragent` , `ip` , `createtime`) VALUES ('' , '{\"action\":\"refreshmenu\"}' , '/admin/index/index' , 1 , 'admin' , 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/80.0.3970.5 Safari/537.36' , '127.0.0.1' , 1583380920) [ RunTime:0.119320s ]
---------------------------------------------------------------
[ 2020-03-05T12:02:05+08:00 ] 127.0.0.1 POST www.jfmblog.com/admin/addon/uninstall
[ sql ] [ DB ] CONNECT:[ UseTime:0.011949s ] mysql:host=127.0.0.1;dbname=jfmblog;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_auth_group_access` [ RunTime:0.011888s ]
[ sql ] [ SQL ] SELECT `aga`.`uid`,`aga`.`group_id`,`ag`.`id`,`ag`.`pid`,`ag`.`name`,`ag`.`rules` FROM `fa_auth_group_access` `aga` LEFT JOIN `fa_auth_group` `ag` ON `aga`.`group_id`=`ag`.`id` WHERE  (  aga.uid='1' and ag.status='normal' ) [ RunTime:0.000820s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_auth_rule` [ RunTime:0.004976s ]
[ sql ] [ SQL ] SELECT `id`,`pid`,`condition`,`icon`,`name`,`title`,`ismenu` FROM `fa_auth_rule` WHERE  `status` = 'normal' [ RunTime:0.001192s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_admin_log` [ RunTime:0.004943s ]
[ sql ] [ SQL ] INSERT INTO `fa_admin_log` (`title` , `content` , `url` , `admin_id` , `username` , `useragent` , `ip` , `createtime`) VALUES ('插件管理 卸载' , '{\"name\":\"tinymce\",\"force\":\"0\"}' , '/admin/addon/uninstall' , 1 , 'admin' , 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/80.0.3970.5 Safari/537.36' , '127.0.0.1' , 1583380925) [ RunTime:0.142343s ]
---------------------------------------------------------------
[ 2020-03-05T12:02:06+08:00 ] 127.0.0.1 POST www.jfmblog.com/admin/index/index
[ sql ] [ DB ] CONNECT:[ UseTime:0.014222s ] mysql:host=127.0.0.1;dbname=jfmblog;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_auth_group_access` [ RunTime:0.016020s ]
[ sql ] [ SQL ] SELECT `aga`.`uid`,`aga`.`group_id`,`ag`.`id`,`ag`.`pid`,`ag`.`name`,`ag`.`rules` FROM `fa_auth_group_access` `aga` LEFT JOIN `fa_auth_group` `ag` ON `aga`.`group_id`=`ag`.`id` WHERE  (  aga.uid='1' and ag.status='normal' ) [ RunTime:0.001127s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_auth_rule` [ RunTime:0.007000s ]
[ sql ] [ SQL ] SELECT `id`,`pid`,`condition`,`icon`,`name`,`title`,`ismenu` FROM `fa_auth_rule` WHERE  `status` = 'normal' [ RunTime:0.001120s ]
[ sql ] [ SQL ] SELECT `name`,`pid` FROM `fa_auth_rule` WHERE  `status` = 'normal'  AND `ismenu` = 0  AND `name` LIKE '%/index' [ RunTime:0.001101s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_admin_log` [ RunTime:0.012170s ]
[ sql ] [ SQL ] INSERT INTO `fa_admin_log` (`title` , `content` , `url` , `admin_id` , `username` , `useragent` , `ip` , `createtime`) VALUES ('' , '{\"action\":\"refreshmenu\"}' , '/admin/index/index' , 1 , 'admin' , 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/80.0.3970.5 Safari/537.36' , '127.0.0.1' , 1583380926) [ RunTime:0.052015s ]
---------------------------------------------------------------
[ 2020-03-05T12:02:10+08:00 ] 127.0.0.1 POST www.jfmblog.com/admin/addon/install
[ sql ] [ DB ] CONNECT:[ UseTime:0.012598s ] mysql:host=127.0.0.1;dbname=jfmblog;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_auth_group_access` [ RunTime:0.012284s ]
[ sql ] [ SQL ] SELECT `aga`.`uid`,`aga`.`group_id`,`ag`.`id`,`ag`.`pid`,`ag`.`name`,`ag`.`rules` FROM `fa_auth_group_access` `aga` LEFT JOIN `fa_auth_group` `ag` ON `aga`.`group_id`=`ag`.`id` WHERE  (  aga.uid='1' and ag.status='normal' ) [ RunTime:0.000853s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_auth_rule` [ RunTime:0.006236s ]
[ sql ] [ SQL ] SELECT `id`,`pid`,`condition`,`icon`,`name`,`title`,`ismenu` FROM `fa_auth_rule` WHERE  `status` = 'normal' [ RunTime:0.001174s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_admin_log` [ RunTime:0.005025s ]
[ sql ] [ SQL ] INSERT INTO `fa_admin_log` (`title` , `content` , `url` , `admin_id` , `username` , `useragent` , `ip` , `createtime`) VALUES ('插件管理 安装' , '{\"name\":\"simditor\",\"force\":\"0\",\"uid\":\"15122\",\"token\":\"7008d8af-b206-4957-915c-ef2dc5b6d10b\",\"version\":\"1.0.5\",\"faversion\":\"1.0.0.20191101_beta\"}' , '/admin/addon/install' , 1 , 'admin' , 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/80.0.3970.5 Safari/537.36' , '127.0.0.1' , 1583380930) [ RunTime:0.049515s ]
---------------------------------------------------------------
[ 2020-03-05T12:02:11+08:00 ] 127.0.0.1 POST www.jfmblog.com/admin/index/index
[ sql ] [ DB ] CONNECT:[ UseTime:0.023106s ] mysql:host=127.0.0.1;dbname=jfmblog;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_auth_group_access` [ RunTime:0.012898s ]
[ sql ] [ SQL ] SELECT `aga`.`uid`,`aga`.`group_id`,`ag`.`id`,`ag`.`pid`,`ag`.`name`,`ag`.`rules` FROM `fa_auth_group_access` `aga` LEFT JOIN `fa_auth_group` `ag` ON `aga`.`group_id`=`ag`.`id` WHERE  (  aga.uid='1' and ag.status='normal' ) [ RunTime:0.000705s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_auth_rule` [ RunTime:0.005499s ]
[ sql ] [ SQL ] SELECT `id`,`pid`,`condition`,`icon`,`name`,`title`,`ismenu` FROM `fa_auth_rule` WHERE  `status` = 'normal' [ RunTime:0.001068s ]
[ sql ] [ SQL ] SELECT `name`,`pid` FROM `fa_auth_rule` WHERE  `status` = 'normal'  AND `ismenu` = 0  AND `name` LIKE '%/index' [ RunTime:0.001181s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_admin_log` [ RunTime:0.012320s ]
[ sql ] [ SQL ] INSERT INTO `fa_admin_log` (`title` , `content` , `url` , `admin_id` , `username` , `useragent` , `ip` , `createtime`) VALUES ('' , '{\"action\":\"refreshmenu\"}' , '/admin/index/index' , 1 , 'admin' , 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/80.0.3970.5 Safari/537.36' , '127.0.0.1' , 1583380931) [ RunTime:0.038286s ]
---------------------------------------------------------------
[ 2020-03-05T12:02:14+08:00 ] 127.0.0.1 GET www.jfmblog.com/admin/ajax/wipecache?type=all&_=1583380284748
[ error ] [0]致命错误: Class '\addons\tinymce\Tinymce' not found
---------------------------------------------------------------
[ 2020-03-05T12:02:20+08:00 ] 127.0.0.1 GET www.jfmblog.com/admin/blog/post/index?sort=weigh&order=desc&offset=0&limit=10&filter=%7B%7D&op=%7B%7D&_=1583380288350
[ sql ] [ DB ] CONNECT:[ UseTime:0.011815s ] mysql:host=127.0.0.1;dbname=jfmblog;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_auth_group_access` [ RunTime:0.004854s ]
[ sql ] [ SQL ] SELECT `aga`.`uid`,`aga`.`group_id`,`ag`.`id`,`ag`.`pid`,`ag`.`name`,`ag`.`rules` FROM `fa_auth_group_access` `aga` LEFT JOIN `fa_auth_group` `ag` ON `aga`.`group_id`=`ag`.`id` WHERE  (  aga.uid='1' and ag.status='normal' ) [ RunTime:0.000927s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_auth_rule` [ RunTime:0.005176s ]
[ sql ] [ SQL ] SELECT `id`,`pid`,`condition`,`icon`,`name`,`title`,`ismenu` FROM `fa_auth_rule` WHERE  `status` = 'normal' [ RunTime:0.001157s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_blog_category` [ RunTime:0.005106s ]
[ sql ] [ SQL ] SELECT * FROM `fa_blog_category` ORDER BY `weigh` DESC,`id` DESC [ RunTime:0.000829s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_blog_post` [ RunTime:0.005617s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `fa_blog_post` `blog_post` LEFT JOIN `fa_blog_category` `category` ON `blog_post`.`category_id`=`category`.`id` ORDER BY `blog_post`.`weigh` DESC LIMIT 1 [ RunTime:0.000720s ]
[ sql ] [ SQL ] SELECT `blog_post`.`id`,`blog_post`.`category_id`,`blog_post`.`flag`,`blog_post`.`title`,`blog_post`.`summary`,`blog_post`.`content`,`blog_post`.`thumb`,`blog_post`.`image`,`blog_post`.`keywords`,`blog_post`.`description`,`blog_post`.`views`,`blog_post`.`comments`,`blog_post`.`createtime`,`blog_post`.`updatetime`,`blog_post`.`weigh`,`blog_post`.`status`,category.id AS category__id,category.pid AS category__pid,category.name AS category__name,category.nickname AS category__nickname,category.flag AS category__flag,category.image AS category__image,category.keywords AS category__keywords,category.description AS category__description,category.diyname AS category__diyname,category.createtime AS category__createtime,category.updatetime AS category__updatetime,category.weigh AS category__weigh,category.status AS category__status FROM `fa_blog_post` `blog_post` LEFT JOIN `fa_blog_category` `category` ON `blog_post`.`category_id`=`category`.`id` ORDER BY `blog_post`.`weigh` DESC LIMIT 0,10 [ RunTime:0.000889s ]
---------------------------------------------------------------
[ 2020-03-05T12:02:23+08:00 ] 127.0.0.1 GET www.jfmblog.com/admin/blog/post/edit/ids/7?dialog=1
[ sql ] [ DB ] CONNECT:[ UseTime:0.011991s ] mysql:host=127.0.0.1;dbname=jfmblog;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_auth_group_access` [ RunTime:0.012464s ]
[ sql ] [ SQL ] SELECT `aga`.`uid`,`aga`.`group_id`,`ag`.`id`,`ag`.`pid`,`ag`.`name`,`ag`.`rules` FROM `fa_auth_group_access` `aga` LEFT JOIN `fa_auth_group` `ag` ON `aga`.`group_id`=`ag`.`id` WHERE  (  aga.uid='1' and ag.status='normal' ) [ RunTime:0.000778s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_auth_rule` [ RunTime:0.005716s ]
[ sql ] [ SQL ] SELECT `id`,`pid`,`condition`,`icon`,`name`,`title`,`ismenu` FROM `fa_auth_rule` WHERE  `status` = 'normal' [ RunTime:0.001154s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_blog_category` [ RunTime:0.005363s ]
[ sql ] [ SQL ] SELECT * FROM `fa_blog_category` ORDER BY `weigh` DESC,`id` DESC [ RunTime:0.000834s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_blog_post` [ RunTime:0.005116s ]
[ sql ] [ SQL ] SELECT * FROM `fa_blog_post` WHERE  `id` = 7 LIMIT 1 [ RunTime:0.000860s ]
---------------------------------------------------------------
[ 2020-03-05T12:02:54+08:00 ] 127.0.0.1 POST www.jfmblog.com/admin/blog/post/edit/ids/7?dialog=1
[ sql ] [ DB ] CONNECT:[ UseTime:0.011872s ] mysql:host=127.0.0.1;dbname=jfmblog;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_auth_group_access` [ RunTime:0.011896s ]
[ sql ] [ SQL ] SELECT `aga`.`uid`,`aga`.`group_id`,`ag`.`id`,`ag`.`pid`,`ag`.`name`,`ag`.`rules` FROM `fa_auth_group_access` `aga` LEFT JOIN `fa_auth_group` `ag` ON `aga`.`group_id`=`ag`.`id` WHERE  (  aga.uid='1' and ag.status='normal' ) [ RunTime:0.000870s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_auth_rule` [ RunTime:0.005248s ]
[ sql ] [ SQL ] SELECT `id`,`pid`,`condition`,`icon`,`name`,`title`,`ismenu` FROM `fa_auth_rule` WHERE  `status` = 'normal' [ RunTime:0.001173s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_blog_category` [ RunTime:0.005039s ]
[ sql ] [ SQL ] SELECT * FROM `fa_blog_category` ORDER BY `weigh` DESC,`id` DESC [ RunTime:0.000738s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_blog_post` [ RunTime:0.005122s ]
[ sql ] [ SQL ] SELECT * FROM `fa_blog_post` WHERE  `id` = 7 LIMIT 1 [ RunTime:0.000849s ]
[ sql ] [ SQL ] UPDATE `fa_blog_post`  SET `content`='import requests\r\nimport time\r\n\r\n\r\nclass TiebaSpider:\r\n    def __init__(self, name):\r\n        self.name = name\r\n        self.url = \"https://tieba.baidu.com/f?kw=\"+name+\"&ie=utf-8&pn={}\"\r\n        self.headers = {\"User-Agent\": \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36\"\r\n                                      \" (KHTML, like Gecko) Chrome/80.0.3970.5 Safari/537.36\"}\r\n\r\n    def get_url_list(self):\r\n        \'\'\'构造url列表\'\'\'\r\n        url_list = []\r\n        for i in range(1000):\r\n            url_list.append(self.url.format(i * 50))\r\n        return url_list\r\n\r\n    def parse_url(self, url):\r\n        \'\'\'解析url\'\'\'\r\n        response = requests.get(url, headers=self.headers)\r\n        return response.content.decode()\r\n\r\n    def save_html(self, html_str, page_num):\r\n        file_path = \"{}--第{}页.html\".format(self.name, page_num)\r\n        with open(file_path, \"w\", encoding=\"utf-8\") as f:\r\n            f.write(html_str)\r\n\r\n    def run(self):\r\n        # 1.构造url列表\r\n        url_list = self.get_url_list()\r\n        # 2.遍历，发送请求，获取相应\r\n        for url in url_list:\r\n            html_str = self.parse_url(url)\r\n            # 3.保存\r\n            page_num = url_list.index(url) + 1\r\n            self.save_html(html_str, page_num)\r\n            time.sleep(10)\r\n\r\n\r\nif __name__ == \'__main__\':\r\n    tieba = TiebaSpider(\"吴亦凡\")\r\n    tieba.run()\r\n',`comments`=0,`updatetime`=1583380974  WHERE  `id` = 7 [ RunTime:0.001074s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_admin_log` [ RunTime:0.005286s ]
[ sql ] [ SQL ] INSERT INTO `fa_admin_log` (`title` , `content` , `url` , `admin_id` , `username` , `useragent` , `ip` , `createtime`) VALUES ('博客管理 日志管理 修改' , '{\"dialog\":\"1\",\"row\":{\"category_id\":\"3\",\"flag\":[\"hot\"],\"title\":\"\\u901a\\u7528\\u722c\\u866b\",\"summary\":\"\\u901a\\u7528\\u722c\\u866b\",\"content\":\"import requests\\r\\nimport time\\r\\n\\r\\n\\r\\nclass TiebaSpider:\\r\\n    def __init__(self, name):\\r\\n        self.name = name\\r\\n        self.url = &quot;https:\\/\\/tieba.baidu.com\\/f?kw=&quot;+name+&quot;&amp;ie=utf-8&amp;pn={}&quot;\\r\\n        self.headers = {&quot;User-Agent&quot;: &quot;Mozilla\\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\\/537.36&quot;\\r\\n                                      &quot; (KHTML, like Gecko) Chrome\\/80.0.3970.5 Safari\\/537.36&quot;}\\r\\n\\r\\n    def get_url_list(self):\\r\\n        \'\'\'\\u6784\\u9020url\\u5217\\u8868\'\'\'\\r\\n        url_list = []\\r\\n        for i in range(1000):\\r\\n            url_list.append(self.url.format(i * 50))\\r\\n        return url_list\\r\\n\\r\\n    def parse_url(self, url):\\r\\n        \'\'\'\\u89e3\\u6790url\'\'\'\\r\\n        response = requests.get(url, headers=self.headers)\\r\\n        return response.content.decode()\\r\\n\\r\\n    def save_html(self, html_str, page_num):\\r\\n        file_path = &quot;{}--\\u7b2c{}\\u9875.html&quot;.format(self.name, page_num)\\r\\n        with open(file_path, &quot;w&quot;, encoding=&quot;utf-8&quot;) as f:\\r\\n            f.write(html_str)\\r\\n\\r\\n    def run(self):\\r\\n        # 1.\\u6784\\u9020url\\u5217\\u8868\\r\\n        url_list = self.get_url_list()\\r\\n        # 2.\\u904d\\u5386\\uff0c\\u53d1\\u9001\\u8bf7\\u6c42\\uff0c\\u83b7\\u53d6\\u76f8\\u5e94\\r\\n        for url in url_list:\\r\\n            html_str = self.parse_url(url)\\r\\n            # 3.\\u4fdd\\u5b58\\r\\n            page_num = url_list.index(url) + 1\\r\\n            self.save_html(html_str, page_num)\\r\\n            time.sleep(10)\\r\\n\\r\\n\\r\\nif __name__ == \'__main__\':\\r\\n    tieba = TiebaSpider(&quot;\\u5434\\u4ea6\\u51e1&quot;)\\r\\n    tieba.run()\",\"thumb\":\"\",\"image\":\"\",\"keywords\":\"\",\"description\":\"\",\"views\":\"10\",\"comments\":\"0\",\"weigh\":\"7\",\"status\":\"normal\"},\"ids\":\"7\"}' , '/admin/blog/post/edit/ids/7?dialog=1' , 1 , 'admin' , 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/80.0.3970.5 Safari/537.36' , '127.0.0.1' , 1583380974) [ RunTime:0.048473s ]
---------------------------------------------------------------
[ 2020-03-05T12:02:55+08:00 ] 127.0.0.1 GET www.jfmblog.com/admin/blog/post/index?sort=weigh&order=desc&offset=0&limit=10&filter=%7B%7D&op=%7B%7D&_=1583380288351
[ sql ] [ DB ] CONNECT:[ UseTime:0.012382s ] mysql:host=127.0.0.1;dbname=jfmblog;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_auth_group_access` [ RunTime:0.005261s ]
[ sql ] [ SQL ] SELECT `aga`.`uid`,`aga`.`group_id`,`ag`.`id`,`ag`.`pid`,`ag`.`name`,`ag`.`rules` FROM `fa_auth_group_access` `aga` LEFT JOIN `fa_auth_group` `ag` ON `aga`.`group_id`=`ag`.`id` WHERE  (  aga.uid='1' and ag.status='normal' ) [ RunTime:0.000769s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_auth_rule` [ RunTime:0.006185s ]
[ sql ] [ SQL ] SELECT `id`,`pid`,`condition`,`icon`,`name`,`title`,`ismenu` FROM `fa_auth_rule` WHERE  `status` = 'normal' [ RunTime:0.001143s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_blog_category` [ RunTime:0.006058s ]
[ sql ] [ SQL ] SELECT * FROM `fa_blog_category` ORDER BY `weigh` DESC,`id` DESC [ RunTime:0.000772s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_blog_post` [ RunTime:0.005811s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `fa_blog_post` `blog_post` LEFT JOIN `fa_blog_category` `category` ON `blog_post`.`category_id`=`category`.`id` ORDER BY `blog_post`.`weigh` DESC LIMIT 1 [ RunTime:0.000754s ]
[ sql ] [ SQL ] SELECT `blog_post`.`id`,`blog_post`.`category_id`,`blog_post`.`flag`,`blog_post`.`title`,`blog_post`.`summary`,`blog_post`.`content`,`blog_post`.`thumb`,`blog_post`.`image`,`blog_post`.`keywords`,`blog_post`.`description`,`blog_post`.`views`,`blog_post`.`comments`,`blog_post`.`createtime`,`blog_post`.`updatetime`,`blog_post`.`weigh`,`blog_post`.`status`,category.id AS category__id,category.pid AS category__pid,category.name AS category__name,category.nickname AS category__nickname,category.flag AS category__flag,category.image AS category__image,category.keywords AS category__keywords,category.description AS category__description,category.diyname AS category__diyname,category.createtime AS category__createtime,category.updatetime AS category__updatetime,category.weigh AS category__weigh,category.status AS category__status FROM `fa_blog_post` `blog_post` LEFT JOIN `fa_blog_category` `category` ON `blog_post`.`category_id`=`category`.`id` ORDER BY `blog_post`.`weigh` DESC LIMIT 0,10 [ RunTime:0.000986s ]
---------------------------------------------------------------
[ 2020-03-05T12:02:59+08:00 ] 127.0.0.1 GET www.jfmblog.com/p/7.html
[ sql ] [ DB ] CONNECT:[ UseTime:0.011783s ] mysql:host=127.0.0.1;dbname=jfmblog;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_blog_category` [ RunTime:0.012264s ]
[ sql ] [ SQL ] SELECT * FROM `fa_blog_category` WHERE  `status` = 'normal' ORDER BY `weigh` DESC,`id` DESC [ RunTime:0.000904s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_blog_post` [ RunTime:0.005034s ]
[ sql ] [ SQL ] SELECT * FROM `fa_blog_post` WHERE  `id` = 7 LIMIT 1 [ RunTime:0.000921s ]
[ sql ] [ SQL ] UPDATE `fa_blog_post`  SET `views`=`views`+1  WHERE  `id` = 7 [ RunTime:0.036258s ]
[ sql ] [ SQL ] SELECT * FROM `fa_blog_category` WHERE  `id` = 3 LIMIT 1 [ RunTime:0.000878s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_blog_comment` [ RunTime:0.005201s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `fa_blog_comment` WHERE  `post_id` = 7  AND `pid` = 0  AND `status` = 'normal' LIMIT 1 [ RunTime:0.001061s ]
[ sql ] [ SQL ] SELECT * FROM `fa_blog_comment` WHERE  `post_id` = 7  AND `pid` = 0  AND `status` = 'normal' ORDER BY `id` DESC LIMIT 0,10 [ RunTime:0.001071s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_blog_block` [ RunTime:0.005114s ]
[ sql ] [ SQL ] SELECT * FROM `fa_blog_block` WHERE  `name` = 'sidebarad1'  AND `status` = 'normal' LIMIT 1 [ RunTime:0.000976s ]
[ sql ] [ SQL ] SELECT * FROM `fa_blog_block` WHERE  `name` = 'sidebarad2'  AND `status` = 'normal' LIMIT 1 [ RunTime:0.000993s ]
[ sql ] [ SQL ] SELECT * FROM `fa_blog_post` WHERE  `status` = 'normal' ORDER BY `createtime` DESC LIMIT 3 [ RunTime:0.000840s ]
[ sql ] [ SQL ] SELECT * FROM `fa_blog_category` WHERE  `id` IN (3,2) [ RunTime:0.000918s ]
[ sql ] [ SQL ] SELECT * FROM `fa_blog_post` WHERE  `status` = 'normal' ORDER BY `createtime` DESC LIMIT 10 [ RunTime:0.000847s ]
[ sql ] [ SQL ] SELECT * FROM `fa_blog_category` WHERE  `id` IN (3,2,1) [ RunTime:0.000958s ]
[ sql ] [ SQL ] SELECT * FROM `fa_blog_post` WHERE  `status` = 'normal'  AND (  (FIND_IN_SET('recommend', flag)) ) ORDER BY `createtime` DESC LIMIT 10 [ RunTime:0.001068s ]
[ sql ] [ SQL ] SELECT * FROM `fa_blog_category` WHERE  `id` IN (2) [ RunTime:0.000723s ]
---------------------------------------------------------------
[ 2020-03-05T12:03:01+08:00 ] 127.0.0.1 GET www.jfmblog.com/p/7.html
[ sql ] [ DB ] CONNECT:[ UseTime:0.012166s ] mysql:host=127.0.0.1;dbname=jfmblog;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_blog_post` [ RunTime:0.012237s ]
[ sql ] [ SQL ] SELECT * FROM `fa_blog_post` WHERE  `id` = 7 LIMIT 1 [ RunTime:0.000938s ]
[ sql ] [ SQL ] UPDATE `fa_blog_post`  SET `views`=`views`+1  WHERE  `id` = 7 [ RunTime:0.035733s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_blog_category` [ RunTime:0.004938s ]
[ sql ] [ SQL ] SELECT * FROM `fa_blog_category` WHERE  `id` = 3 LIMIT 1 [ RunTime:0.000882s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_blog_comment` [ RunTime:0.004939s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `fa_blog_comment` WHERE  `post_id` = 7  AND `pid` = 0  AND `status` = 'normal' LIMIT 1 [ RunTime:0.001205s ]
[ sql ] [ SQL ] SELECT * FROM `fa_blog_comment` WHERE  `post_id` = 7  AND `pid` = 0  AND `status` = 'normal' ORDER BY `id` DESC LIMIT 0,10 [ RunTime:0.001011s ]
[ sql ] [ SQL ] SELECT * FROM `fa_blog_category` WHERE  `id` IN (3,2) [ RunTime:0.000992s ]
[ sql ] [ SQL ] SELECT * FROM `fa_blog_category` WHERE  `id` IN (3,2,1) [ RunTime:0.001523s ]
[ sql ] [ SQL ] SELECT * FROM `fa_blog_category` WHERE  `id` IN (2) [ RunTime:0.000814s ]
---------------------------------------------------------------
[ 2020-03-05T12:03:04+08:00 ] 127.0.0.1 GET www.jfmblog.com/admin/blog/post?ref=addtabs
[ sql ] [ DB ] CONNECT:[ UseTime:0.011895s ] mysql:host=127.0.0.1;dbname=jfmblog;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_auth_group_access` [ RunTime:0.011985s ]
[ sql ] [ SQL ] SELECT `aga`.`uid`,`aga`.`group_id`,`ag`.`id`,`ag`.`pid`,`ag`.`name`,`ag`.`rules` FROM `fa_auth_group_access` `aga` LEFT JOIN `fa_auth_group` `ag` ON `aga`.`group_id`=`ag`.`id` WHERE  (  aga.uid='1' and ag.status='normal' ) [ RunTime:0.000767s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_auth_rule` [ RunTime:0.004894s ]
[ sql ] [ SQL ] SELECT `id`,`pid`,`condition`,`icon`,`name`,`title`,`ismenu` FROM `fa_auth_rule` WHERE  `status` = 'normal' [ RunTime:0.001161s ]
---------------------------------------------------------------
[ 2020-03-05T12:03:05+08:00 ] 127.0.0.1 GET www.jfmblog.com/admin/index/index
[ sql ] [ DB ] CONNECT:[ UseTime:0.012890s ] mysql:host=127.0.0.1;dbname=jfmblog;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_auth_group_access` [ RunTime:0.007637s ]
[ sql ] [ SQL ] SELECT `aga`.`uid`,`aga`.`group_id`,`ag`.`id`,`ag`.`pid`,`ag`.`name`,`ag`.`rules` FROM `fa_auth_group_access` `aga` LEFT JOIN `fa_auth_group` `ag` ON `aga`.`group_id`=`ag`.`id` WHERE  (  aga.uid='1' and ag.status='normal' ) [ RunTime:0.000664s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_auth_rule` [ RunTime:0.005521s ]
[ sql ] [ SQL ] SELECT `id`,`pid`,`condition`,`icon`,`name`,`title`,`ismenu` FROM `fa_auth_rule` WHERE  `status` = 'normal' [ RunTime:0.000989s ]
[ sql ] [ SQL ] SELECT * FROM `fa_auth_rule` WHERE  `status` = 'normal'  AND `ismenu` = 1 ORDER BY `weigh` DESC [ RunTime:0.001072s ]
[ sql ] [ SQL ] SELECT `name`,`pid` FROM `fa_auth_rule` WHERE  `status` = 'normal'  AND `ismenu` = 0  AND `name` LIKE '%/index' [ RunTime:0.001069s ]
---------------------------------------------------------------
[ 2020-03-05T12:03:05+08:00 ] 127.0.0.1 GET www.jfmblog.com/admin/blog/post?addtabs=1
[ sql ] [ DB ] CONNECT:[ UseTime:0.002629s ] mysql:host=127.0.0.1;dbname=jfmblog;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_auth_group_access` [ RunTime:0.005773s ]
[ sql ] [ SQL ] SELECT `aga`.`uid`,`aga`.`group_id`,`ag`.`id`,`ag`.`pid`,`ag`.`name`,`ag`.`rules` FROM `fa_auth_group_access` `aga` LEFT JOIN `fa_auth_group` `ag` ON `aga`.`group_id`=`ag`.`id` WHERE  (  aga.uid='1' and ag.status='normal' ) [ RunTime:0.000745s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_auth_rule` [ RunTime:0.005018s ]
[ sql ] [ SQL ] SELECT `id`,`pid`,`condition`,`icon`,`name`,`title`,`ismenu` FROM `fa_auth_rule` WHERE  `status` = 'normal' [ RunTime:0.001167s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_blog_category` [ RunTime:0.005224s ]
[ sql ] [ SQL ] SELECT * FROM `fa_blog_category` ORDER BY `weigh` DESC,`id` DESC [ RunTime:0.000768s ]
[ sql ] [ SQL ] SELECT `title`,`remark` FROM `fa_auth_rule` WHERE  `name` = 'blog/post' LIMIT 1 [ RunTime:0.000782s ]
---------------------------------------------------------------
[ 2020-03-05T12:03:06+08:00 ] 127.0.0.1 GET www.jfmblog.com/admin/blog/post/index?sort=weigh&order=desc&offset=0&limit=10&filter=%7B%7D&op=%7B%7D&_=1583380986015
[ sql ] [ DB ] CONNECT:[ UseTime:0.012495s ] mysql:host=127.0.0.1;dbname=jfmblog;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_auth_group_access` [ RunTime:0.011941s ]
[ sql ] [ SQL ] SELECT `aga`.`uid`,`aga`.`group_id`,`ag`.`id`,`ag`.`pid`,`ag`.`name`,`ag`.`rules` FROM `fa_auth_group_access` `aga` LEFT JOIN `fa_auth_group` `ag` ON `aga`.`group_id`=`ag`.`id` WHERE  (  aga.uid='1' and ag.status='normal' ) [ RunTime:0.000806s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_auth_rule` [ RunTime:0.005032s ]
[ sql ] [ SQL ] SELECT `id`,`pid`,`condition`,`icon`,`name`,`title`,`ismenu` FROM `fa_auth_rule` WHERE  `status` = 'normal' [ RunTime:0.001169s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_blog_category` [ RunTime:0.005088s ]
[ sql ] [ SQL ] SELECT * FROM `fa_blog_category` ORDER BY `weigh` DESC,`id` DESC [ RunTime:0.000777s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_blog_post` [ RunTime:0.005264s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `fa_blog_post` `blog_post` LEFT JOIN `fa_blog_category` `category` ON `blog_post`.`category_id`=`category`.`id` ORDER BY `blog_post`.`weigh` DESC LIMIT 1 [ RunTime:0.000607s ]
[ sql ] [ SQL ] SELECT `blog_post`.`id`,`blog_post`.`category_id`,`blog_post`.`flag`,`blog_post`.`title`,`blog_post`.`summary`,`blog_post`.`content`,`blog_post`.`thumb`,`blog_post`.`image`,`blog_post`.`keywords`,`blog_post`.`description`,`blog_post`.`views`,`blog_post`.`comments`,`blog_post`.`createtime`,`blog_post`.`updatetime`,`blog_post`.`weigh`,`blog_post`.`status`,category.id AS category__id,category.pid AS category__pid,category.name AS category__name,category.nickname AS category__nickname,category.flag AS category__flag,category.image AS category__image,category.keywords AS category__keywords,category.description AS category__description,category.diyname AS category__diyname,category.createtime AS category__createtime,category.updatetime AS category__updatetime,category.weigh AS category__weigh,category.status AS category__status FROM `fa_blog_post` `blog_post` LEFT JOIN `fa_blog_category` `category` ON `blog_post`.`category_id`=`category`.`id` ORDER BY `blog_post`.`weigh` DESC LIMIT 0,10 [ RunTime:0.000887s ]
---------------------------------------------------------------
[ 2020-03-05T12:03:07+08:00 ] 127.0.0.1 GET www.jfmblog.com/admin/general/config?addtabs=1
[ sql ] [ DB ] CONNECT:[ UseTime:0.005821s ] mysql:host=127.0.0.1;dbname=jfmblog;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_auth_group_access` [ RunTime:0.012465s ]
[ sql ] [ SQL ] SELECT `aga`.`uid`,`aga`.`group_id`,`ag`.`id`,`ag`.`pid`,`ag`.`name`,`ag`.`rules` FROM `fa_auth_group_access` `aga` LEFT JOIN `fa_auth_group` `ag` ON `aga`.`group_id`=`ag`.`id` WHERE  (  aga.uid='1' and ag.status='normal' ) [ RunTime:0.000792s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_auth_rule` [ RunTime:0.005765s ]
[ sql ] [ SQL ] SELECT `id`,`pid`,`condition`,`icon`,`name`,`title`,`ismenu` FROM `fa_auth_rule` WHERE  `status` = 'normal' [ RunTime:0.001200s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_config` [ RunTime:0.005073s ]
[ sql ] [ SQL ] SELECT * FROM `fa_config` [ RunTime:0.000901s ]
[ sql ] [ SQL ] SELECT `title`,`remark` FROM `fa_auth_rule` WHERE  `name` = 'general/config' LIMIT 1 [ RunTime:0.000889s ]
---------------------------------------------------------------
[ 2020-03-05T12:03:08+08:00 ] 127.0.0.1 GET www.jfmblog.com/admin/blog/post/index?sort=weigh&order=desc&offset=0&limit=10&filter=%7B%7D&op=%7B%7D&_=1583380986016
[ sql ] [ DB ] CONNECT:[ UseTime:0.013362s ] mysql:host=127.0.0.1;dbname=jfmblog;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_auth_group_access` [ RunTime:0.012415s ]
[ sql ] [ SQL ] SELECT `aga`.`uid`,`aga`.`group_id`,`ag`.`id`,`ag`.`pid`,`ag`.`name`,`ag`.`rules` FROM `fa_auth_group_access` `aga` LEFT JOIN `fa_auth_group` `ag` ON `aga`.`group_id`=`ag`.`id` WHERE  (  aga.uid='1' and ag.status='normal' ) [ RunTime:0.000818s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_auth_rule` [ RunTime:0.005520s ]
[ sql ] [ SQL ] SELECT `id`,`pid`,`condition`,`icon`,`name`,`title`,`ismenu` FROM `fa_auth_rule` WHERE  `status` = 'normal' [ RunTime:0.001422s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_blog_category` [ RunTime:0.005556s ]
[ sql ] [ SQL ] SELECT * FROM `fa_blog_category` ORDER BY `weigh` DESC,`id` DESC [ RunTime:0.000819s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_blog_post` [ RunTime:0.005232s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `fa_blog_post` `blog_post` LEFT JOIN `fa_blog_category` `category` ON `blog_post`.`category_id`=`category`.`id` ORDER BY `blog_post`.`weigh` DESC LIMIT 1 [ RunTime:0.000693s ]
[ sql ] [ SQL ] SELECT `blog_post`.`id`,`blog_post`.`category_id`,`blog_post`.`flag`,`blog_post`.`title`,`blog_post`.`summary`,`blog_post`.`content`,`blog_post`.`thumb`,`blog_post`.`image`,`blog_post`.`keywords`,`blog_post`.`description`,`blog_post`.`views`,`blog_post`.`comments`,`blog_post`.`createtime`,`blog_post`.`updatetime`,`blog_post`.`weigh`,`blog_post`.`status`,category.id AS category__id,category.pid AS category__pid,category.name AS category__name,category.nickname AS category__nickname,category.flag AS category__flag,category.image AS category__image,category.keywords AS category__keywords,category.description AS category__description,category.diyname AS category__diyname,category.createtime AS category__createtime,category.updatetime AS category__updatetime,category.weigh AS category__weigh,category.status AS category__status FROM `fa_blog_post` `blog_post` LEFT JOIN `fa_blog_category` `category` ON `blog_post`.`category_id`=`category`.`id` ORDER BY `blog_post`.`weigh` DESC LIMIT 0,10 [ RunTime:0.000859s ]
---------------------------------------------------------------
[ 2020-03-05T12:03:10+08:00 ] 127.0.0.1 GET www.jfmblog.com/admin/blog/post/edit/ids/7?dialog=1
[ sql ] [ DB ] CONNECT:[ UseTime:0.011956s ] mysql:host=127.0.0.1;dbname=jfmblog;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_auth_group_access` [ RunTime:0.012189s ]
[ sql ] [ SQL ] SELECT `aga`.`uid`,`aga`.`group_id`,`ag`.`id`,`ag`.`pid`,`ag`.`name`,`ag`.`rules` FROM `fa_auth_group_access` `aga` LEFT JOIN `fa_auth_group` `ag` ON `aga`.`group_id`=`ag`.`id` WHERE  (  aga.uid='1' and ag.status='normal' ) [ RunTime:0.000740s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_auth_rule` [ RunTime:0.005628s ]
[ sql ] [ SQL ] SELECT `id`,`pid`,`condition`,`icon`,`name`,`title`,`ismenu` FROM `fa_auth_rule` WHERE  `status` = 'normal' [ RunTime:0.001135s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_blog_category` [ RunTime:0.005640s ]
[ sql ] [ SQL ] SELECT * FROM `fa_blog_category` ORDER BY `weigh` DESC,`id` DESC [ RunTime:0.000722s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_blog_post` [ RunTime:0.005410s ]
[ sql ] [ SQL ] SELECT * FROM `fa_blog_post` WHERE  `id` = 7 LIMIT 1 [ RunTime:0.000827s ]
---------------------------------------------------------------
[ 2020-03-05T12:05:02+08:00 ] 127.0.0.1 POST www.jfmblog.com/admin/index/login?url=%2Fadmin%2Fblog%2Fpost%3Fref%3Daddtabs
[ sql ] [ DB ] CONNECT:[ UseTime:0.012241s ] mysql:host=127.0.0.1;dbname=jfmblog;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_admin` [ RunTime:0.005418s ]
[ sql ] [ SQL ] SELECT * FROM `fa_admin` WHERE  `username` = 'admin' LIMIT 1 [ RunTime:0.000912s ]
[ sql ] [ SQL ] UPDATE `fa_admin`  SET `logintime`=1583381102,`token`='91882e13-57f6-4021-aca0-1a8f510ef782',`updatetime`=1583381102  WHERE  `id` = 1 [ RunTime:0.043287s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_admin_log` [ RunTime:0.005234s ]
[ sql ] [ SQL ] INSERT INTO `fa_admin_log` (`title` , `content` , `url` , `admin_id` , `username` , `useragent` , `ip` , `createtime`) VALUES ('登录' , '{\"url\":\"\\/admin\\/blog\\/post?ref=addtabs\",\"__token__\":\"aa462238f8310d661facd9d14a6a9f2d\",\"username\":\"admin\",\"captcha\":\"bjpb\"}' , '/admin/index/login?url=%2Fadmin%2Fblog%2Fpost%3Fref%3Daddtabs' , 1 , 'admin' , 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/80.0.3970.5 Safari/537.36' , '127.0.0.1' , 1583381102) [ RunTime:0.039654s ]
---------------------------------------------------------------
[ 2020-03-05T12:05:02+08:00 ] 127.0.0.1 GET www.jfmblog.com/admin/blog/post?ref=addtabs
[ sql ] [ DB ] CONNECT:[ UseTime:0.011761s ] mysql:host=127.0.0.1;dbname=jfmblog;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_auth_group_access` [ RunTime:0.004761s ]
[ sql ] [ SQL ] SELECT `aga`.`uid`,`aga`.`group_id`,`ag`.`id`,`ag`.`pid`,`ag`.`name`,`ag`.`rules` FROM `fa_auth_group_access` `aga` LEFT JOIN `fa_auth_group` `ag` ON `aga`.`group_id`=`ag`.`id` WHERE  (  aga.uid='1' and ag.status='normal' ) [ RunTime:0.000795s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_auth_rule` [ RunTime:0.005042s ]
[ sql ] [ SQL ] SELECT `id`,`pid`,`condition`,`icon`,`name`,`title`,`ismenu` FROM `fa_auth_rule` WHERE  `status` = 'normal' [ RunTime:0.001292s ]
---------------------------------------------------------------
[ 2020-03-05T12:05:03+08:00 ] 127.0.0.1 GET www.jfmblog.com/admin/index/index
[ sql ] [ DB ] CONNECT:[ UseTime:0.012834s ] mysql:host=127.0.0.1;dbname=jfmblog;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_auth_group_access` [ RunTime:0.004824s ]
[ sql ] [ SQL ] SELECT `aga`.`uid`,`aga`.`group_id`,`ag`.`id`,`ag`.`pid`,`ag`.`name`,`ag`.`rules` FROM `fa_auth_group_access` `aga` LEFT JOIN `fa_auth_group` `ag` ON `aga`.`group_id`=`ag`.`id` WHERE  (  aga.uid='1' and ag.status='normal' ) [ RunTime:0.000895s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_auth_rule` [ RunTime:0.004985s ]
[ sql ] [ SQL ] SELECT `id`,`pid`,`condition`,`icon`,`name`,`title`,`ismenu` FROM `fa_auth_rule` WHERE  `status` = 'normal' [ RunTime:0.001149s ]
[ sql ] [ SQL ] SELECT `name`,`pid` FROM `fa_auth_rule` WHERE  `status` = 'normal'  AND `ismenu` = 0  AND `name` LIKE '%/index' [ RunTime:0.001154s ]
---------------------------------------------------------------
[ 2020-03-05T12:05:03+08:00 ] 127.0.0.1 GET www.jfmblog.com/admin/blog/post?addtabs=1
[ sql ] [ DB ] CONNECT:[ UseTime:0.011880s ] mysql:host=127.0.0.1;dbname=jfmblog;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_auth_group_access` [ RunTime:0.004991s ]
[ sql ] [ SQL ] SELECT `aga`.`uid`,`aga`.`group_id`,`ag`.`id`,`ag`.`pid`,`ag`.`name`,`ag`.`rules` FROM `fa_auth_group_access` `aga` LEFT JOIN `fa_auth_group` `ag` ON `aga`.`group_id`=`ag`.`id` WHERE  (  aga.uid='1' and ag.status='normal' ) [ RunTime:0.000697s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_auth_rule` [ RunTime:0.005730s ]
[ sql ] [ SQL ] SELECT `id`,`pid`,`condition`,`icon`,`name`,`title`,`ismenu` FROM `fa_auth_rule` WHERE  `status` = 'normal' [ RunTime:0.001065s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_blog_category` [ RunTime:0.005112s ]
[ sql ] [ SQL ] SELECT * FROM `fa_blog_category` ORDER BY `weigh` DESC,`id` DESC [ RunTime:0.000655s ]
[ sql ] [ SQL ] SELECT `title`,`remark` FROM `fa_auth_rule` WHERE  `name` = 'blog/post' LIMIT 1 [ RunTime:0.000781s ]
---------------------------------------------------------------
[ 2020-03-05T12:05:04+08:00 ] 127.0.0.1 GET www.jfmblog.com/admin/general/config?addtabs=1
[ sql ] [ DB ] CONNECT:[ UseTime:0.012800s ] mysql:host=127.0.0.1;dbname=jfmblog;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_auth_group_access` [ RunTime:0.005676s ]
[ sql ] [ SQL ] SELECT `aga`.`uid`,`aga`.`group_id`,`ag`.`id`,`ag`.`pid`,`ag`.`name`,`ag`.`rules` FROM `fa_auth_group_access` `aga` LEFT JOIN `fa_auth_group` `ag` ON `aga`.`group_id`=`ag`.`id` WHERE  (  aga.uid='1' and ag.status='normal' ) [ RunTime:0.000770s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_auth_rule` [ RunTime:0.005852s ]
[ sql ] [ SQL ] SELECT `id`,`pid`,`condition`,`icon`,`name`,`title`,`ismenu` FROM `fa_auth_rule` WHERE  `status` = 'normal' [ RunTime:0.001175s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_config` [ RunTime:0.005854s ]
[ sql ] [ SQL ] SELECT * FROM `fa_config` [ RunTime:0.000755s ]
[ sql ] [ SQL ] SELECT `title`,`remark` FROM `fa_auth_rule` WHERE  `name` = 'general/config' LIMIT 1 [ RunTime:0.000774s ]
---------------------------------------------------------------
[ 2020-03-05T12:05:04+08:00 ] 127.0.0.1 GET www.jfmblog.com/admin/blog/post/index?sort=weigh&order=desc&offset=0&limit=10&filter=%7B%7D&op=%7B%7D&_=1583381103790
[ sql ] [ DB ] CONNECT:[ UseTime:0.002961s ] mysql:host=127.0.0.1;dbname=jfmblog;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_auth_group_access` [ RunTime:0.005282s ]
[ sql ] [ SQL ] SELECT `aga`.`uid`,`aga`.`group_id`,`ag`.`id`,`ag`.`pid`,`ag`.`name`,`ag`.`rules` FROM `fa_auth_group_access` `aga` LEFT JOIN `fa_auth_group` `ag` ON `aga`.`group_id`=`ag`.`id` WHERE  (  aga.uid='1' and ag.status='normal' ) [ RunTime:0.000767s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_auth_rule` [ RunTime:0.005871s ]
[ sql ] [ SQL ] SELECT `id`,`pid`,`condition`,`icon`,`name`,`title`,`ismenu` FROM `fa_auth_rule` WHERE  `status` = 'normal' [ RunTime:0.001266s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_blog_category` [ RunTime:0.005529s ]
[ sql ] [ SQL ] SELECT * FROM `fa_blog_category` ORDER BY `weigh` DESC,`id` DESC [ RunTime:0.000985s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_blog_post` [ RunTime:0.005023s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `fa_blog_post` `blog_post` LEFT JOIN `fa_blog_category` `category` ON `blog_post`.`category_id`=`category`.`id` ORDER BY `blog_post`.`weigh` DESC LIMIT 1 [ RunTime:0.000683s ]
[ sql ] [ SQL ] SELECT `blog_post`.`id`,`blog_post`.`category_id`,`blog_post`.`flag`,`blog_post`.`title`,`blog_post`.`summary`,`blog_post`.`content`,`blog_post`.`thumb`,`blog_post`.`image`,`blog_post`.`keywords`,`blog_post`.`description`,`blog_post`.`views`,`blog_post`.`comments`,`blog_post`.`createtime`,`blog_post`.`updatetime`,`blog_post`.`weigh`,`blog_post`.`status`,category.id AS category__id,category.pid AS category__pid,category.name AS category__name,category.nickname AS category__nickname,category.flag AS category__flag,category.image AS category__image,category.keywords AS category__keywords,category.description AS category__description,category.diyname AS category__diyname,category.createtime AS category__createtime,category.updatetime AS category__updatetime,category.weigh AS category__weigh,category.status AS category__status FROM `fa_blog_post` `blog_post` LEFT JOIN `fa_blog_category` `category` ON `blog_post`.`category_id`=`category`.`id` ORDER BY `blog_post`.`weigh` DESC LIMIT 0,10 [ RunTime:0.000869s ]
---------------------------------------------------------------
[ 2020-03-05T12:05:05+08:00 ] 127.0.0.1 GET www.jfmblog.com/admin/blog/post/index?sort=weigh&order=desc&offset=0&limit=10&filter=%7B%7D&op=%7B%7D&_=1583381103791
[ sql ] [ DB ] CONNECT:[ UseTime:0.014097s ] mysql:host=127.0.0.1;dbname=jfmblog;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_auth_group_access` [ RunTime:0.004748s ]
[ sql ] [ SQL ] SELECT `aga`.`uid`,`aga`.`group_id`,`ag`.`id`,`ag`.`pid`,`ag`.`name`,`ag`.`rules` FROM `fa_auth_group_access` `aga` LEFT JOIN `fa_auth_group` `ag` ON `aga`.`group_id`=`ag`.`id` WHERE  (  aga.uid='1' and ag.status='normal' ) [ RunTime:0.000737s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_auth_rule` [ RunTime:0.005078s ]
[ sql ] [ SQL ] SELECT `id`,`pid`,`condition`,`icon`,`name`,`title`,`ismenu` FROM `fa_auth_rule` WHERE  `status` = 'normal' [ RunTime:0.001162s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_blog_category` [ RunTime:0.005112s ]
[ sql ] [ SQL ] SELECT * FROM `fa_blog_category` ORDER BY `weigh` DESC,`id` DESC [ RunTime:0.000811s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_blog_post` [ RunTime:0.005080s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `fa_blog_post` `blog_post` LEFT JOIN `fa_blog_category` `category` ON `blog_post`.`category_id`=`category`.`id` ORDER BY `blog_post`.`weigh` DESC LIMIT 1 [ RunTime:0.000789s ]
[ sql ] [ SQL ] SELECT `blog_post`.`id`,`blog_post`.`category_id`,`blog_post`.`flag`,`blog_post`.`title`,`blog_post`.`summary`,`blog_post`.`content`,`blog_post`.`thumb`,`blog_post`.`image`,`blog_post`.`keywords`,`blog_post`.`description`,`blog_post`.`views`,`blog_post`.`comments`,`blog_post`.`createtime`,`blog_post`.`updatetime`,`blog_post`.`weigh`,`blog_post`.`status`,category.id AS category__id,category.pid AS category__pid,category.name AS category__name,category.nickname AS category__nickname,category.flag AS category__flag,category.image AS category__image,category.keywords AS category__keywords,category.description AS category__description,category.diyname AS category__diyname,category.createtime AS category__createtime,category.updatetime AS category__updatetime,category.weigh AS category__weigh,category.status AS category__status FROM `fa_blog_post` `blog_post` LEFT JOIN `fa_blog_category` `category` ON `blog_post`.`category_id`=`category`.`id` ORDER BY `blog_post`.`weigh` DESC LIMIT 0,10 [ RunTime:0.000967s ]
---------------------------------------------------------------
[ 2020-03-05T12:05:07+08:00 ] 127.0.0.1 GET www.jfmblog.com/admin/blog/post/edit/ids/7?dialog=1
[ sql ] [ DB ] CONNECT:[ UseTime:0.013039s ] mysql:host=127.0.0.1;dbname=jfmblog;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_auth_group_access` [ RunTime:0.007118s ]
[ sql ] [ SQL ] SELECT `aga`.`uid`,`aga`.`group_id`,`ag`.`id`,`ag`.`pid`,`ag`.`name`,`ag`.`rules` FROM `fa_auth_group_access` `aga` LEFT JOIN `fa_auth_group` `ag` ON `aga`.`group_id`=`ag`.`id` WHERE  (  aga.uid='1' and ag.status='normal' ) [ RunTime:0.000998s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_auth_rule` [ RunTime:0.005002s ]
[ sql ] [ SQL ] SELECT `id`,`pid`,`condition`,`icon`,`name`,`title`,`ismenu` FROM `fa_auth_rule` WHERE  `status` = 'normal' [ RunTime:0.001246s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_blog_category` [ RunTime:0.005140s ]
[ sql ] [ SQL ] SELECT * FROM `fa_blog_category` ORDER BY `weigh` DESC,`id` DESC [ RunTime:0.000762s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_blog_post` [ RunTime:0.005456s ]
[ sql ] [ SQL ] SELECT * FROM `fa_blog_post` WHERE  `id` = 7 LIMIT 1 [ RunTime:0.000814s ]
---------------------------------------------------------------
[ 2020-03-05T12:05:47+08:00 ] 127.0.0.1 POST www.jfmblog.com/admin/blog/post/edit/ids/7?dialog=1
[ sql ] [ DB ] CONNECT:[ UseTime:0.011857s ] mysql:host=127.0.0.1;dbname=jfmblog;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_auth_group_access` [ RunTime:0.012225s ]
[ sql ] [ SQL ] SELECT `aga`.`uid`,`aga`.`group_id`,`ag`.`id`,`ag`.`pid`,`ag`.`name`,`ag`.`rules` FROM `fa_auth_group_access` `aga` LEFT JOIN `fa_auth_group` `ag` ON `aga`.`group_id`=`ag`.`id` WHERE  (  aga.uid='1' and ag.status='normal' ) [ RunTime:0.000802s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_auth_rule` [ RunTime:0.005226s ]
[ sql ] [ SQL ] SELECT `id`,`pid`,`condition`,`icon`,`name`,`title`,`ismenu` FROM `fa_auth_rule` WHERE  `status` = 'normal' [ RunTime:0.001137s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_blog_category` [ RunTime:0.005060s ]
[ sql ] [ SQL ] SELECT * FROM `fa_blog_category` ORDER BY `weigh` DESC,`id` DESC [ RunTime:0.000813s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_blog_post` [ RunTime:0.004949s ]
[ sql ] [ SQL ] SELECT * FROM `fa_blog_post` WHERE  `id` = 7 LIMIT 1 [ RunTime:0.000816s ]
[ sql ] [ SQL ] UPDATE `fa_blog_post`  SET `content`='<pre><code>import requests\r\nimport time\r\n\r\n\r\nclass TiebaSpider:    def __init__(self, name):        self.name = name        self.url = \"https://tieba.baidu.com/f?kw=\"+name+\"&amp;ie=utf-8&amp;pn={}\"        self.headers = {\"User-Agent\": \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36\"                                      \" (KHTML, like Gecko) Chrome/80.0.3970.5 Safari/537.36\"}    def get_url_list(self):        \'\'\'构造url列表\'\'\'        url_list = []        for i in range(1000):            url_list.append(self.url.format(i * 50))        return url_list\r\n\r\n    def parse_url(self, url):        \'\'\'解析url\'\'\'        response = requests.get(url, headers=self.headers)        return response.content.decode()    def save_html(self, html_str, page_num):        file_path = \"{}--第{}页.html\".format(self.name, page_num)        with open(file_path, \"w\", encoding=\"utf-8\") as f:            f.write(html_str)    def run(self):        # 1.构造url列表        url_list = self.get_url_list()        # 2.遍历，发送请求，获取相应        for url in url_list:            html_str = self.parse_url(url)            # 3.保存            page_num = url_list.index(url) + 1            self.save_html(html_str, page_num)            time.sleep(10)if __name__ == \'__main__\':    tieba = TiebaSpider(\"吴亦凡\")    tieba.run()<br></code></pre>',`comments`=0,`updatetime`=1583381146  WHERE  `id` = 7 [ RunTime:0.001065s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_admin_log` [ RunTime:0.005172s ]
[ sql ] [ SQL ] INSERT INTO `fa_admin_log` (`title` , `content` , `url` , `admin_id` , `username` , `useragent` , `ip` , `createtime`) VALUES ('博客管理 日志管理 修改' , '{\"dialog\":\"1\",\"row\":{\"category_id\":\"3\",\"flag\":[\"hot\"],\"title\":\"\\u901a\\u7528\\u722c\\u866b\",\"summary\":\"\\u901a\\u7528\\u722c\\u866b\",\"content\":\"import requests\\r\\nimport time\\r\\n\\r\\n\\r\\nclass TiebaSpider:    def __init__(self, name):        self.name = name        self.url = &quot;https:\\/\\/tieba.baidu.com\\/f?kw=&quot;+name+&quot;&amp;amp;ie=utf-8&amp;amp;pn={}&quot;        self.headers = {&quot;User-Agent&quot;: &quot;Mozilla\\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\\/537.36&quot;                                      &quot; (KHTML, like Gecko) Chrome\\/80.0.3970.5 Safari\\/537.36&quot;}    def get_url_list(self):        \'\'\'\\u6784\\u9020url\\u5217\\u8868\'\'\'        url_list = []        for i in range(1000):            url_list.append(self.url.format(i * 50))        return url_list\\r\\n\\r\\n    def parse_url(self, url):        \'\'\'\\u89e3\\u6790url\'\'\'        response = requests.get(url, headers=self.headers)        return response.content.decode()    def save_html(self, html_str, page_num):        file_path = &quot;{}--\\u7b2c{}\\u9875.html&quot;.format(self.name, page_num)        with open(file_path, &quot;w&quot;, encoding=&quot;utf-8&quot;) as f:            f.write(html_str)    def run(self):        # 1.\\u6784\\u9020url\\u5217\\u8868        url_list = self.get_url_list()        # 2.\\u904d\\u5386\\uff0c\\u53d1\\u9001\\u8bf7\\u6c42\\uff0c\\u83b7\\u53d6\\u76f8\\u5e94        for url in url_list:            html_str = self.parse_url(url)            # 3.\\u4fdd\\u5b58            page_num = url_list.index(url) + 1            self.save_html(html_str, page_num)            time.sleep(10)if __name__ == \'__main__\':    tieba = TiebaSpider(&quot;\\u5434\\u4ea6\\u51e1&quot;)    tieba.run()\",\"thumb\":\"\",\"image\":\"\",\"keywords\":\"\",\"description\":\"\",\"views\":\"12\",\"comments\":\"0\",\"weigh\":\"7\",\"status\":\"normal\"},\"ids\":\"7\"}' , '/admin/blog/post/edit/ids/7?dialog=1' , 1 , 'admin' , 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/80.0.3970.5 Safari/537.36' , '127.0.0.1' , 1583381147) [ RunTime:0.039260s ]
---------------------------------------------------------------
[ 2020-03-05T12:05:47+08:00 ] 127.0.0.1 GET www.jfmblog.com/admin/blog/post/index?sort=weigh&order=desc&offset=0&limit=10&filter=%7B%7D&op=%7B%7D&_=1583381103792
[ sql ] [ DB ] CONNECT:[ UseTime:0.012585s ] mysql:host=127.0.0.1;dbname=jfmblog;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_auth_group_access` [ RunTime:0.004745s ]
[ sql ] [ SQL ] SELECT `aga`.`uid`,`aga`.`group_id`,`ag`.`id`,`ag`.`pid`,`ag`.`name`,`ag`.`rules` FROM `fa_auth_group_access` `aga` LEFT JOIN `fa_auth_group` `ag` ON `aga`.`group_id`=`ag`.`id` WHERE  (  aga.uid='1' and ag.status='normal' ) [ RunTime:0.000792s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_auth_rule` [ RunTime:0.005167s ]
[ sql ] [ SQL ] SELECT `id`,`pid`,`condition`,`icon`,`name`,`title`,`ismenu` FROM `fa_auth_rule` WHERE  `status` = 'normal' [ RunTime:0.001339s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_blog_category` [ RunTime:0.006070s ]
[ sql ] [ SQL ] SELECT * FROM `fa_blog_category` ORDER BY `weigh` DESC,`id` DESC [ RunTime:0.000719s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_blog_post` [ RunTime:0.005431s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `fa_blog_post` `blog_post` LEFT JOIN `fa_blog_category` `category` ON `blog_post`.`category_id`=`category`.`id` ORDER BY `blog_post`.`weigh` DESC LIMIT 1 [ RunTime:0.000690s ]
[ sql ] [ SQL ] SELECT `blog_post`.`id`,`blog_post`.`category_id`,`blog_post`.`flag`,`blog_post`.`title`,`blog_post`.`summary`,`blog_post`.`content`,`blog_post`.`thumb`,`blog_post`.`image`,`blog_post`.`keywords`,`blog_post`.`description`,`blog_post`.`views`,`blog_post`.`comments`,`blog_post`.`createtime`,`blog_post`.`updatetime`,`blog_post`.`weigh`,`blog_post`.`status`,category.id AS category__id,category.pid AS category__pid,category.name AS category__name,category.nickname AS category__nickname,category.flag AS category__flag,category.image AS category__image,category.keywords AS category__keywords,category.description AS category__description,category.diyname AS category__diyname,category.createtime AS category__createtime,category.updatetime AS category__updatetime,category.weigh AS category__weigh,category.status AS category__status FROM `fa_blog_post` `blog_post` LEFT JOIN `fa_blog_category` `category` ON `blog_post`.`category_id`=`category`.`id` ORDER BY `blog_post`.`weigh` DESC LIMIT 0,10 [ RunTime:0.000967s ]
---------------------------------------------------------------
[ 2020-03-05T12:05:51+08:00 ] 127.0.0.1 GET www.jfmblog.com/p/7.html
[ sql ] [ DB ] CONNECT:[ UseTime:0.012088s ] mysql:host=127.0.0.1;dbname=jfmblog;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_blog_category` [ RunTime:0.012646s ]
[ sql ] [ SQL ] SELECT * FROM `fa_blog_category` WHERE  `status` = 'normal' ORDER BY `weigh` DESC,`id` DESC [ RunTime:0.000935s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_blog_post` [ RunTime:0.004919s ]
[ sql ] [ SQL ] SELECT * FROM `fa_blog_post` WHERE  `id` = 7 LIMIT 1 [ RunTime:0.000920s ]
[ sql ] [ SQL ] UPDATE `fa_blog_post`  SET `views`=`views`+1  WHERE  `id` = 7 [ RunTime:0.038156s ]
[ sql ] [ SQL ] SELECT * FROM `fa_blog_category` WHERE  `id` = 3 LIMIT 1 [ RunTime:0.000805s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_blog_comment` [ RunTime:0.005089s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `fa_blog_comment` WHERE  `post_id` = 7  AND `pid` = 0  AND `status` = 'normal' LIMIT 1 [ RunTime:0.000965s ]
[ sql ] [ SQL ] SELECT * FROM `fa_blog_comment` WHERE  `post_id` = 7  AND `pid` = 0  AND `status` = 'normal' ORDER BY `id` DESC LIMIT 0,10 [ RunTime:0.001014s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_blog_block` [ RunTime:0.004793s ]
[ sql ] [ SQL ] SELECT * FROM `fa_blog_block` WHERE  `name` = 'sidebarad1'  AND `status` = 'normal' LIMIT 1 [ RunTime:0.000879s ]
[ sql ] [ SQL ] SELECT * FROM `fa_blog_block` WHERE  `name` = 'sidebarad2'  AND `status` = 'normal' LIMIT 1 [ RunTime:0.000887s ]
[ sql ] [ SQL ] SELECT * FROM `fa_blog_post` WHERE  `status` = 'normal' ORDER BY `createtime` DESC LIMIT 3 [ RunTime:0.000844s ]
[ sql ] [ SQL ] SELECT * FROM `fa_blog_category` WHERE  `id` IN (3,2) [ RunTime:0.000829s ]
[ sql ] [ SQL ] SELECT * FROM `fa_blog_post` WHERE  `status` = 'normal' ORDER BY `createtime` DESC LIMIT 10 [ RunTime:0.000858s ]
[ sql ] [ SQL ] SELECT * FROM `fa_blog_category` WHERE  `id` IN (3,2,1) [ RunTime:0.000981s ]
[ sql ] [ SQL ] SELECT * FROM `fa_blog_post` WHERE  `status` = 'normal'  AND (  (FIND_IN_SET('recommend', flag)) ) ORDER BY `createtime` DESC LIMIT 10 [ RunTime:0.000849s ]
[ sql ] [ SQL ] SELECT * FROM `fa_blog_category` WHERE  `id` IN (2) [ RunTime:0.000711s ]
---------------------------------------------------------------
[ 2020-03-05T12:06:01+08:00 ] 127.0.0.1 GET www.jfmblog.com/admin/blog/post/edit/ids/7?dialog=1
[ sql ] [ DB ] CONNECT:[ UseTime:0.012155s ] mysql:host=127.0.0.1;dbname=jfmblog;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_auth_group_access` [ RunTime:0.004855s ]
[ sql ] [ SQL ] SELECT `aga`.`uid`,`aga`.`group_id`,`ag`.`id`,`ag`.`pid`,`ag`.`name`,`ag`.`rules` FROM `fa_auth_group_access` `aga` LEFT JOIN `fa_auth_group` `ag` ON `aga`.`group_id`=`ag`.`id` WHERE  (  aga.uid='1' and ag.status='normal' ) [ RunTime:0.000784s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_auth_rule` [ RunTime:0.005378s ]
[ sql ] [ SQL ] SELECT `id`,`pid`,`condition`,`icon`,`name`,`title`,`ismenu` FROM `fa_auth_rule` WHERE  `status` = 'normal' [ RunTime:0.001394s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_blog_category` [ RunTime:0.005382s ]
[ sql ] [ SQL ] SELECT * FROM `fa_blog_category` ORDER BY `weigh` DESC,`id` DESC [ RunTime:0.000824s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_blog_post` [ RunTime:0.005952s ]
[ sql ] [ SQL ] SELECT * FROM `fa_blog_post` WHERE  `id` = 7 LIMIT 1 [ RunTime:0.000887s ]
---------------------------------------------------------------
[ 2020-03-05T12:06:18+08:00 ] 127.0.0.1 POST www.jfmblog.com/admin/blog/post/edit/ids/7?dialog=1
[ sql ] [ DB ] CONNECT:[ UseTime:0.012027s ] mysql:host=127.0.0.1;dbname=jfmblog;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_auth_group_access` [ RunTime:0.004920s ]
[ sql ] [ SQL ] SELECT `aga`.`uid`,`aga`.`group_id`,`ag`.`id`,`ag`.`pid`,`ag`.`name`,`ag`.`rules` FROM `fa_auth_group_access` `aga` LEFT JOIN `fa_auth_group` `ag` ON `aga`.`group_id`=`ag`.`id` WHERE  (  aga.uid='1' and ag.status='normal' ) [ RunTime:0.001145s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_auth_rule` [ RunTime:0.005067s ]
[ sql ] [ SQL ] SELECT `id`,`pid`,`condition`,`icon`,`name`,`title`,`ismenu` FROM `fa_auth_rule` WHERE  `status` = 'normal' [ RunTime:0.001239s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_blog_category` [ RunTime:0.005216s ]
[ sql ] [ SQL ] SELECT * FROM `fa_blog_category` ORDER BY `weigh` DESC,`id` DESC [ RunTime:0.000781s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_blog_post` [ RunTime:0.005186s ]
[ sql ] [ SQL ] SELECT * FROM `fa_blog_post` WHERE  `id` = 7 LIMIT 1 [ RunTime:0.000839s ]
[ sql ] [ SQL ] UPDATE `fa_blog_post`  SET `content`='<pre><code><span style=\"color:#c792ea;font-style:italic;\">import </span>requests<br><span style=\"color:#c792ea;font-style:italic;\">import </span>time<br><br><br><span style=\"color:#c792ea;font-style:italic;\">class </span><span style=\"color:#ffcb6b;\">TiebaSpider</span><span style=\"color:#89ddff;\">:<br></span><span style=\"color:#89ddff;\">    </span><span style=\"color:#c792ea;font-style:italic;\">def </span><span style=\"color:#82aaff;font-style:italic;\">__init__</span><span style=\"color:#89ddff;\">(</span><span style=\"color:#c792ea;font-style:italic;\">self</span><span style=\"color:#89ddff;\">, </span><span style=\"color:#f78c6c;\">name</span><span style=\"color:#89ddff;\">):<br></span><span style=\"color:#89ddff;\">        </span><span style=\"color:#c792ea;font-style:italic;\">self</span><span style=\"color:#89ddff;\">.</span>name <span style=\"color:#89ddff;\">= </span><span style=\"color:#f78c6c;\">name<br></span><span style=\"color:#f78c6c;\">        </span><span style=\"color:#c792ea;font-style:italic;\">self</span><span style=\"color:#89ddff;\">.</span>url <span style=\"color:#89ddff;\">= </span><span style=\"color:#c3e88d;\">\"https://tieba.baidu.com/f?kw=\"</span><span style=\"color:#89ddff;\">+</span><span style=\"color:#f78c6c;\">name</span><span style=\"color:#89ddff;\">+</span><span style=\"color:#c3e88d;\">\"&amp;ie=utf-8&amp;pn={}\"<br></span><span style=\"color:#c3e88d;\">        </span><span style=\"color:#c792ea;font-style:italic;\">self</span><span style=\"color:#89ddff;\">.</span>headers <span style=\"color:#89ddff;\">= {</span><span style=\"color:#c3e88d;\">\"User-Agent\"</span><span style=\"color:#89ddff;\">: </span><span style=\"color:#c3e88d;\">\"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36\"<br></span><span style=\"color:#c3e88d;\">                                      \" (KHTML, like Gecko) Chrome/80.0.3970.5 Safari/537.36\"</span><span style=\"color:#89ddff;\">}<br></span><span style=\"color:#89ddff;\"><br></span><span style=\"color:#89ddff;\">    </span><span style=\"color:#c792ea;font-style:italic;\">def </span><span style=\"color:#82aaff;\">get_url_list</span><span style=\"color:#89ddff;\">(</span><span style=\"color:#c792ea;font-style:italic;\">self</span><span style=\"color:#89ddff;\">):<br></span><span style=\"color:#89ddff;\">        </span><span style=\"color:#546e7a;font-style:italic;\">\'\'\'</span><span style=\"color:#546e7a;font-style:italic;font-family:\'宋体\';\">构造</span><span style=\"color:#546e7a;font-style:italic;\">url</span><span style=\"color:#546e7a;font-style:italic;font-family:\'宋体\';\">列表</span><span style=\"color:#546e7a;font-style:italic;\">\'\'\'<br></span><span style=\"color:#546e7a;font-style:italic;\">        </span>url_list <span style=\"color:#89ddff;\">= []<br></span><span style=\"color:#89ddff;\">        </span><span style=\"color:#c792ea;font-style:italic;\">for </span>i <span style=\"color:#c792ea;font-style:italic;\">in </span><span style=\"color:#82aaff;\">range</span><span style=\"color:#89ddff;\">(</span><span style=\"color:#f78c6c;\">1000</span><span style=\"color:#89ddff;\">):<br></span><span style=\"color:#89ddff;\">            </span>url_list<span style=\"color:#89ddff;\">.</span><span style=\"color:#82aaff;\">append</span><span style=\"color:#89ddff;\">(</span><span style=\"color:#c792ea;font-style:italic;\">self</span><span style=\"color:#89ddff;\">.</span>url<span style=\"color:#89ddff;\">.</span><span style=\"color:#82aaff;\">format</span><span style=\"color:#89ddff;\">(</span>i <span style=\"color:#89ddff;\">* </span><span style=\"color:#f78c6c;\">50</span><span style=\"color:#89ddff;\">))<br></span><span style=\"color:#89ddff;\">        </span><span style=\"color:#c792ea;font-style:italic;\">return </span>url_list<br><br>    <span style=\"color:#c792ea;font-style:italic;\">def </span><span style=\"color:#82aaff;\">parse_url</span><span style=\"color:#89ddff;\">(</span><span style=\"color:#c792ea;font-style:italic;\">self</span><span style=\"color:#89ddff;\">, </span><span style=\"color:#f78c6c;\">url</span><span style=\"color:#89ddff;\">):<br></span><span style=\"color:#89ddff;\">        </span><span style=\"color:#546e7a;font-style:italic;\">\'\'\'</span><span style=\"color:#546e7a;font-style:italic;font-family:\'宋体\';\">解析</span><span style=\"color:#546e7a;font-style:italic;\">url\'\'\'<br></span><span style=\"color:#546e7a;font-style:italic;\">        </span>response <span style=\"color:#89ddff;\">= </span>requests<span style=\"color:#89ddff;\">.</span><span style=\"color:#82aaff;\">get</span><span style=\"color:#89ddff;\">(</span><span style=\"color:#f78c6c;\">url</span><span style=\"color:#89ddff;\">, </span><span style=\"color:#f78c6c;\">headers</span><span style=\"color:#89ddff;\">=</span><span style=\"color:#c792ea;font-style:italic;\">self</span><span style=\"color:#89ddff;\">.</span>headers<span style=\"color:#89ddff;\">)<br></span><span style=\"color:#89ddff;\">        </span><span style=\"color:#c792ea;font-style:italic;\">return </span>response<span style=\"color:#89ddff;\">.</span>content<span style=\"color:#89ddff;\">.</span><span style=\"color:#82aaff;\">decode</span><span style=\"color:#89ddff;\">()<br></span><span style=\"color:#89ddff;\"><br></span><span style=\"color:#89ddff;\">    </span><span style=\"color:#c792ea;font-style:italic;\">def </span><span style=\"color:#82aaff;\">save_html</span><span style=\"color:#89ddff;\">(</span><span style=\"color:#c792ea;font-style:italic;\">self</span><span style=\"color:#89ddff;\">, </span><span style=\"color:#f78c6c;\">html_str</span><span style=\"color:#89ddff;\">, </span><span style=\"color:#f78c6c;\">page_num</span><span style=\"color:#89ddff;\">):<br></span><span style=\"color:#89ddff;\">        </span>file_path <span style=\"color:#89ddff;\">= </span><span style=\"color:#c3e88d;\">\"{}--</span><span style=\"color:#c3e88d;font-family:\'宋体\';\">第</span><span style=\"color:#c3e88d;\">{}</span><span style=\"color:#c3e88d;font-family:\'宋体\';\">页</span><span style=\"color:#c3e88d;\">.html\"</span><span style=\"color:#89ddff;\">.</span><span style=\"color:#82aaff;\">format</span><span style=\"color:#89ddff;\">(</span><span style=\"color:#c792ea;font-style:italic;\">self</span><span style=\"color:#89ddff;\">.</span>name<span style=\"color:#89ddff;\">, </span><span style=\"color:#f78c6c;\">page_num</span><span style=\"color:#89ddff;\">)<br></span><span style=\"color:#89ddff;\">        </span><span style=\"color:#c792ea;font-style:italic;\">with </span><span style=\"color:#82aaff;\">open</span><span style=\"color:#89ddff;\">(</span>file_path<span style=\"color:#89ddff;\">, </span><span style=\"color:#c3e88d;\">\"w\"</span><span style=\"color:#89ddff;\">, </span><span style=\"color:#f78c6c;\">encoding</span><span style=\"color:#89ddff;\">=</span><span style=\"color:#c3e88d;\">\"utf-8\"</span><span style=\"color:#89ddff;\">) </span><span style=\"color:#c792ea;font-style:italic;\">as </span>f<span style=\"color:#89ddff;\">:<br></span><span style=\"color:#89ddff;\">            </span>f<span style=\"color:#89ddff;\">.</span><span style=\"color:#82aaff;\">write</span><span style=\"color:#89ddff;\">(</span><span style=\"color:#f78c6c;\">html_str</span><span style=\"color:#89ddff;\">)<br></span><span style=\"color:#89ddff;\"><br></span><span style=\"color:#89ddff;\">    </span><span style=\"color:#c792ea;font-style:italic;\">def </span><span style=\"color:#82aaff;\">run</span><span style=\"color:#89ddff;\">(</span><span style=\"color:#c792ea;font-style:italic;\">self</span><span style=\"color:#89ddff;\">):<br></span><span style=\"color:#89ddff;\">        </span><span style=\"color:#546e7a;font-style:italic;\"># 1.</span><span style=\"color:#546e7a;font-style:italic;font-family:\'宋体\';\">构造</span><span style=\"color:#546e7a;font-style:italic;\">url</span><span style=\"color:#546e7a;font-style:italic;font-family:\'宋体\';\">列表<br></span><span style=\"color:#546e7a;font-style:italic;font-family:\'宋体\';\">        </span>url_list <span style=\"color:#89ddff;\">= </span><span style=\"color:#c792ea;font-style:italic;\">self</span><span style=\"color:#89ddff;\">.</span><span style=\"color:#82aaff;\">get_url_list</span><span style=\"color:#89ddff;\">()<br></span><span style=\"color:#89ddff;\">        </span><span style=\"color:#546e7a;font-style:italic;\"># 2.</span><span style=\"color:#546e7a;font-style:italic;font-family:\'宋体\';\">遍历，发送请求，获取相应<br></span><span style=\"color:#546e7a;font-style:italic;font-family:\'宋体\';\">        </span><span style=\"color:#c792ea;font-style:italic;\">for </span>url <span style=\"color:#c792ea;font-style:italic;\">in </span>url_list<span style=\"color:#89ddff;\">:<br></span><span style=\"color:#89ddff;\">            </span>html_str <span style=\"color:#89ddff;\">= </span><span style=\"color:#c792ea;font-style:italic;\">self</span><span style=\"color:#89ddff;\">.</span><span style=\"color:#82aaff;\">parse_url</span><span style=\"color:#89ddff;\">(</span>url<span style=\"color:#89ddff;\">)<br></span><span style=\"color:#89ddff;\">            </span><span style=\"color:#546e7a;font-style:italic;\"># 3.</span><span style=\"color:#546e7a;font-style:italic;font-family:\'宋体\';\">保存<br></span><span style=\"color:#546e7a;font-style:italic;font-family:\'宋体\';\">            </span>page_num <span style=\"color:#89ddff;\">= </span>url_list<span style=\"color:#89ddff;\">.</span><span style=\"color:#82aaff;\">index</span><span style=\"color:#89ddff;\">(</span>url<span style=\"color:#89ddff;\">) + </span><span style=\"color:#f78c6c;\">1<br></span><span style=\"color:#f78c6c;\">            </span><span style=\"color:#c792ea;font-style:italic;\">self</span><span style=\"color:#89ddff;\">.</span><span style=\"color:#82aaff;\">save_html</span><span style=\"color:#89ddff;\">(</span>html_str<span style=\"color:#89ddff;\">, </span>page_num<span style=\"color:#89ddff;\">)<br></span><span style=\"color:#89ddff;\">            </span>time<span style=\"color:#89ddff;\">.</span><span style=\"color:#82aaff;\">sleep</span><span style=\"color:#89ddff;\">(</span><span style=\"color:#f78c6c;\">10</span><span style=\"color:#89ddff;\">)<br></span><span style=\"color:#89ddff;\"><br></span><span style=\"color:#89ddff;\"><br></span><span style=\"color:#c792ea;font-style:italic;\">if </span>__name__ <span style=\"color:#89ddff;\">== </span><span style=\"color:#c3e88d;\">\'__main__\'</span><span style=\"color:#89ddff;\">:<br></span><span style=\"color:#89ddff;\">    </span>tieba <span style=\"color:#89ddff;\">= </span><span style=\"color:#82aaff;\">TiebaSpider</span><span style=\"color:#89ddff;\">(</span><span style=\"color:#c3e88d;\">\"</span><span style=\"color:#c3e88d;font-family:\'宋体\';\">吴亦凡</span><span style=\"color:#c3e88d;\">\"</span><span style=\"color:#89ddff;\">)<br></span><span style=\"color:#89ddff;\">    </span>tieba<span style=\"color:#89ddff;\">.</span><span style=\"color:#82aaff;\">run</span><span style=\"color:#89ddff;\">()<br></span></code></pre>',`comments`=0,`updatetime`=1583381178  WHERE  `id` = 7 [ RunTime:0.001149s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_admin_log` [ RunTime:0.005207s ]
[ sql ] [ SQL ] INSERT INTO `fa_admin_log` (`title` , `content` , `url` , `admin_id` , `username` , `useragent` , `ip` , `createtime`) VALUES ('博客管理 日志管理 修改' , '{\"dialog\":\"1\",\"row\":{\"category_id\":\"3\",\"flag\":[\"hot\"],\"title\":\"\\u901a\\u7528\\u722c\\u866b\",\"summary\":\"\\u901a\\u7528\\u722c\\u866b\",\"content\":\"import requestsimport timeclass TiebaSpider:    def __init__(self, name):        self.name = name        self.url = &quot;https:\\/\\/tieba.baidu.com\\/f?kw=&quot;+name+&quot;&amp;amp;ie=utf-8&amp;amp;pn={}&quot;        self.headers = {&quot;User-Agent&quot;: &quot;Mozilla\\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\\/537.36&quot;                                      &quot; (KHTML, like Gecko) Chrome\\/80.0.3970.5 Safari\\/537.36&quot;}    def get_url_list(self):        \'\'\'\\u6784\\u9020url\\u5217\\u8868\'\'\'        url_list = []        for i in range(1000):            url_list.append(self.url.format(i * 50))        return url_list    def parse_url(self, url):        \'\'\'\\u89e3\\u6790url\'\'\'        response = requests.get(url, headers=self.headers)        return response.content.decode()    def save_html(self, html_str, page_num):        file_path = &quot;{}--\\u7b2c{}\\u9875.html&quot;.format(self.name, page_num)        with open(file_path, &quot;w&quot;, encoding=&quot;utf-8&quot;) as f:            f.write(html_str)    def run(self):        # 1.\\u6784\\u9020url\\u5217\\u8868        url_list = self.get_url_list()        # 2.\\u904d\\u5386\\uff0c\\u53d1\\u9001\\u8bf7\\u6c42\\uff0c\\u83b7\\u53d6\\u76f8\\u5e94        for url in url_list:            html_str = self.parse_url(url)            # 3.\\u4fdd\\u5b58            page_num = url_list.index(url) + 1            self.save_html(html_str, page_num)            time.sleep(10)if __name__ == \'__main__\':    tieba = TiebaSpider(&quot;\\u5434\\u4ea6\\u51e1&quot;)    tieba.run()\",\"thumb\":\"\",\"image\":\"\",\"keywords\":\"\",\"description\":\"\",\"views\":\"13\",\"comments\":\"0\",\"weigh\":\"7\",\"status\":\"normal\"},\"ids\":\"7\"}' , '/admin/blog/post/edit/ids/7?dialog=1' , 1 , 'admin' , 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/80.0.3970.5 Safari/537.36' , '127.0.0.1' , 1583381178) [ RunTime:0.051927s ]
---------------------------------------------------------------
[ 2020-03-05T12:06:18+08:00 ] 127.0.0.1 GET www.jfmblog.com/admin/blog/post/index?sort=weigh&order=desc&offset=0&limit=10&filter=%7B%7D&op=%7B%7D&_=1583381103793
[ sql ] [ DB ] CONNECT:[ UseTime:0.013604s ] mysql:host=127.0.0.1;dbname=jfmblog;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_auth_group_access` [ RunTime:0.014603s ]
[ sql ] [ SQL ] SELECT `aga`.`uid`,`aga`.`group_id`,`ag`.`id`,`ag`.`pid`,`ag`.`name`,`ag`.`rules` FROM `fa_auth_group_access` `aga` LEFT JOIN `fa_auth_group` `ag` ON `aga`.`group_id`=`ag`.`id` WHERE  (  aga.uid='1' and ag.status='normal' ) [ RunTime:0.000843s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_auth_rule` [ RunTime:0.005412s ]
[ sql ] [ SQL ] SELECT `id`,`pid`,`condition`,`icon`,`name`,`title`,`ismenu` FROM `fa_auth_rule` WHERE  `status` = 'normal' [ RunTime:0.001105s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_blog_category` [ RunTime:0.005696s ]
[ sql ] [ SQL ] SELECT * FROM `fa_blog_category` ORDER BY `weigh` DESC,`id` DESC [ RunTime:0.000736s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_blog_post` [ RunTime:0.005219s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `fa_blog_post` `blog_post` LEFT JOIN `fa_blog_category` `category` ON `blog_post`.`category_id`=`category`.`id` ORDER BY `blog_post`.`weigh` DESC LIMIT 1 [ RunTime:0.000720s ]
[ sql ] [ SQL ] SELECT `blog_post`.`id`,`blog_post`.`category_id`,`blog_post`.`flag`,`blog_post`.`title`,`blog_post`.`summary`,`blog_post`.`content`,`blog_post`.`thumb`,`blog_post`.`image`,`blog_post`.`keywords`,`blog_post`.`description`,`blog_post`.`views`,`blog_post`.`comments`,`blog_post`.`createtime`,`blog_post`.`updatetime`,`blog_post`.`weigh`,`blog_post`.`status`,category.id AS category__id,category.pid AS category__pid,category.name AS category__name,category.nickname AS category__nickname,category.flag AS category__flag,category.image AS category__image,category.keywords AS category__keywords,category.description AS category__description,category.diyname AS category__diyname,category.createtime AS category__createtime,category.updatetime AS category__updatetime,category.weigh AS category__weigh,category.status AS category__status FROM `fa_blog_post` `blog_post` LEFT JOIN `fa_blog_category` `category` ON `blog_post`.`category_id`=`category`.`id` ORDER BY `blog_post`.`weigh` DESC LIMIT 0,10 [ RunTime:0.000915s ]
---------------------------------------------------------------
[ 2020-03-05T12:06:21+08:00 ] 127.0.0.1 GET www.jfmblog.com/p/7.html
[ sql ] [ DB ] CONNECT:[ UseTime:0.014374s ] mysql:host=127.0.0.1;dbname=jfmblog;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_blog_category` [ RunTime:0.013772s ]
[ sql ] [ SQL ] SELECT * FROM `fa_blog_category` WHERE  `status` = 'normal' ORDER BY `weigh` DESC,`id` DESC [ RunTime:0.001230s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_blog_post` [ RunTime:0.004955s ]
[ sql ] [ SQL ] SELECT * FROM `fa_blog_post` WHERE  `id` = 7 LIMIT 1 [ RunTime:0.000983s ]
[ sql ] [ SQL ] UPDATE `fa_blog_post`  SET `views`=`views`+1  WHERE  `id` = 7 [ RunTime:0.078219s ]
[ sql ] [ SQL ] SELECT * FROM `fa_blog_category` WHERE  `id` = 3 LIMIT 1 [ RunTime:0.000760s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_blog_comment` [ RunTime:0.005095s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `fa_blog_comment` WHERE  `post_id` = 7  AND `pid` = 0  AND `status` = 'normal' LIMIT 1 [ RunTime:0.001080s ]
[ sql ] [ SQL ] SELECT * FROM `fa_blog_comment` WHERE  `post_id` = 7  AND `pid` = 0  AND `status` = 'normal' ORDER BY `id` DESC LIMIT 0,10 [ RunTime:0.001106s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_blog_block` [ RunTime:0.005043s ]
[ sql ] [ SQL ] SELECT * FROM `fa_blog_block` WHERE  `name` = 'sidebarad1'  AND `status` = 'normal' LIMIT 1 [ RunTime:0.001000s ]
[ sql ] [ SQL ] SELECT * FROM `fa_blog_block` WHERE  `name` = 'sidebarad2'  AND `status` = 'normal' LIMIT 1 [ RunTime:0.000896s ]
[ sql ] [ SQL ] SELECT * FROM `fa_blog_post` WHERE  `status` = 'normal' ORDER BY `createtime` DESC LIMIT 3 [ RunTime:0.000836s ]
[ sql ] [ SQL ] SELECT * FROM `fa_blog_category` WHERE  `id` IN (3,2) [ RunTime:0.000877s ]
[ sql ] [ SQL ] SELECT * FROM `fa_blog_post` WHERE  `status` = 'normal' ORDER BY `createtime` DESC LIMIT 10 [ RunTime:0.000896s ]
[ sql ] [ SQL ] SELECT * FROM `fa_blog_category` WHERE  `id` IN (3,2,1) [ RunTime:0.000995s ]
[ sql ] [ SQL ] SELECT * FROM `fa_blog_post` WHERE  `status` = 'normal'  AND (  (FIND_IN_SET('recommend', flag)) ) ORDER BY `createtime` DESC LIMIT 10 [ RunTime:0.000859s ]
[ sql ] [ SQL ] SELECT * FROM `fa_blog_category` WHERE  `id` IN (2) [ RunTime:0.000769s ]
---------------------------------------------------------------
[ 2020-03-05T12:07:05+08:00 ] 127.0.0.1 GET www.jfmblog.com/c/4.html
[ sql ] [ DB ] CONNECT:[ UseTime:0.011796s ] mysql:host=127.0.0.1;dbname=jfmblog;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_blog_category` [ RunTime:0.012631s ]
[ sql ] [ SQL ] SELECT * FROM `fa_blog_category` WHERE  `id` = 4 LIMIT 1 [ RunTime:0.000756s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_blog_post` [ RunTime:0.006013s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `fa_blog_post` WHERE  `status` = 'normal'  AND `category_id` = 4 LIMIT 1 [ RunTime:0.000813s ]
[ sql ] [ SQL ] SELECT * FROM `fa_blog_post` WHERE  `status` = 'normal'  AND `category_id` = 4 ORDER BY `weigh` DESC,`id` DESC LIMIT 0,10 [ RunTime:0.000854s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_blog_block` [ RunTime:0.004951s ]
[ sql ] [ SQL ] SELECT * FROM `fa_blog_category` WHERE  `id` IN (3,2,1) [ RunTime:0.001116s ]
[ sql ] [ SQL ] SELECT * FROM `fa_blog_category` WHERE  `id` IN (2) [ RunTime:0.000810s ]
---------------------------------------------------------------
[ 2020-03-05T12:07:08+08:00 ] 127.0.0.1 GET www.jfmblog.com/c/3.html
[ sql ] [ DB ] CONNECT:[ UseTime:0.011853s ] mysql:host=127.0.0.1;dbname=jfmblog;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_blog_category` [ RunTime:0.013279s ]
[ sql ] [ SQL ] SELECT * FROM `fa_blog_category` WHERE  `id` = 3 LIMIT 1 [ RunTime:0.000968s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_blog_post` [ RunTime:0.005431s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `fa_blog_post` WHERE  `status` = 'normal'  AND `category_id` = 3 LIMIT 1 [ RunTime:0.000862s ]
[ sql ] [ SQL ] SELECT * FROM `fa_blog_post` WHERE  `status` = 'normal'  AND `category_id` = 3 ORDER BY `weigh` DESC,`id` DESC LIMIT 0,10 [ RunTime:0.000878s ]
[ sql ] [ SQL ] SELECT * FROM `fa_blog_category` WHERE  `id` IN (3) [ RunTime:0.000701s ]
[ sql ] [ SQL ] SELECT * FROM `fa_blog_category` WHERE  `id` IN (3,2,1) [ RunTime:0.000994s ]
[ sql ] [ SQL ] SELECT * FROM `fa_blog_category` WHERE  `id` IN (2) [ RunTime:0.000768s ]
---------------------------------------------------------------
[ 2020-03-05T12:07:11+08:00 ] 127.0.0.1 GET www.jfmblog.com/c/2.html
[ sql ] [ DB ] CONNECT:[ UseTime:0.012218s ] mysql:host=127.0.0.1;dbname=jfmblog;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_blog_category` [ RunTime:0.012404s ]
[ sql ] [ SQL ] SELECT * FROM `fa_blog_category` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.000911s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_blog_post` [ RunTime:0.005210s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `fa_blog_post` WHERE  `status` = 'normal'  AND `category_id` = 2 LIMIT 1 [ RunTime:0.000969s ]
[ sql ] [ SQL ] SELECT * FROM `fa_blog_post` WHERE  `status` = 'normal'  AND `category_id` = 2 ORDER BY `weigh` DESC,`id` DESC LIMIT 0,10 [ RunTime:0.000955s ]
[ sql ] [ SQL ] SELECT * FROM `fa_blog_category` WHERE  `id` IN (2) [ RunTime:0.000832s ]
[ sql ] [ SQL ] SELECT * FROM `fa_blog_category` WHERE  `id` IN (3,2,1) [ RunTime:0.001013s ]
[ sql ] [ SQL ] SELECT * FROM `fa_blog_category` WHERE  `id` IN (2) [ RunTime:0.000789s ]
---------------------------------------------------------------
[ 2020-03-05T12:07:14+08:00 ] 127.0.0.1 GET www.jfmblog.com/c/3.html
[ sql ] [ DB ] CONNECT:[ UseTime:0.011972s ] mysql:host=127.0.0.1;dbname=jfmblog;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_blog_category` [ RunTime:0.013205s ]
[ sql ] [ SQL ] SELECT * FROM `fa_blog_category` WHERE  `id` = 3 LIMIT 1 [ RunTime:0.000862s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_blog_post` [ RunTime:0.005042s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `fa_blog_post` WHERE  `status` = 'normal'  AND `category_id` = 3 LIMIT 1 [ RunTime:0.000965s ]
[ sql ] [ SQL ] SELECT * FROM `fa_blog_post` WHERE  `status` = 'normal'  AND `category_id` = 3 ORDER BY `weigh` DESC,`id` DESC LIMIT 0,10 [ RunTime:0.001071s ]
[ sql ] [ SQL ] SELECT * FROM `fa_blog_category` WHERE  `id` IN (3) [ RunTime:0.000805s ]
[ sql ] [ SQL ] SELECT * FROM `fa_blog_category` WHERE  `id` IN (3,2,1) [ RunTime:0.000986s ]
[ sql ] [ SQL ] SELECT * FROM `fa_blog_category` WHERE  `id` IN (2) [ RunTime:0.000777s ]
---------------------------------------------------------------
[ 2020-03-05T12:07:17+08:00 ] 127.0.0.1 GET www.jfmblog.com/p/7.html
[ sql ] [ DB ] CONNECT:[ UseTime:0.011959s ] mysql:host=127.0.0.1;dbname=jfmblog;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_blog_post` [ RunTime:0.012233s ]
[ sql ] [ SQL ] SELECT * FROM `fa_blog_post` WHERE  `id` = 7 LIMIT 1 [ RunTime:0.001010s ]
[ sql ] [ SQL ] UPDATE `fa_blog_post`  SET `views`=`views`+1  WHERE  `id` = 7 [ RunTime:0.026032s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_blog_category` [ RunTime:0.004981s ]
[ sql ] [ SQL ] SELECT * FROM `fa_blog_category` WHERE  `id` = 3 LIMIT 1 [ RunTime:0.000814s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_blog_comment` [ RunTime:0.005171s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `fa_blog_comment` WHERE  `post_id` = 7  AND `pid` = 0  AND `status` = 'normal' LIMIT 1 [ RunTime:0.001033s ]
[ sql ] [ SQL ] SELECT * FROM `fa_blog_comment` WHERE  `post_id` = 7  AND `pid` = 0  AND `status` = 'normal' ORDER BY `id` DESC LIMIT 0,10 [ RunTime:0.001055s ]
[ sql ] [ SQL ] SELECT * FROM `fa_blog_category` WHERE  `id` IN (3,2) [ RunTime:0.000983s ]
[ sql ] [ SQL ] SELECT * FROM `fa_blog_category` WHERE  `id` IN (3,2,1) [ RunTime:0.000966s ]
[ sql ] [ SQL ] SELECT * FROM `fa_blog_category` WHERE  `id` IN (2) [ RunTime:0.000775s ]
---------------------------------------------------------------
[ 2020-03-05T12:07:20+08:00 ] 127.0.0.1 GET www.jfmblog.com/p/6.html
[ sql ] [ DB ] CONNECT:[ UseTime:0.012756s ] mysql:host=127.0.0.1;dbname=jfmblog;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_blog_post` [ RunTime:0.012371s ]
[ sql ] [ SQL ] SELECT * FROM `fa_blog_post` WHERE  `id` = 6 LIMIT 1 [ RunTime:0.000966s ]
[ sql ] [ SQL ] UPDATE `fa_blog_post`  SET `views`=`views`+1  WHERE  `id` = 6 [ RunTime:0.023324s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_blog_category` [ RunTime:0.005142s ]
[ sql ] [ SQL ] SELECT * FROM `fa_blog_category` WHERE  `id` = 3 LIMIT 1 [ RunTime:0.000821s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_blog_comment` [ RunTime:0.005044s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `fa_blog_comment` WHERE  `post_id` = 6  AND `pid` = 0  AND `status` = 'normal' LIMIT 1 [ RunTime:0.001085s ]
[ sql ] [ SQL ] SELECT * FROM `fa_blog_comment` WHERE  `post_id` = 6  AND `pid` = 0  AND `status` = 'normal' ORDER BY `id` DESC LIMIT 0,10 [ RunTime:0.001087s ]
[ sql ] [ SQL ] SELECT * FROM `fa_blog_category` WHERE  `id` IN (3,2) [ RunTime:0.000918s ]
[ sql ] [ SQL ] SELECT * FROM `fa_blog_category` WHERE  `id` IN (3,2,1) [ RunTime:0.000981s ]
[ sql ] [ SQL ] SELECT * FROM `fa_blog_category` WHERE  `id` IN (2) [ RunTime:0.000775s ]
---------------------------------------------------------------
[ 2020-03-05T12:07:38+08:00 ] 127.0.0.1 POST www.jfmblog.com/admin/blog/post/del/ids/6
[ sql ] [ DB ] CONNECT:[ UseTime:0.015288s ] mysql:host=127.0.0.1;dbname=jfmblog;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_auth_group_access` [ RunTime:0.012156s ]
[ sql ] [ SQL ] SELECT `aga`.`uid`,`aga`.`group_id`,`ag`.`id`,`ag`.`pid`,`ag`.`name`,`ag`.`rules` FROM `fa_auth_group_access` `aga` LEFT JOIN `fa_auth_group` `ag` ON `aga`.`group_id`=`ag`.`id` WHERE  (  aga.uid='1' and ag.status='normal' ) [ RunTime:0.000791s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_auth_rule` [ RunTime:0.005159s ]
[ sql ] [ SQL ] SELECT `id`,`pid`,`condition`,`icon`,`name`,`title`,`ismenu` FROM `fa_auth_rule` WHERE  `status` = 'normal' [ RunTime:0.001253s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_blog_category` [ RunTime:0.005253s ]
[ sql ] [ SQL ] SELECT * FROM `fa_blog_category` ORDER BY `weigh` DESC,`id` DESC [ RunTime:0.000796s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_blog_post` [ RunTime:0.005576s ]
[ sql ] [ SQL ] SELECT * FROM `fa_blog_post` WHERE  `id` IN (6) [ RunTime:0.000913s ]
[ sql ] [ SQL ] DELETE FROM `fa_blog_post`    WHERE  `id` = 6 [ RunTime:0.000799s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_admin_log` [ RunTime:0.005346s ]
[ sql ] [ SQL ] INSERT INTO `fa_admin_log` (`title` , `content` , `url` , `admin_id` , `username` , `useragent` , `ip` , `createtime`) VALUES ('博客管理 日志管理 删除' , '{\"action\":\"del\",\"ids\":\"6\",\"params\":\"\"}' , '/admin/blog/post/del/ids/6' , 1 , 'admin' , 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/80.0.3970.5 Safari/537.36' , '127.0.0.1' , 1583381257) [ RunTime:0.034532s ]
---------------------------------------------------------------
[ 2020-03-05T12:07:38+08:00 ] 127.0.0.1 GET www.jfmblog.com/admin/blog/post/index?sort=weigh&order=desc&offset=0&limit=10&filter=%7B%7D&op=%7B%7D&_=1583381103794
[ sql ] [ DB ] CONNECT:[ UseTime:0.012126s ] mysql:host=127.0.0.1;dbname=jfmblog;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_auth_group_access` [ RunTime:0.005032s ]
[ sql ] [ SQL ] SELECT `aga`.`uid`,`aga`.`group_id`,`ag`.`id`,`ag`.`pid`,`ag`.`name`,`ag`.`rules` FROM `fa_auth_group_access` `aga` LEFT JOIN `fa_auth_group` `ag` ON `aga`.`group_id`=`ag`.`id` WHERE  (  aga.uid='1' and ag.status='normal' ) [ RunTime:0.000821s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_auth_rule` [ RunTime:0.005737s ]
[ sql ] [ SQL ] SELECT `id`,`pid`,`condition`,`icon`,`name`,`title`,`ismenu` FROM `fa_auth_rule` WHERE  `status` = 'normal' [ RunTime:0.001127s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_blog_category` [ RunTime:0.005626s ]
[ sql ] [ SQL ] SELECT * FROM `fa_blog_category` ORDER BY `weigh` DESC,`id` DESC [ RunTime:0.000700s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_blog_post` [ RunTime:0.005629s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `fa_blog_post` `blog_post` LEFT JOIN `fa_blog_category` `category` ON `blog_post`.`category_id`=`category`.`id` ORDER BY `blog_post`.`weigh` DESC LIMIT 1 [ RunTime:0.000809s ]
[ sql ] [ SQL ] SELECT `blog_post`.`id`,`blog_post`.`category_id`,`blog_post`.`flag`,`blog_post`.`title`,`blog_post`.`summary`,`blog_post`.`content`,`blog_post`.`thumb`,`blog_post`.`image`,`blog_post`.`keywords`,`blog_post`.`description`,`blog_post`.`views`,`blog_post`.`comments`,`blog_post`.`createtime`,`blog_post`.`updatetime`,`blog_post`.`weigh`,`blog_post`.`status`,category.id AS category__id,category.pid AS category__pid,category.name AS category__name,category.nickname AS category__nickname,category.flag AS category__flag,category.image AS category__image,category.keywords AS category__keywords,category.description AS category__description,category.diyname AS category__diyname,category.createtime AS category__createtime,category.updatetime AS category__updatetime,category.weigh AS category__weigh,category.status AS category__status FROM `fa_blog_post` `blog_post` LEFT JOIN `fa_blog_category` `category` ON `blog_post`.`category_id`=`category`.`id` ORDER BY `blog_post`.`weigh` DESC LIMIT 0,10 [ RunTime:0.000984s ]
---------------------------------------------------------------
[ 2020-03-05T12:07:49+08:00 ] 127.0.0.1 GET www.jfmblog.com/p/6.html
[ sql ] [ DB ] CONNECT:[ UseTime:0.011905s ] mysql:host=127.0.0.1;dbname=jfmblog;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_blog_category` [ RunTime:0.012534s ]
[ sql ] [ SQL ] SELECT * FROM `fa_blog_category` WHERE  `status` = 'normal' ORDER BY `weigh` DESC,`id` DESC [ RunTime:0.000926s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_blog_post` [ RunTime:0.005068s ]
[ sql ] [ SQL ] SELECT * FROM `fa_blog_post` WHERE  `id` = 6 LIMIT 1 [ RunTime:0.000921s ]
---------------------------------------------------------------
[ 2020-03-05T12:07:55+08:00 ] 127.0.0.1 GET www.jfmblog.com/c/3.html
[ sql ] [ DB ] CONNECT:[ UseTime:0.012499s ] mysql:host=127.0.0.1;dbname=jfmblog;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_blog_category` [ RunTime:0.012382s ]
[ sql ] [ SQL ] SELECT * FROM `fa_blog_category` WHERE  `id` = 3 LIMIT 1 [ RunTime:0.000869s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_blog_post` [ RunTime:0.005210s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `fa_blog_post` WHERE  `status` = 'normal'  AND `category_id` = 3 LIMIT 1 [ RunTime:0.000985s ]
[ sql ] [ SQL ] SELECT * FROM `fa_blog_post` WHERE  `status` = 'normal'  AND `category_id` = 3 ORDER BY `weigh` DESC,`id` DESC LIMIT 0,10 [ RunTime:0.001598s ]
[ sql ] [ SQL ] SELECT * FROM `fa_blog_category` WHERE  `id` IN (3) [ RunTime:0.000847s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_blog_block` [ RunTime:0.005160s ]
[ sql ] [ SQL ] SELECT * FROM `fa_blog_block` WHERE  `name` = 'sidebarad1'  AND `status` = 'normal' LIMIT 1 [ RunTime:0.000906s ]
[ sql ] [ SQL ] SELECT * FROM `fa_blog_block` WHERE  `name` = 'sidebarad2'  AND `status` = 'normal' LIMIT 1 [ RunTime:0.000875s ]
[ sql ] [ SQL ] SELECT * FROM `fa_blog_post` WHERE  `status` = 'normal' ORDER BY `createtime` DESC LIMIT 10 [ RunTime:0.000888s ]
[ sql ] [ SQL ] SELECT * FROM `fa_blog_category` WHERE  `id` IN (3,2,1) [ RunTime:0.000978s ]
[ sql ] [ SQL ] SELECT * FROM `fa_blog_post` WHERE  `status` = 'normal'  AND (  (FIND_IN_SET('recommend', flag)) ) ORDER BY `createtime` DESC LIMIT 10 [ RunTime:0.000826s ]
[ sql ] [ SQL ] SELECT * FROM `fa_blog_category` WHERE  `id` IN (2) [ RunTime:0.000758s ]
---------------------------------------------------------------
[ 2020-03-05T12:08:14+08:00 ] 127.0.0.1 GET www.jfmblog.com/c/2.html
[ sql ] [ DB ] CONNECT:[ UseTime:0.012112s ] mysql:host=127.0.0.1;dbname=jfmblog;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_blog_category` [ RunTime:0.012345s ]
[ sql ] [ SQL ] SELECT * FROM `fa_blog_category` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.000949s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_blog_post` [ RunTime:0.005182s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `fa_blog_post` WHERE  `status` = 'normal'  AND `category_id` = 2 LIMIT 1 [ RunTime:0.001013s ]
[ sql ] [ SQL ] SELECT * FROM `fa_blog_post` WHERE  `status` = 'normal'  AND `category_id` = 2 ORDER BY `weigh` DESC,`id` DESC LIMIT 0,10 [ RunTime:0.000967s ]
[ sql ] [ SQL ] SELECT * FROM `fa_blog_category` WHERE  `id` IN (2) [ RunTime:0.000840s ]
[ sql ] [ SQL ] SELECT * FROM `fa_blog_category` WHERE  `id` IN (3,2,1) [ RunTime:0.001022s ]
[ sql ] [ SQL ] SELECT * FROM `fa_blog_category` WHERE  `id` IN (2) [ RunTime:0.000821s ]
---------------------------------------------------------------
[ 2020-03-05T12:08:21+08:00 ] 127.0.0.1 POST www.jfmblog.com/admin/blog/post/del/ids/5
[ sql ] [ DB ] CONNECT:[ UseTime:0.012457s ] mysql:host=127.0.0.1;dbname=jfmblog;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_auth_group_access` [ RunTime:0.011877s ]
[ sql ] [ SQL ] SELECT `aga`.`uid`,`aga`.`group_id`,`ag`.`id`,`ag`.`pid`,`ag`.`name`,`ag`.`rules` FROM `fa_auth_group_access` `aga` LEFT JOIN `fa_auth_group` `ag` ON `aga`.`group_id`=`ag`.`id` WHERE  (  aga.uid='1' and ag.status='normal' ) [ RunTime:0.000923s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_auth_rule` [ RunTime:0.005299s ]
[ sql ] [ SQL ] SELECT `id`,`pid`,`condition`,`icon`,`name`,`title`,`ismenu` FROM `fa_auth_rule` WHERE  `status` = 'normal' [ RunTime:0.001186s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_blog_category` [ RunTime:0.005330s ]
[ sql ] [ SQL ] SELECT * FROM `fa_blog_category` ORDER BY `weigh` DESC,`id` DESC [ RunTime:0.000879s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_blog_post` [ RunTime:0.005577s ]
[ sql ] [ SQL ] SELECT * FROM `fa_blog_post` WHERE  `id` IN (5) [ RunTime:0.000804s ]
[ sql ] [ SQL ] DELETE FROM `fa_blog_post`    WHERE  `id` = 5 [ RunTime:0.000721s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_admin_log` [ RunTime:0.005209s ]
[ sql ] [ SQL ] INSERT INTO `fa_admin_log` (`title` , `content` , `url` , `admin_id` , `username` , `useragent` , `ip` , `createtime`) VALUES ('博客管理 日志管理 删除' , '{\"action\":\"del\",\"ids\":\"5\",\"params\":\"\"}' , '/admin/blog/post/del/ids/5' , 1 , 'admin' , 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/80.0.3970.5 Safari/537.36' , '127.0.0.1' , 1583381301) [ RunTime:0.039869s ]
---------------------------------------------------------------
[ 2020-03-05T12:08:21+08:00 ] 127.0.0.1 GET www.jfmblog.com/admin/blog/post/index?sort=weigh&order=desc&offset=0&limit=10&filter=%7B%7D&op=%7B%7D&_=1583381103795
[ sql ] [ DB ] CONNECT:[ UseTime:0.011848s ] mysql:host=127.0.0.1;dbname=jfmblog;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_auth_group_access` [ RunTime:0.004831s ]
[ sql ] [ SQL ] SELECT `aga`.`uid`,`aga`.`group_id`,`ag`.`id`,`ag`.`pid`,`ag`.`name`,`ag`.`rules` FROM `fa_auth_group_access` `aga` LEFT JOIN `fa_auth_group` `ag` ON `aga`.`group_id`=`ag`.`id` WHERE  (  aga.uid='1' and ag.status='normal' ) [ RunTime:0.000900s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_auth_rule` [ RunTime:0.005215s ]
[ sql ] [ SQL ] SELECT `id`,`pid`,`condition`,`icon`,`name`,`title`,`ismenu` FROM `fa_auth_rule` WHERE  `status` = 'normal' [ RunTime:0.001178s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_blog_category` [ RunTime:0.005231s ]
[ sql ] [ SQL ] SELECT * FROM `fa_blog_category` ORDER BY `weigh` DESC,`id` DESC [ RunTime:0.000808s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_blog_post` [ RunTime:0.005883s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `fa_blog_post` `blog_post` LEFT JOIN `fa_blog_category` `category` ON `blog_post`.`category_id`=`category`.`id` ORDER BY `blog_post`.`weigh` DESC LIMIT 1 [ RunTime:0.000783s ]
[ sql ] [ SQL ] SELECT `blog_post`.`id`,`blog_post`.`category_id`,`blog_post`.`flag`,`blog_post`.`title`,`blog_post`.`summary`,`blog_post`.`content`,`blog_post`.`thumb`,`blog_post`.`image`,`blog_post`.`keywords`,`blog_post`.`description`,`blog_post`.`views`,`blog_post`.`comments`,`blog_post`.`createtime`,`blog_post`.`updatetime`,`blog_post`.`weigh`,`blog_post`.`status`,category.id AS category__id,category.pid AS category__pid,category.name AS category__name,category.nickname AS category__nickname,category.flag AS category__flag,category.image AS category__image,category.keywords AS category__keywords,category.description AS category__description,category.diyname AS category__diyname,category.createtime AS category__createtime,category.updatetime AS category__updatetime,category.weigh AS category__weigh,category.status AS category__status FROM `fa_blog_post` `blog_post` LEFT JOIN `fa_blog_category` `category` ON `blog_post`.`category_id`=`category`.`id` ORDER BY `blog_post`.`weigh` DESC LIMIT 0,10 [ RunTime:0.000888s ]
---------------------------------------------------------------
[ 2020-03-05T12:08:24+08:00 ] 127.0.0.1 POST www.jfmblog.com/admin/blog/post/del/ids/1
[ sql ] [ DB ] CONNECT:[ UseTime:0.012159s ] mysql:host=127.0.0.1;dbname=jfmblog;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_auth_group_access` [ RunTime:0.011977s ]
[ sql ] [ SQL ] SELECT `aga`.`uid`,`aga`.`group_id`,`ag`.`id`,`ag`.`pid`,`ag`.`name`,`ag`.`rules` FROM `fa_auth_group_access` `aga` LEFT JOIN `fa_auth_group` `ag` ON `aga`.`group_id`=`ag`.`id` WHERE  (  aga.uid='1' and ag.status='normal' ) [ RunTime:0.000750s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_auth_rule` [ RunTime:0.004991s ]
[ sql ] [ SQL ] SELECT `id`,`pid`,`condition`,`icon`,`name`,`title`,`ismenu` FROM `fa_auth_rule` WHERE  `status` = 'normal' [ RunTime:0.001063s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_blog_category` [ RunTime:0.005074s ]
[ sql ] [ SQL ] SELECT * FROM `fa_blog_category` ORDER BY `weigh` DESC,`id` DESC [ RunTime:0.001003s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_blog_post` [ RunTime:0.005474s ]
[ sql ] [ SQL ] SELECT * FROM `fa_blog_post` WHERE  `id` IN (1) [ RunTime:0.000803s ]
[ sql ] [ SQL ] DELETE FROM `fa_blog_post`    WHERE  `id` = 1 [ RunTime:0.000731s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_admin_log` [ RunTime:0.005058s ]
[ sql ] [ SQL ] INSERT INTO `fa_admin_log` (`title` , `content` , `url` , `admin_id` , `username` , `useragent` , `ip` , `createtime`) VALUES ('博客管理 日志管理 删除' , '{\"action\":\"del\",\"ids\":\"1\",\"params\":\"\"}' , '/admin/blog/post/del/ids/1' , 1 , 'admin' , 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/80.0.3970.5 Safari/537.36' , '127.0.0.1' , 1583381304) [ RunTime:0.035923s ]
---------------------------------------------------------------
[ 2020-03-05T12:08:24+08:00 ] 127.0.0.1 GET www.jfmblog.com/admin/blog/post/index?sort=weigh&order=desc&offset=0&limit=10&filter=%7B%7D&op=%7B%7D&_=1583381103796
[ sql ] [ DB ] CONNECT:[ UseTime:0.012083s ] mysql:host=127.0.0.1;dbname=jfmblog;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_auth_group_access` [ RunTime:0.005291s ]
[ sql ] [ SQL ] SELECT `aga`.`uid`,`aga`.`group_id`,`ag`.`id`,`ag`.`pid`,`ag`.`name`,`ag`.`rules` FROM `fa_auth_group_access` `aga` LEFT JOIN `fa_auth_group` `ag` ON `aga`.`group_id`=`ag`.`id` WHERE  (  aga.uid='1' and ag.status='normal' ) [ RunTime:0.000800s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_auth_rule` [ RunTime:0.005163s ]
[ sql ] [ SQL ] SELECT `id`,`pid`,`condition`,`icon`,`name`,`title`,`ismenu` FROM `fa_auth_rule` WHERE  `status` = 'normal' [ RunTime:0.001176s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_blog_category` [ RunTime:0.005177s ]
[ sql ] [ SQL ] SELECT * FROM `fa_blog_category` ORDER BY `weigh` DESC,`id` DESC [ RunTime:0.000828s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_blog_post` [ RunTime:0.005522s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `fa_blog_post` `blog_post` LEFT JOIN `fa_blog_category` `category` ON `blog_post`.`category_id`=`category`.`id` ORDER BY `blog_post`.`weigh` DESC LIMIT 1 [ RunTime:0.000700s ]
[ sql ] [ SQL ] SELECT `blog_post`.`id`,`blog_post`.`category_id`,`blog_post`.`flag`,`blog_post`.`title`,`blog_post`.`summary`,`blog_post`.`content`,`blog_post`.`thumb`,`blog_post`.`image`,`blog_post`.`keywords`,`blog_post`.`description`,`blog_post`.`views`,`blog_post`.`comments`,`blog_post`.`createtime`,`blog_post`.`updatetime`,`blog_post`.`weigh`,`blog_post`.`status`,category.id AS category__id,category.pid AS category__pid,category.name AS category__name,category.nickname AS category__nickname,category.flag AS category__flag,category.image AS category__image,category.keywords AS category__keywords,category.description AS category__description,category.diyname AS category__diyname,category.createtime AS category__createtime,category.updatetime AS category__updatetime,category.weigh AS category__weigh,category.status AS category__status FROM `fa_blog_post` `blog_post` LEFT JOIN `fa_blog_category` `category` ON `blog_post`.`category_id`=`category`.`id` ORDER BY `blog_post`.`weigh` DESC LIMIT 0,10 [ RunTime:0.000876s ]
---------------------------------------------------------------
[ 2020-03-05T12:08:27+08:00 ] 127.0.0.1 POST www.jfmblog.com/admin/blog/post/del/ids/2
[ sql ] [ DB ] CONNECT:[ UseTime:0.011780s ] mysql:host=127.0.0.1;dbname=jfmblog;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_auth_group_access` [ RunTime:0.005130s ]
[ sql ] [ SQL ] SELECT `aga`.`uid`,`aga`.`group_id`,`ag`.`id`,`ag`.`pid`,`ag`.`name`,`ag`.`rules` FROM `fa_auth_group_access` `aga` LEFT JOIN `fa_auth_group` `ag` ON `aga`.`group_id`=`ag`.`id` WHERE  (  aga.uid='1' and ag.status='normal' ) [ RunTime:0.000738s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_auth_rule` [ RunTime:0.004840s ]
[ sql ] [ SQL ] SELECT `id`,`pid`,`condition`,`icon`,`name`,`title`,`ismenu` FROM `fa_auth_rule` WHERE  `status` = 'normal' [ RunTime:0.001151s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_blog_category` [ RunTime:0.005051s ]
[ sql ] [ SQL ] SELECT * FROM `fa_blog_category` ORDER BY `weigh` DESC,`id` DESC [ RunTime:0.000730s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_blog_post` [ RunTime:0.005530s ]
[ sql ] [ SQL ] SELECT * FROM `fa_blog_post` WHERE  `id` IN (2) [ RunTime:0.000765s ]
[ sql ] [ SQL ] DELETE FROM `fa_blog_post`    WHERE  `id` = 2 [ RunTime:0.000695s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_admin_log` [ RunTime:0.005197s ]
[ sql ] [ SQL ] INSERT INTO `fa_admin_log` (`title` , `content` , `url` , `admin_id` , `username` , `useragent` , `ip` , `createtime`) VALUES ('博客管理 日志管理 删除' , '{\"action\":\"del\",\"ids\":\"2\",\"params\":\"\"}' , '/admin/blog/post/del/ids/2' , 1 , 'admin' , 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/80.0.3970.5 Safari/537.36' , '127.0.0.1' , 1583381307) [ RunTime:0.036827s ]
---------------------------------------------------------------
[ 2020-03-05T12:08:28+08:00 ] 127.0.0.1 GET www.jfmblog.com/admin/blog/post/index?sort=weigh&order=desc&offset=0&limit=10&filter=%7B%7D&op=%7B%7D&_=1583381103797
[ sql ] [ DB ] CONNECT:[ UseTime:0.014275s ] mysql:host=127.0.0.1;dbname=jfmblog;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_auth_group_access` [ RunTime:0.007973s ]
[ sql ] [ SQL ] SELECT `aga`.`uid`,`aga`.`group_id`,`ag`.`id`,`ag`.`pid`,`ag`.`name`,`ag`.`rules` FROM `fa_auth_group_access` `aga` LEFT JOIN `fa_auth_group` `ag` ON `aga`.`group_id`=`ag`.`id` WHERE  (  aga.uid='1' and ag.status='normal' ) [ RunTime:0.000775s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_auth_rule` [ RunTime:0.005156s ]
[ sql ] [ SQL ] SELECT `id`,`pid`,`condition`,`icon`,`name`,`title`,`ismenu` FROM `fa_auth_rule` WHERE  `status` = 'normal' [ RunTime:0.001125s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_blog_category` [ RunTime:0.005620s ]
[ sql ] [ SQL ] SELECT * FROM `fa_blog_category` ORDER BY `weigh` DESC,`id` DESC [ RunTime:0.000754s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_blog_post` [ RunTime:0.005252s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `fa_blog_post` `blog_post` LEFT JOIN `fa_blog_category` `category` ON `blog_post`.`category_id`=`category`.`id` ORDER BY `blog_post`.`weigh` DESC LIMIT 1 [ RunTime:0.000698s ]
[ sql ] [ SQL ] SELECT `blog_post`.`id`,`blog_post`.`category_id`,`blog_post`.`flag`,`blog_post`.`title`,`blog_post`.`summary`,`blog_post`.`content`,`blog_post`.`thumb`,`blog_post`.`image`,`blog_post`.`keywords`,`blog_post`.`description`,`blog_post`.`views`,`blog_post`.`comments`,`blog_post`.`createtime`,`blog_post`.`updatetime`,`blog_post`.`weigh`,`blog_post`.`status`,category.id AS category__id,category.pid AS category__pid,category.name AS category__name,category.nickname AS category__nickname,category.flag AS category__flag,category.image AS category__image,category.keywords AS category__keywords,category.description AS category__description,category.diyname AS category__diyname,category.createtime AS category__createtime,category.updatetime AS category__updatetime,category.weigh AS category__weigh,category.status AS category__status FROM `fa_blog_post` `blog_post` LEFT JOIN `fa_blog_category` `category` ON `blog_post`.`category_id`=`category`.`id` ORDER BY `blog_post`.`weigh` DESC LIMIT 0,10 [ RunTime:0.001096s ]
---------------------------------------------------------------
[ 2020-03-05T12:08:31+08:00 ] 127.0.0.1 POST www.jfmblog.com/admin/blog/post/del/ids/3
[ sql ] [ DB ] CONNECT:[ UseTime:0.003165s ] mysql:host=127.0.0.1;dbname=jfmblog;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_auth_group_access` [ RunTime:0.013227s ]
[ sql ] [ SQL ] SELECT `aga`.`uid`,`aga`.`group_id`,`ag`.`id`,`ag`.`pid`,`ag`.`name`,`ag`.`rules` FROM `fa_auth_group_access` `aga` LEFT JOIN `fa_auth_group` `ag` ON `aga`.`group_id`=`ag`.`id` WHERE  (  aga.uid='1' and ag.status='normal' ) [ RunTime:0.000777s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_auth_rule` [ RunTime:0.005122s ]
[ sql ] [ SQL ] SELECT `id`,`pid`,`condition`,`icon`,`name`,`title`,`ismenu` FROM `fa_auth_rule` WHERE  `status` = 'normal' [ RunTime:0.001172s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_blog_category` [ RunTime:0.005043s ]
[ sql ] [ SQL ] SELECT * FROM `fa_blog_category` ORDER BY `weigh` DESC,`id` DESC [ RunTime:0.000718s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_blog_post` [ RunTime:0.005444s ]
[ sql ] [ SQL ] SELECT * FROM `fa_blog_post` WHERE  `id` IN (3) [ RunTime:0.000768s ]
[ sql ] [ SQL ] DELETE FROM `fa_blog_post`    WHERE  `id` = 3 [ RunTime:0.000719s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_admin_log` [ RunTime:0.005048s ]
[ sql ] [ SQL ] INSERT INTO `fa_admin_log` (`title` , `content` , `url` , `admin_id` , `username` , `useragent` , `ip` , `createtime`) VALUES ('博客管理 日志管理 删除' , '{\"action\":\"del\",\"ids\":\"3\",\"params\":\"\"}' , '/admin/blog/post/del/ids/3' , 1 , 'admin' , 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/80.0.3970.5 Safari/537.36' , '127.0.0.1' , 1583381311) [ RunTime:0.036538s ]
---------------------------------------------------------------
[ 2020-03-05T12:08:32+08:00 ] 127.0.0.1 GET www.jfmblog.com/admin/blog/post/index?sort=weigh&order=desc&offset=0&limit=10&filter=%7B%7D&op=%7B%7D&_=1583381103798
[ sql ] [ DB ] CONNECT:[ UseTime:0.012476s ] mysql:host=127.0.0.1;dbname=jfmblog;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_auth_group_access` [ RunTime:0.004889s ]
[ sql ] [ SQL ] SELECT `aga`.`uid`,`aga`.`group_id`,`ag`.`id`,`ag`.`pid`,`ag`.`name`,`ag`.`rules` FROM `fa_auth_group_access` `aga` LEFT JOIN `fa_auth_group` `ag` ON `aga`.`group_id`=`ag`.`id` WHERE  (  aga.uid='1' and ag.status='normal' ) [ RunTime:0.000917s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_auth_rule` [ RunTime:0.005295s ]
[ sql ] [ SQL ] SELECT `id`,`pid`,`condition`,`icon`,`name`,`title`,`ismenu` FROM `fa_auth_rule` WHERE  `status` = 'normal' [ RunTime:0.001240s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_blog_category` [ RunTime:0.005165s ]
[ sql ] [ SQL ] SELECT * FROM `fa_blog_category` ORDER BY `weigh` DESC,`id` DESC [ RunTime:0.000662s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_blog_post` [ RunTime:0.005370s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `fa_blog_post` `blog_post` LEFT JOIN `fa_blog_category` `category` ON `blog_post`.`category_id`=`category`.`id` ORDER BY `blog_post`.`weigh` DESC LIMIT 1 [ RunTime:0.000690s ]
[ sql ] [ SQL ] SELECT `blog_post`.`id`,`blog_post`.`category_id`,`blog_post`.`flag`,`blog_post`.`title`,`blog_post`.`summary`,`blog_post`.`content`,`blog_post`.`thumb`,`blog_post`.`image`,`blog_post`.`keywords`,`blog_post`.`description`,`blog_post`.`views`,`blog_post`.`comments`,`blog_post`.`createtime`,`blog_post`.`updatetime`,`blog_post`.`weigh`,`blog_post`.`status`,category.id AS category__id,category.pid AS category__pid,category.name AS category__name,category.nickname AS category__nickname,category.flag AS category__flag,category.image AS category__image,category.keywords AS category__keywords,category.description AS category__description,category.diyname AS category__diyname,category.createtime AS category__createtime,category.updatetime AS category__updatetime,category.weigh AS category__weigh,category.status AS category__status FROM `fa_blog_post` `blog_post` LEFT JOIN `fa_blog_category` `category` ON `blog_post`.`category_id`=`category`.`id` ORDER BY `blog_post`.`weigh` DESC LIMIT 0,10 [ RunTime:0.000855s ]
---------------------------------------------------------------
[ 2020-03-05T12:08:35+08:00 ] 127.0.0.1 POST www.jfmblog.com/admin/blog/post/del/ids/4
[ sql ] [ DB ] CONNECT:[ UseTime:0.012160s ] mysql:host=127.0.0.1;dbname=jfmblog;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_auth_group_access` [ RunTime:0.005941s ]
[ sql ] [ SQL ] SELECT `aga`.`uid`,`aga`.`group_id`,`ag`.`id`,`ag`.`pid`,`ag`.`name`,`ag`.`rules` FROM `fa_auth_group_access` `aga` LEFT JOIN `fa_auth_group` `ag` ON `aga`.`group_id`=`ag`.`id` WHERE  (  aga.uid='1' and ag.status='normal' ) [ RunTime:0.000829s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_auth_rule` [ RunTime:0.005130s ]
[ sql ] [ SQL ] SELECT `id`,`pid`,`condition`,`icon`,`name`,`title`,`ismenu` FROM `fa_auth_rule` WHERE  `status` = 'normal' [ RunTime:0.001206s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_blog_category` [ RunTime:0.005214s ]
[ sql ] [ SQL ] SELECT * FROM `fa_blog_category` ORDER BY `weigh` DESC,`id` DESC [ RunTime:0.000734s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_blog_post` [ RunTime:0.005622s ]
[ sql ] [ SQL ] SELECT * FROM `fa_blog_post` WHERE  `id` IN (4) [ RunTime:0.000806s ]
[ sql ] [ SQL ] DELETE FROM `fa_blog_post`    WHERE  `id` = 4 [ RunTime:0.000746s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_admin_log` [ RunTime:0.005459s ]
[ sql ] [ SQL ] INSERT INTO `fa_admin_log` (`title` , `content` , `url` , `admin_id` , `username` , `useragent` , `ip` , `createtime`) VALUES ('博客管理 日志管理 删除' , '{\"action\":\"del\",\"ids\":\"4\",\"params\":\"\"}' , '/admin/blog/post/del/ids/4' , 1 , 'admin' , 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/80.0.3970.5 Safari/537.36' , '127.0.0.1' , 1583381314) [ RunTime:0.035367s ]
---------------------------------------------------------------
[ 2020-03-05T12:08:35+08:00 ] 127.0.0.1 GET www.jfmblog.com/admin/blog/post/index?sort=weigh&order=desc&offset=0&limit=10&filter=%7B%7D&op=%7B%7D&_=1583381103799
[ sql ] [ DB ] CONNECT:[ UseTime:0.013014s ] mysql:host=127.0.0.1;dbname=jfmblog;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_auth_group_access` [ RunTime:0.005314s ]
[ sql ] [ SQL ] SELECT `aga`.`uid`,`aga`.`group_id`,`ag`.`id`,`ag`.`pid`,`ag`.`name`,`ag`.`rules` FROM `fa_auth_group_access` `aga` LEFT JOIN `fa_auth_group` `ag` ON `aga`.`group_id`=`ag`.`id` WHERE  (  aga.uid='1' and ag.status='normal' ) [ RunTime:0.000880s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_auth_rule` [ RunTime:0.005118s ]
[ sql ] [ SQL ] SELECT `id`,`pid`,`condition`,`icon`,`name`,`title`,`ismenu` FROM `fa_auth_rule` WHERE  `status` = 'normal' [ RunTime:0.001176s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_blog_category` [ RunTime:0.005131s ]
[ sql ] [ SQL ] SELECT * FROM `fa_blog_category` ORDER BY `weigh` DESC,`id` DESC [ RunTime:0.000796s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_blog_post` [ RunTime:0.005114s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `fa_blog_post` `blog_post` LEFT JOIN `fa_blog_category` `category` ON `blog_post`.`category_id`=`category`.`id` ORDER BY `blog_post`.`weigh` DESC LIMIT 1 [ RunTime:0.000700s ]
[ sql ] [ SQL ] SELECT `blog_post`.`id`,`blog_post`.`category_id`,`blog_post`.`flag`,`blog_post`.`title`,`blog_post`.`summary`,`blog_post`.`content`,`blog_post`.`thumb`,`blog_post`.`image`,`blog_post`.`keywords`,`blog_post`.`description`,`blog_post`.`views`,`blog_post`.`comments`,`blog_post`.`createtime`,`blog_post`.`updatetime`,`blog_post`.`weigh`,`blog_post`.`status`,category.id AS category__id,category.pid AS category__pid,category.name AS category__name,category.nickname AS category__nickname,category.flag AS category__flag,category.image AS category__image,category.keywords AS category__keywords,category.description AS category__description,category.diyname AS category__diyname,category.createtime AS category__createtime,category.updatetime AS category__updatetime,category.weigh AS category__weigh,category.status AS category__status FROM `fa_blog_post` `blog_post` LEFT JOIN `fa_blog_category` `category` ON `blog_post`.`category_id`=`category`.`id` ORDER BY `blog_post`.`weigh` DESC LIMIT 0,10 [ RunTime:0.000838s ]
---------------------------------------------------------------
[ 2020-03-05T12:08:47+08:00 ] 127.0.0.1 GET www.jfmblog.com/c/2.html
[ sql ] [ DB ] CONNECT:[ UseTime:0.011929s ] mysql:host=127.0.0.1;dbname=jfmblog;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_blog_category` [ RunTime:0.012386s ]
[ sql ] [ SQL ] SELECT * FROM `fa_blog_category` WHERE  `status` = 'normal' ORDER BY `weigh` DESC,`id` DESC [ RunTime:0.000919s ]
[ sql ] [ SQL ] SELECT * FROM `fa_blog_category` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.000919s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_blog_post` [ RunTime:0.005284s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `fa_blog_post` WHERE  `status` = 'normal'  AND `category_id` = 2 LIMIT 1 [ RunTime:0.000968s ]
[ sql ] [ SQL ] SELECT * FROM `fa_blog_post` WHERE  `status` = 'normal'  AND `category_id` = 2 ORDER BY `weigh` DESC,`id` DESC LIMIT 0,10 [ RunTime:0.001033s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_blog_block` [ RunTime:0.005212s ]
[ sql ] [ SQL ] SELECT * FROM `fa_blog_block` WHERE  `name` = 'sidebarad1'  AND `status` = 'normal' LIMIT 1 [ RunTime:0.000920s ]
[ sql ] [ SQL ] SELECT * FROM `fa_blog_block` WHERE  `name` = 'sidebarad2'  AND `status` = 'normal' LIMIT 1 [ RunTime:0.000897s ]
[ sql ] [ SQL ] SELECT * FROM `fa_blog_post` WHERE  `status` = 'normal' ORDER BY `createtime` DESC LIMIT 10 [ RunTime:0.000861s ]
[ sql ] [ SQL ] SELECT * FROM `fa_blog_category` WHERE  `id` IN (3) [ RunTime:0.000761s ]
[ sql ] [ SQL ] SELECT * FROM `fa_blog_post` WHERE  `status` = 'normal'  AND (  (FIND_IN_SET('recommend', flag)) ) ORDER BY `createtime` DESC LIMIT 10 [ RunTime:0.000800s ]
---------------------------------------------------------------
[ 2020-03-05T12:08:50+08:00 ] 127.0.0.1 GET www.jfmblog.com/c/3.html
[ sql ] [ DB ] CONNECT:[ UseTime:0.011814s ] mysql:host=127.0.0.1;dbname=jfmblog;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_blog_category` [ RunTime:0.012381s ]
[ sql ] [ SQL ] SELECT * FROM `fa_blog_category` WHERE  `id` = 3 LIMIT 1 [ RunTime:0.000906s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_blog_post` [ RunTime:0.005037s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `fa_blog_post` WHERE  `status` = 'normal'  AND `category_id` = 3 LIMIT 1 [ RunTime:0.000938s ]
[ sql ] [ SQL ] SELECT * FROM `fa_blog_post` WHERE  `status` = 'normal'  AND `category_id` = 3 ORDER BY `weigh` DESC,`id` DESC LIMIT 0,10 [ RunTime:0.000985s ]
[ sql ] [ SQL ] SELECT * FROM `fa_blog_category` WHERE  `id` IN (3) [ RunTime:0.000794s ]
[ sql ] [ SQL ] SELECT * FROM `fa_blog_category` WHERE  `id` IN (3) [ RunTime:0.000783s ]
---------------------------------------------------------------
[ 2020-03-05T12:08:52+08:00 ] 127.0.0.1 GET www.jfmblog.com/p/7.html
[ sql ] [ DB ] CONNECT:[ UseTime:0.011884s ] mysql:host=127.0.0.1;dbname=jfmblog;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_blog_post` [ RunTime:0.012499s ]
[ sql ] [ SQL ] SELECT * FROM `fa_blog_post` WHERE  `id` = 7 LIMIT 1 [ RunTime:0.000988s ]
[ sql ] [ SQL ] UPDATE `fa_blog_post`  SET `views`=`views`+1  WHERE  `id` = 7 [ RunTime:0.054519s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_blog_category` [ RunTime:0.009149s ]
[ sql ] [ SQL ] SELECT * FROM `fa_blog_category` WHERE  `id` = 3 LIMIT 1 [ RunTime:0.001109s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_blog_comment` [ RunTime:0.005290s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `fa_blog_comment` WHERE  `post_id` = 7  AND `pid` = 0  AND `status` = 'normal' LIMIT 1 [ RunTime:0.001079s ]
[ sql ] [ SQL ] SELECT * FROM `fa_blog_comment` WHERE  `post_id` = 7  AND `pid` = 0  AND `status` = 'normal' ORDER BY `id` DESC LIMIT 0,10 [ RunTime:0.001072s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_blog_block` [ RunTime:0.005150s ]
[ sql ] [ SQL ] SELECT * FROM `fa_blog_post` WHERE  `status` = 'normal' ORDER BY `createtime` DESC LIMIT 3 [ RunTime:0.000862s ]
[ sql ] [ SQL ] SELECT * FROM `fa_blog_category` WHERE  `id` IN (3) [ RunTime:0.000750s ]
[ sql ] [ SQL ] SELECT * FROM `fa_blog_category` WHERE  `id` IN (3) [ RunTime:0.000782s ]
---------------------------------------------------------------
[ 2020-03-05T12:09:50+08:00 ] 127.0.0.1 GET www.jfmblog.com/p/7.html
[ sql ] [ DB ] CONNECT:[ UseTime:0.022396s ] mysql:host=127.0.0.1;dbname=jfmblog;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_blog_post` [ RunTime:0.005556s ]
[ sql ] [ SQL ] SELECT * FROM `fa_blog_post` WHERE  `id` = 7 LIMIT 1 [ RunTime:0.000951s ]
[ sql ] [ SQL ] UPDATE `fa_blog_post`  SET `views`=`views`+1  WHERE  `id` = 7 [ RunTime:0.041940s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_blog_category` [ RunTime:0.005835s ]
[ sql ] [ SQL ] SELECT * FROM `fa_blog_category` WHERE  `id` = 3 LIMIT 1 [ RunTime:0.000817s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_blog_comment` [ RunTime:0.006469s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `fa_blog_comment` WHERE  `post_id` = 7  AND `pid` = 0  AND `status` = 'normal' LIMIT 1 [ RunTime:0.001456s ]
[ sql ] [ SQL ] SELECT * FROM `fa_blog_comment` WHERE  `post_id` = 7  AND `pid` = 0  AND `status` = 'normal' ORDER BY `id` DESC LIMIT 0,10 [ RunTime:0.001073s ]
[ sql ] [ SQL ] SELECT * FROM `fa_blog_category` WHERE  `id` IN (3) [ RunTime:0.000898s ]
[ sql ] [ SQL ] SELECT * FROM `fa_blog_category` WHERE  `id` IN (3) [ RunTime:0.000895s ]
---------------------------------------------------------------
[ 2020-03-05T12:10:29+08:00 ] 127.0.0.1 GET www.jfmblog.com/
[ sql ] [ DB ] CONNECT:[ UseTime:0.017173s ] mysql:host=127.0.0.1;dbname=jfmblog;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_blog_category` [ RunTime:0.012381s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_blog_post` [ RunTime:0.005452s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `fa_blog_post` WHERE  `status` = 'normal' LIMIT 1 [ RunTime:0.000888s ]
[ sql ] [ SQL ] SELECT * FROM `fa_blog_post` WHERE  `status` = 'normal' ORDER BY `weigh` DESC,`id` DESC LIMIT 0,10 [ RunTime:0.000885s ]
[ sql ] [ SQL ] SELECT * FROM `fa_blog_category` WHERE  `id` IN (3) [ RunTime:0.000882s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_blog_block` [ RunTime:0.006063s ]
[ sql ] [ SQL ] SELECT * FROM `fa_blog_block` WHERE  `status` = 'normal'  AND `name` = 'indexfocus' ORDER BY `id` DESC LIMIT 5 [ RunTime:0.000897s ]
[ sql ] [ SQL ] SELECT * FROM `fa_blog_block` WHERE  `status` = 'normal'  AND `name` = 'indexsmallfocus' ORDER BY `id` DESC LIMIT 4 [ RunTime:0.000914s ]
[ sql ] [ SQL ] SELECT * FROM `fa_blog_category` WHERE  `id` IN (3) [ RunTime:0.000966s ]
---------------------------------------------------------------
[ 2020-03-05T12:10:43+08:00 ] 127.0.0.1 GET www.jfmblog.com/c/3.html
[ sql ] [ DB ] CONNECT:[ UseTime:0.019240s ] mysql:host=127.0.0.1;dbname=jfmblog;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_blog_category` [ RunTime:0.005088s ]
[ sql ] [ SQL ] SELECT * FROM `fa_blog_category` WHERE  `id` = 3 LIMIT 1 [ RunTime:0.000949s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_blog_post` [ RunTime:0.005083s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `fa_blog_post` WHERE  `status` = 'normal'  AND `category_id` = 3 LIMIT 1 [ RunTime:0.001004s ]
[ sql ] [ SQL ] SELECT * FROM `fa_blog_post` WHERE  `status` = 'normal'  AND `category_id` = 3 ORDER BY `weigh` DESC,`id` DESC LIMIT 0,10 [ RunTime:0.001011s ]
[ sql ] [ SQL ] SELECT * FROM `fa_blog_category` WHERE  `id` IN (3) [ RunTime:0.000927s ]
[ sql ] [ SQL ] SELECT * FROM `fa_blog_category` WHERE  `id` IN (3) [ RunTime:0.000800s ]
---------------------------------------------------------------
[ 2020-03-05T12:10:46+08:00 ] 127.0.0.1 GET www.jfmblog.com/c/4.html
[ sql ] [ DB ] CONNECT:[ UseTime:0.014418s ] mysql:host=127.0.0.1;dbname=jfmblog;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_blog_category` [ RunTime:0.013417s ]
[ sql ] [ SQL ] SELECT * FROM `fa_blog_category` WHERE  `id` = 4 LIMIT 1 [ RunTime:0.000959s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_blog_post` [ RunTime:0.005012s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `fa_blog_post` WHERE  `status` = 'normal'  AND `category_id` = 4 LIMIT 1 [ RunTime:0.000951s ]
[ sql ] [ SQL ] SELECT * FROM `fa_blog_post` WHERE  `status` = 'normal'  AND `category_id` = 4 ORDER BY `weigh` DESC,`id` DESC LIMIT 0,10 [ RunTime:0.001032s ]
[ sql ] [ SQL ] SELECT * FROM `fa_blog_category` WHERE  `id` IN (3) [ RunTime:0.000796s ]
---------------------------------------------------------------
[ 2020-03-05T12:10:47+08:00 ] 127.0.0.1 GET www.jfmblog.com/c/3.html
[ sql ] [ DB ] CONNECT:[ UseTime:0.015183s ] mysql:host=127.0.0.1;dbname=jfmblog;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_blog_category` [ RunTime:0.005183s ]
[ sql ] [ SQL ] SELECT * FROM `fa_blog_category` WHERE  `id` = 3 LIMIT 1 [ RunTime:0.000876s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_blog_post` [ RunTime:0.005765s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `fa_blog_post` WHERE  `status` = 'normal'  AND `category_id` = 3 LIMIT 1 [ RunTime:0.000835s ]
[ sql ] [ SQL ] SELECT * FROM `fa_blog_post` WHERE  `status` = 'normal'  AND `category_id` = 3 ORDER BY `weigh` DESC,`id` DESC LIMIT 0,10 [ RunTime:0.000973s ]
[ sql ] [ SQL ] SELECT * FROM `fa_blog_category` WHERE  `id` IN (3) [ RunTime:0.000776s ]
[ sql ] [ SQL ] SELECT * FROM `fa_blog_category` WHERE  `id` IN (3) [ RunTime:0.000803s ]
---------------------------------------------------------------
[ 2020-03-05T12:10:49+08:00 ] 127.0.0.1 GET www.jfmblog.com/c/2.html
[ sql ] [ DB ] CONNECT:[ UseTime:0.013243s ] mysql:host=127.0.0.1;dbname=jfmblog;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_blog_category` [ RunTime:0.012488s ]
[ sql ] [ SQL ] SELECT * FROM `fa_blog_category` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.000856s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_blog_post` [ RunTime:0.006355s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `fa_blog_post` WHERE  `status` = 'normal'  AND `category_id` = 2 LIMIT 1 [ RunTime:0.000921s ]
[ sql ] [ SQL ] SELECT * FROM `fa_blog_post` WHERE  `status` = 'normal'  AND `category_id` = 2 ORDER BY `weigh` DESC,`id` DESC LIMIT 0,10 [ RunTime:0.001027s ]
[ sql ] [ SQL ] SELECT * FROM `fa_blog_category` WHERE  `id` IN (3) [ RunTime:0.000794s ]
---------------------------------------------------------------
[ 2020-03-05T12:10:51+08:00 ] 127.0.0.1 GET www.jfmblog.com/c/3.html
[ sql ] [ DB ] CONNECT:[ UseTime:0.017189s ] mysql:host=127.0.0.1;dbname=jfmblog;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_blog_category` [ RunTime:0.006442s ]
[ sql ] [ SQL ] SELECT * FROM `fa_blog_category` WHERE  `id` = 3 LIMIT 1 [ RunTime:0.000931s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_blog_post` [ RunTime:0.007994s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `fa_blog_post` WHERE  `status` = 'normal'  AND `category_id` = 3 LIMIT 1 [ RunTime:0.000944s ]
[ sql ] [ SQL ] SELECT * FROM `fa_blog_post` WHERE  `status` = 'normal'  AND `category_id` = 3 ORDER BY `weigh` DESC,`id` DESC LIMIT 0,10 [ RunTime:0.001061s ]
[ sql ] [ SQL ] SELECT * FROM `fa_blog_category` WHERE  `id` IN (3) [ RunTime:0.000851s ]
[ sql ] [ SQL ] SELECT * FROM `fa_blog_category` WHERE  `id` IN (3) [ RunTime:0.000791s ]
---------------------------------------------------------------
[ 2020-03-05T12:10:53+08:00 ] 127.0.0.1 GET www.jfmblog.com/c/2.html
[ sql ] [ DB ] CONNECT:[ UseTime:0.016431s ] mysql:host=127.0.0.1;dbname=jfmblog;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_blog_category` [ RunTime:0.013261s ]
[ sql ] [ SQL ] SELECT * FROM `fa_blog_category` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.000881s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_blog_post` [ RunTime:0.005696s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `fa_blog_post` WHERE  `status` = 'normal'  AND `category_id` = 2 LIMIT 1 [ RunTime:0.000917s ]
[ sql ] [ SQL ] SELECT * FROM `fa_blog_post` WHERE  `status` = 'normal'  AND `category_id` = 2 ORDER BY `weigh` DESC,`id` DESC LIMIT 0,10 [ RunTime:0.001030s ]
[ sql ] [ SQL ] SELECT * FROM `fa_blog_category` WHERE  `id` IN (3) [ RunTime:0.000931s ]
---------------------------------------------------------------
[ 2020-03-05T12:11:04+08:00 ] 127.0.0.1 GET www.jfmblog.com/admin/blog/post/edit/ids/7?dialog=1
[ sql ] [ DB ] CONNECT:[ UseTime:0.011868s ] mysql:host=127.0.0.1;dbname=jfmblog;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_auth_group_access` [ RunTime:0.011946s ]
[ sql ] [ SQL ] SELECT `aga`.`uid`,`aga`.`group_id`,`ag`.`id`,`ag`.`pid`,`ag`.`name`,`ag`.`rules` FROM `fa_auth_group_access` `aga` LEFT JOIN `fa_auth_group` `ag` ON `aga`.`group_id`=`ag`.`id` WHERE  (  aga.uid='1' and ag.status='normal' ) [ RunTime:0.000806s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_auth_rule` [ RunTime:0.005054s ]
[ sql ] [ SQL ] SELECT `id`,`pid`,`condition`,`icon`,`name`,`title`,`ismenu` FROM `fa_auth_rule` WHERE  `status` = 'normal' [ RunTime:0.001283s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_blog_category` [ RunTime:0.005908s ]
[ sql ] [ SQL ] SELECT * FROM `fa_blog_category` ORDER BY `weigh` DESC,`id` DESC [ RunTime:0.000780s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_blog_post` [ RunTime:0.006272s ]
[ sql ] [ SQL ] SELECT * FROM `fa_blog_post` WHERE  `id` = 7 LIMIT 1 [ RunTime:0.000905s ]
---------------------------------------------------------------
[ 2020-03-05T12:11:14+08:00 ] 127.0.0.1 POST www.jfmblog.com/admin/ajax/upload
[ sql ] [ DB ] CONNECT:[ UseTime:0.011744s ] mysql:host=127.0.0.1;dbname=jfmblog;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_attachment` [ RunTime:0.038744s ]
[ sql ] [ SQL ] SELECT * FROM `fa_attachment` WHERE  `url` = '/uploads/20200305/2439d323649651ddbe1438488ee0785f.jpg' LIMIT 1 [ RunTime:0.000925s ]
[ sql ] [ SQL ] INSERT INTO `fa_attachment` (`admin_id` , `filesize` , `imagewidth` , `imageheight` , `imagetype` , `mimetype` , `url` , `uploadtime` , `storage` , `sha1` , `extparam` , `createtime` , `updatetime`) VALUES (1 , 28153 , '1316' , '676' , 'jpg' , 'image/jpeg' , '/uploads/20200305/2439d323649651ddbe1438488ee0785f.jpg' , 1583381474 , 'local' , '817816071fc5d1ba6ec9fe27edc532c21e1a7f15' , '{\"name\":\"timg.jpg\"}' , 1583381474 , 1583381474) [ RunTime:0.037613s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_admin_log` [ RunTime:0.005256s ]
[ sql ] [ SQL ] INSERT INTO `fa_admin_log` (`title` , `content` , `url` , `admin_id` , `username` , `useragent` , `ip` , `createtime`) VALUES ('' , '{\"name\":\"timg.jpg\"}' , '/admin/ajax/upload' , 1 , 'admin' , 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/80.0.3970.5 Safari/537.36' , '127.0.0.1' , 1583381474) [ RunTime:0.043184s ]
---------------------------------------------------------------
[ 2020-03-05T12:11:17+08:00 ] 127.0.0.1 POST www.jfmblog.com/admin/blog/post/edit/ids/7?dialog=1
[ sql ] [ DB ] CONNECT:[ UseTime:0.002688s ] mysql:host=127.0.0.1;dbname=jfmblog;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_auth_group_access` [ RunTime:0.004979s ]
[ sql ] [ SQL ] SELECT `aga`.`uid`,`aga`.`group_id`,`ag`.`id`,`ag`.`pid`,`ag`.`name`,`ag`.`rules` FROM `fa_auth_group_access` `aga` LEFT JOIN `fa_auth_group` `ag` ON `aga`.`group_id`=`ag`.`id` WHERE  (  aga.uid='1' and ag.status='normal' ) [ RunTime:0.000746s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_auth_rule` [ RunTime:0.005490s ]
[ sql ] [ SQL ] SELECT `id`,`pid`,`condition`,`icon`,`name`,`title`,`ismenu` FROM `fa_auth_rule` WHERE  `status` = 'normal' [ RunTime:0.001169s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_blog_category` [ RunTime:0.005338s ]
[ sql ] [ SQL ] SELECT * FROM `fa_blog_category` ORDER BY `weigh` DESC,`id` DESC [ RunTime:0.000814s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_blog_post` [ RunTime:0.005566s ]
[ sql ] [ SQL ] SELECT * FROM `fa_blog_post` WHERE  `id` = 7 LIMIT 1 [ RunTime:0.000947s ]
[ sql ] [ SQL ] UPDATE `fa_blog_post`  SET `content`='<pre><code><span style=\"color:#c792ea;font-style:italic;\">import </span>requests<br><span style=\"color:#c792ea;font-style:italic;\">import </span>time<br><br><br><span style=\"color:#c792ea;font-style:italic;\">class </span><span style=\"color:#ffcb6b;\">TiebaSpider</span><span style=\"color:#89ddff;\">:<br></span><span style=\"color:#89ddff;\">    </span><span style=\"color:#c792ea;font-style:italic;\">def </span><span style=\"color:#82aaff;font-style:italic;\">__init__</span><span style=\"color:#89ddff;\">(</span><span style=\"color:#c792ea;font-style:italic;\">self</span><span style=\"color:#89ddff;\">, </span><span style=\"color:#f78c6c;\">name</span><span style=\"color:#89ddff;\">):<br></span><span style=\"color:#89ddff;\">        </span><span style=\"color:#c792ea;font-style:italic;\">self</span><span style=\"color:#89ddff;\">.</span>name <span style=\"color:#89ddff;\">= </span><span style=\"color:#f78c6c;\">name<br></span><span style=\"color:#f78c6c;\">        </span><span style=\"color:#c792ea;font-style:italic;\">self</span><span style=\"color:#89ddff;\">.</span>url <span style=\"color:#89ddff;\">= </span><span style=\"color:#c3e88d;\">\"https://tieba.baidu.com/f?kw=\"</span><span style=\"color:#89ddff;\">+</span><span style=\"color:#f78c6c;\">name</span><span style=\"color:#89ddff;\">+</span><span style=\"color:#c3e88d;\">\"&ie=utf-8&pn={}\"<br></span><span style=\"color:#c3e88d;\">        </span><span style=\"color:#c792ea;font-style:italic;\">self</span><span style=\"color:#89ddff;\">.</span>headers <span style=\"color:#89ddff;\">= {</span><span style=\"color:#c3e88d;\">\"User-Agent\"</span><span style=\"color:#89ddff;\">: </span><span style=\"color:#c3e88d;\">\"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36\"<br></span><span style=\"color:#c3e88d;\">                                      \" (KHTML, like Gecko) Chrome/80.0.3970.5 Safari/537.36\"</span><span style=\"color:#89ddff;\">}<br></span><span style=\"color:#89ddff;\"><br></span><span style=\"color:#89ddff;\">    </span><span style=\"color:#c792ea;font-style:italic;\">def </span><span style=\"color:#82aaff;\">get_url_list</span><span style=\"color:#89ddff;\">(</span><span style=\"color:#c792ea;font-style:italic;\">self</span><span style=\"color:#89ddff;\">):<br></span><span style=\"color:#89ddff;\">        </span><span style=\"color:#546e7a;font-style:italic;\">\'\'\'</span><span style=\"color:#546e7a;font-style:italic;font-family:\'宋体\';\">构造</span><span style=\"color:#546e7a;font-style:italic;\">url</span><span style=\"color:#546e7a;font-style:italic;font-family:\'宋体\';\">列表</span><span style=\"color:#546e7a;font-style:italic;\">\'\'\'<br></span><span style=\"color:#546e7a;font-style:italic;\">        </span>url_list <span style=\"color:#89ddff;\">= []<br></span><span style=\"color:#89ddff;\">        </span><span style=\"color:#c792ea;font-style:italic;\">for </span>i <span style=\"color:#c792ea;font-style:italic;\">in </span><span style=\"color:#82aaff;\">range</span><span style=\"color:#89ddff;\">(</span><span style=\"color:#f78c6c;\">1000</span><span style=\"color:#89ddff;\">):<br></span><span style=\"color:#89ddff;\">            </span>url_list<span style=\"color:#89ddff;\">.</span><span style=\"color:#82aaff;\">append</span><span style=\"color:#89ddff;\">(</span><span style=\"color:#c792ea;font-style:italic;\">self</span><span style=\"color:#89ddff;\">.</span>url<span style=\"color:#89ddff;\">.</span><span style=\"color:#82aaff;\">format</span><span style=\"color:#89ddff;\">(</span>i <span style=\"color:#89ddff;\">* </span><span style=\"color:#f78c6c;\">50</span><span style=\"color:#89ddff;\">))<br></span><span style=\"color:#89ddff;\">        </span><span style=\"color:#c792ea;font-style:italic;\">return </span>url_list<br><br>    <span style=\"color:#c792ea;font-style:italic;\">def </span><span style=\"color:#82aaff;\">parse_url</span><span style=\"color:#89ddff;\">(</span><span style=\"color:#c792ea;font-style:italic;\">self</span><span style=\"color:#89ddff;\">, </span><span style=\"color:#f78c6c;\">url</span><span style=\"color:#89ddff;\">):<br></span><span style=\"color:#89ddff;\">        </span><span style=\"color:#546e7a;font-style:italic;\">\'\'\'</span><span style=\"color:#546e7a;font-style:italic;font-family:\'宋体\';\">解析</span><span style=\"color:#546e7a;font-style:italic;\">url\'\'\'<br></span><span style=\"color:#546e7a;font-style:italic;\">        </span>response <span style=\"color:#89ddff;\">= </span>requests<span style=\"color:#89ddff;\">.</span><span style=\"color:#82aaff;\">get</span><span style=\"color:#89ddff;\">(</span><span style=\"color:#f78c6c;\">url</span><span style=\"color:#89ddff;\">, </span><span style=\"color:#f78c6c;\">headers</span><span style=\"color:#89ddff;\">=</span><span style=\"color:#c792ea;font-style:italic;\">self</span><span style=\"color:#89ddff;\">.</span>headers<span style=\"color:#89ddff;\">)<br></span><span style=\"color:#89ddff;\">        </span><span style=\"color:#c792ea;font-style:italic;\">return </span>response<span style=\"color:#89ddff;\">.</span>content<span style=\"color:#89ddff;\">.</span><span style=\"color:#82aaff;\">decode</span><span style=\"color:#89ddff;\">()<br></span><span style=\"color:#89ddff;\"><br></span><span style=\"color:#89ddff;\">    </span><span style=\"color:#c792ea;font-style:italic;\">def </span><span style=\"color:#82aaff;\">save_html</span><span style=\"color:#89ddff;\">(</span><span style=\"color:#c792ea;font-style:italic;\">self</span><span style=\"color:#89ddff;\">, </span><span style=\"color:#f78c6c;\">html_str</span><span style=\"color:#89ddff;\">, </span><span style=\"color:#f78c6c;\">page_num</span><span style=\"color:#89ddff;\">):<br></span><span style=\"color:#89ddff;\">        </span>file_path <span style=\"color:#89ddff;\">= </span><span style=\"color:#c3e88d;\">\"{}--</span><span style=\"color:#c3e88d;font-family:\'宋体\';\">第</span><span style=\"color:#c3e88d;\">{}</span><span style=\"color:#c3e88d;font-family:\'宋体\';\">页</span><span style=\"color:#c3e88d;\">.html\"</span><span style=\"color:#89ddff;\">.</span><span style=\"color:#82aaff;\">format</span><span style=\"color:#89ddff;\">(</span><span style=\"color:#c792ea;font-style:italic;\">self</span><span style=\"color:#89ddff;\">.</span>name<span style=\"color:#89ddff;\">, </span><span style=\"color:#f78c6c;\">page_num</span><span style=\"color:#89ddff;\">)<br></span><span style=\"color:#89ddff;\">        </span><span style=\"color:#c792ea;font-style:italic;\">with </span><span style=\"color:#82aaff;\">open</span><span style=\"color:#89ddff;\">(</span>file_path<span style=\"color:#89ddff;\">, </span><span style=\"color:#c3e88d;\">\"w\"</span><span style=\"color:#89ddff;\">, </span><span style=\"color:#f78c6c;\">encoding</span><span style=\"color:#89ddff;\">=</span><span style=\"color:#c3e88d;\">\"utf-8\"</span><span style=\"color:#89ddff;\">) </span><span style=\"color:#c792ea;font-style:italic;\">as </span>f<span style=\"color:#89ddff;\">:<br></span><span style=\"color:#89ddff;\">            </span>f<span style=\"color:#89ddff;\">.</span><span style=\"color:#82aaff;\">write</span><span style=\"color:#89ddff;\">(</span><span style=\"color:#f78c6c;\">html_str</span><span style=\"color:#89ddff;\">)<br></span><span style=\"color:#89ddff;\"><br></span><span style=\"color:#89ddff;\">    </span><span style=\"color:#c792ea;font-style:italic;\">def </span><span style=\"color:#82aaff;\">run</span><span style=\"color:#89ddff;\">(</span><span style=\"color:#c792ea;font-style:italic;\">self</span><span style=\"color:#89ddff;\">):<br></span><span style=\"color:#89ddff;\">        </span><span style=\"color:#546e7a;font-style:italic;\"># 1.</span><span style=\"color:#546e7a;font-style:italic;font-family:\'宋体\';\">构造</span><span style=\"color:#546e7a;font-style:italic;\">url</span><span style=\"color:#546e7a;font-style:italic;font-family:\'宋体\';\">列表<br></span><span style=\"color:#546e7a;font-style:italic;font-family:\'宋体\';\">        </span>url_list <span style=\"color:#89ddff;\">= </span><span style=\"color:#c792ea;font-style:italic;\">self</span><span style=\"color:#89ddff;\">.</span><span style=\"color:#82aaff;\">get_url_list</span><span style=\"color:#89ddff;\">()<br></span><span style=\"color:#89ddff;\">        </span><span style=\"color:#546e7a;font-style:italic;\"># 2.</span><span style=\"color:#546e7a;font-style:italic;font-family:\'宋体\';\">遍历，发送请求，获取相应<br></span><span style=\"color:#546e7a;font-style:italic;font-family:\'宋体\';\">        </span><span style=\"color:#c792ea;font-style:italic;\">for </span>url <span style=\"color:#c792ea;font-style:italic;\">in </span>url_list<span style=\"color:#89ddff;\">:<br></span><span style=\"color:#89ddff;\">            </span>html_str <span style=\"color:#89ddff;\">= </span><span style=\"color:#c792ea;font-style:italic;\">self</span><span style=\"color:#89ddff;\">.</span><span style=\"color:#82aaff;\">parse_url</span><span style=\"color:#89ddff;\">(</span>url<span style=\"color:#89ddff;\">)<br></span><span style=\"color:#89ddff;\">            </span><span style=\"color:#546e7a;font-style:italic;\"># 3.</span><span style=\"color:#546e7a;font-style:italic;font-family:\'宋体\';\">保存<br></span><span style=\"color:#546e7a;font-style:italic;font-family:\'宋体\';\">            </span>page_num <span style=\"color:#89ddff;\">= </span>url_list<span style=\"color:#89ddff;\">.</span><span style=\"color:#82aaff;\">index</span><span style=\"color:#89ddff;\">(</span>url<span style=\"color:#89ddff;\">) + </span><span style=\"color:#f78c6c;\">1<br></span><span style=\"color:#f78c6c;\">            </span><span style=\"color:#c792ea;font-style:italic;\">self</span><span style=\"color:#89ddff;\">.</span><span style=\"color:#82aaff;\">save_html</span><span style=\"color:#89ddff;\">(</span>html_str<span style=\"color:#89ddff;\">, </span>page_num<span style=\"color:#89ddff;\">)<br></span><span style=\"color:#89ddff;\">            </span>time<span style=\"color:#89ddff;\">.</span><span style=\"color:#82aaff;\">sleep</span><span style=\"color:#89ddff;\">(</span><span style=\"color:#f78c6c;\">10</span><span style=\"color:#89ddff;\">)<br></span><span style=\"color:#89ddff;\"><br></span><span style=\"color:#89ddff;\"><br></span><span style=\"color:#c792ea;font-style:italic;\">if </span>__name__ <span style=\"color:#89ddff;\">== </span><span style=\"color:#c3e88d;\">\'__main__\'</span><span style=\"color:#89ddff;\">:<br></span><span style=\"color:#89ddff;\">    </span>tieba <span style=\"color:#89ddff;\">= </span><span style=\"color:#82aaff;\">TiebaSpider</span><span style=\"color:#89ddff;\">(</span><span style=\"color:#c3e88d;\">\"</span><span style=\"color:#c3e88d;font-family:\'宋体\';\">吴亦凡</span><span style=\"color:#c3e88d;\">\"</span><span style=\"color:#89ddff;\">)<br></span><span style=\"color:#89ddff;\">    </span>tieba<span style=\"color:#89ddff;\">.</span><span style=\"color:#82aaff;\">run</span><span style=\"color:#89ddff;\">()<br></span></code></pre>',`image`='/uploads/20200305/2439d323649651ddbe1438488ee0785f.jpg',`comments`=0,`updatetime`=1583381477  WHERE  `id` = 7 [ RunTime:0.001712s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_admin_log` [ RunTime:0.004889s ]
[ sql ] [ SQL ] INSERT INTO `fa_admin_log` (`title` , `content` , `url` , `admin_id` , `username` , `useragent` , `ip` , `createtime`) VALUES ('博客管理 日志管理 修改' , '{\"dialog\":\"1\",\"row\":{\"category_id\":\"3\",\"flag\":[\"hot\"],\"title\":\"\\u901a\\u7528\\u722c\\u866b\",\"summary\":\"\\u901a\\u7528\\u722c\\u866b\",\"content\":\"import requestsimport timeclass TiebaSpider:    def __init__(self, name):        self.name = name        self.url = &quot;https:\\/\\/tieba.baidu.com\\/f?kw=&quot;+name+&quot;&amp;ie=utf-8&amp;pn={}&quot;        self.headers = {&quot;User-Agent&quot;: &quot;Mozilla\\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\\/537.36&quot;                                      &quot; (KHTML, like Gecko) Chrome\\/80.0.3970.5 Safari\\/537.36&quot;}    def get_url_list(self):        \'\'\'\\u6784\\u9020url\\u5217\\u8868\'\'\'        url_list = []        for i in range(1000):            url_list.append(self.url.format(i * 50))        return url_list    def parse_url(self, url):        \'\'\'\\u89e3\\u6790url\'\'\'        response = requests.get(url, headers=self.headers)        return response.content.decode()    def save_html(self, html_str, page_num):        file_path = &quot;{}--\\u7b2c{}\\u9875.html&quot;.format(self.name, page_num)        with open(file_path, &quot;w&quot;, encoding=&quot;utf-8&quot;) as f:            f.write(html_str)    def run(self):        # 1.\\u6784\\u9020url\\u5217\\u8868        url_list = self.get_url_list()        # 2.\\u904d\\u5386\\uff0c\\u53d1\\u9001\\u8bf7\\u6c42\\uff0c\\u83b7\\u53d6\\u76f8\\u5e94        for url in url_list:            html_str = self.parse_url(url)            # 3.\\u4fdd\\u5b58            page_num = url_list.index(url) + 1            self.save_html(html_str, page_num)            time.sleep(10)if __name__ == \'__main__\':    tieba = TiebaSpider(&quot;\\u5434\\u4ea6\\u51e1&quot;)    tieba.run()\",\"thumb\":\"\",\"image\":\"\\/uploads\\/20200305\\/2439d323649651ddbe1438488ee0785f.jpg\",\"keywords\":\"\",\"description\":\"\",\"views\":\"17\",\"comments\":\"0\",\"weigh\":\"7\",\"status\":\"normal\"},\"ids\":\"7\"}' , '/admin/blog/post/edit/ids/7?dialog=1' , 1 , 'admin' , 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/80.0.3970.5 Safari/537.36' , '127.0.0.1' , 1583381477) [ RunTime:0.038487s ]
---------------------------------------------------------------
[ 2020-03-05T12:11:17+08:00 ] 127.0.0.1 GET www.jfmblog.com/admin/blog/post/index?sort=weigh&order=desc&offset=0&limit=10&filter=%7B%7D&op=%7B%7D&_=1583381103800
[ sql ] [ DB ] CONNECT:[ UseTime:0.002695s ] mysql:host=127.0.0.1;dbname=jfmblog;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_auth_group_access` [ RunTime:0.005010s ]
[ sql ] [ SQL ] SELECT `aga`.`uid`,`aga`.`group_id`,`ag`.`id`,`ag`.`pid`,`ag`.`name`,`ag`.`rules` FROM `fa_auth_group_access` `aga` LEFT JOIN `fa_auth_group` `ag` ON `aga`.`group_id`=`ag`.`id` WHERE  (  aga.uid='1' and ag.status='normal' ) [ RunTime:0.001063s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_auth_rule` [ RunTime:0.005051s ]
[ sql ] [ SQL ] SELECT `id`,`pid`,`condition`,`icon`,`name`,`title`,`ismenu` FROM `fa_auth_rule` WHERE  `status` = 'normal' [ RunTime:0.001232s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_blog_category` [ RunTime:0.005001s ]
[ sql ] [ SQL ] SELECT * FROM `fa_blog_category` ORDER BY `weigh` DESC,`id` DESC [ RunTime:0.000929s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_blog_post` [ RunTime:0.005081s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `fa_blog_post` `blog_post` LEFT JOIN `fa_blog_category` `category` ON `blog_post`.`category_id`=`category`.`id` ORDER BY `blog_post`.`weigh` DESC LIMIT 1 [ RunTime:0.000787s ]
[ sql ] [ SQL ] SELECT `blog_post`.`id`,`blog_post`.`category_id`,`blog_post`.`flag`,`blog_post`.`title`,`blog_post`.`summary`,`blog_post`.`content`,`blog_post`.`thumb`,`blog_post`.`image`,`blog_post`.`keywords`,`blog_post`.`description`,`blog_post`.`views`,`blog_post`.`comments`,`blog_post`.`createtime`,`blog_post`.`updatetime`,`blog_post`.`weigh`,`blog_post`.`status`,category.id AS category__id,category.pid AS category__pid,category.name AS category__name,category.nickname AS category__nickname,category.flag AS category__flag,category.image AS category__image,category.keywords AS category__keywords,category.description AS category__description,category.diyname AS category__diyname,category.createtime AS category__createtime,category.updatetime AS category__updatetime,category.weigh AS category__weigh,category.status AS category__status FROM `fa_blog_post` `blog_post` LEFT JOIN `fa_blog_category` `category` ON `blog_post`.`category_id`=`category`.`id` ORDER BY `blog_post`.`weigh` DESC LIMIT 0,10 [ RunTime:0.000950s ]
---------------------------------------------------------------
[ 2020-03-05T12:11:20+08:00 ] 127.0.0.1 GET www.jfmblog.com/c/3.html
[ sql ] [ DB ] CONNECT:[ UseTime:0.003082s ] mysql:host=127.0.0.1;dbname=jfmblog;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_blog_category` [ RunTime:0.012502s ]
[ sql ] [ SQL ] SELECT * FROM `fa_blog_category` WHERE  `status` = 'normal' ORDER BY `weigh` DESC,`id` DESC [ RunTime:0.000975s ]
[ sql ] [ SQL ] SELECT * FROM `fa_blog_category` WHERE  `id` = 3 LIMIT 1 [ RunTime:0.000898s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_blog_post` [ RunTime:0.005048s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `fa_blog_post` WHERE  `status` = 'normal'  AND `category_id` = 3 LIMIT 1 [ RunTime:0.000973s ]
[ sql ] [ SQL ] SELECT * FROM `fa_blog_post` WHERE  `status` = 'normal'  AND `category_id` = 3 ORDER BY `weigh` DESC,`id` DESC LIMIT 0,10 [ RunTime:0.000940s ]
[ sql ] [ SQL ] SELECT * FROM `fa_blog_category` WHERE  `id` IN (3) [ RunTime:0.000900s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_blog_block` [ RunTime:0.005167s ]
[ sql ] [ SQL ] SELECT * FROM `fa_blog_block` WHERE  `name` = 'sidebarad1'  AND `status` = 'normal' LIMIT 1 [ RunTime:0.000996s ]
[ sql ] [ SQL ] SELECT * FROM `fa_blog_block` WHERE  `name` = 'sidebarad2'  AND `status` = 'normal' LIMIT 1 [ RunTime:0.000978s ]
[ sql ] [ SQL ] SELECT * FROM `fa_blog_post` WHERE  `status` = 'normal' ORDER BY `createtime` DESC LIMIT 10 [ RunTime:0.000832s ]
[ sql ] [ SQL ] SELECT * FROM `fa_blog_category` WHERE  `id` IN (3) [ RunTime:0.000806s ]
[ sql ] [ SQL ] SELECT * FROM `fa_blog_post` WHERE  `status` = 'normal'  AND (  (FIND_IN_SET('recommend', flag)) ) ORDER BY `createtime` DESC LIMIT 10 [ RunTime:0.000813s ]
---------------------------------------------------------------
[ 2020-03-05T12:11:22+08:00 ] 127.0.0.1 GET www.jfmblog.com/c/3.html
[ sql ] [ DB ] CONNECT:[ UseTime:0.011924s ] mysql:host=127.0.0.1;dbname=jfmblog;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_blog_category` [ RunTime:0.005050s ]
[ sql ] [ SQL ] SELECT * FROM `fa_blog_category` WHERE  `id` = 3 LIMIT 1 [ RunTime:0.000905s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_blog_post` [ RunTime:0.005338s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `fa_blog_post` WHERE  `status` = 'normal'  AND `category_id` = 3 LIMIT 1 [ RunTime:0.001045s ]
[ sql ] [ SQL ] SELECT * FROM `fa_blog_post` WHERE  `status` = 'normal'  AND `category_id` = 3 ORDER BY `weigh` DESC,`id` DESC LIMIT 0,10 [ RunTime:0.001022s ]
[ sql ] [ SQL ] SELECT * FROM `fa_blog_category` WHERE  `id` IN (3) [ RunTime:0.000882s ]
[ sql ] [ SQL ] SELECT * FROM `fa_blog_category` WHERE  `id` IN (3) [ RunTime:0.000793s ]
---------------------------------------------------------------
[ 2020-03-05T12:11:23+08:00 ] 127.0.0.1 GET www.jfmblog.com/c/3.html
[ sql ] [ DB ] CONNECT:[ UseTime:0.011831s ] mysql:host=127.0.0.1;dbname=jfmblog;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_blog_category` [ RunTime:0.005063s ]
[ sql ] [ SQL ] SELECT * FROM `fa_blog_category` WHERE  `id` = 3 LIMIT 1 [ RunTime:0.000957s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_blog_post` [ RunTime:0.005101s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `fa_blog_post` WHERE  `status` = 'normal'  AND `category_id` = 3 LIMIT 1 [ RunTime:0.001007s ]
[ sql ] [ SQL ] SELECT * FROM `fa_blog_post` WHERE  `status` = 'normal'  AND `category_id` = 3 ORDER BY `weigh` DESC,`id` DESC LIMIT 0,10 [ RunTime:0.001057s ]
[ sql ] [ SQL ] SELECT * FROM `fa_blog_category` WHERE  `id` IN (3) [ RunTime:0.000887s ]
[ sql ] [ SQL ] SELECT * FROM `fa_blog_category` WHERE  `id` IN (3) [ RunTime:0.000796s ]
---------------------------------------------------------------
[ 2020-03-05T12:11:24+08:00 ] 127.0.0.1 GET www.jfmblog.com/c/3.html
[ sql ] [ DB ] CONNECT:[ UseTime:0.012410s ] mysql:host=127.0.0.1;dbname=jfmblog;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_blog_category` [ RunTime:0.005038s ]
[ sql ] [ SQL ] SELECT * FROM `fa_blog_category` WHERE  `id` = 3 LIMIT 1 [ RunTime:0.000954s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_blog_post` [ RunTime:0.005177s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `fa_blog_post` WHERE  `status` = 'normal'  AND `category_id` = 3 LIMIT 1 [ RunTime:0.000958s ]
[ sql ] [ SQL ] SELECT * FROM `fa_blog_post` WHERE  `status` = 'normal'  AND `category_id` = 3 ORDER BY `weigh` DESC,`id` DESC LIMIT 0,10 [ RunTime:0.001021s ]
[ sql ] [ SQL ] SELECT * FROM `fa_blog_category` WHERE  `id` IN (3) [ RunTime:0.000827s ]
[ sql ] [ SQL ] SELECT * FROM `fa_blog_category` WHERE  `id` IN (3) [ RunTime:0.000875s ]
---------------------------------------------------------------
[ 2020-03-05T12:11:25+08:00 ] 127.0.0.1 GET www.jfmblog.com/c/3.html
[ sql ] [ DB ] CONNECT:[ UseTime:0.011730s ] mysql:host=127.0.0.1;dbname=jfmblog;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_blog_category` [ RunTime:0.012246s ]
[ sql ] [ SQL ] SELECT * FROM `fa_blog_category` WHERE  `id` = 3 LIMIT 1 [ RunTime:0.000925s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_blog_post` [ RunTime:0.005081s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `fa_blog_post` WHERE  `status` = 'normal'  AND `category_id` = 3 LIMIT 1 [ RunTime:0.000997s ]
[ sql ] [ SQL ] SELECT * FROM `fa_blog_post` WHERE  `status` = 'normal'  AND `category_id` = 3 ORDER BY `weigh` DESC,`id` DESC LIMIT 0,10 [ RunTime:0.001029s ]
[ sql ] [ SQL ] SELECT * FROM `fa_blog_category` WHERE  `id` IN (3) [ RunTime:0.000788s ]
[ sql ] [ SQL ] SELECT * FROM `fa_blog_category` WHERE  `id` IN (3) [ RunTime:0.000797s ]
---------------------------------------------------------------
[ 2020-03-05T12:11:33+08:00 ] 127.0.0.1 GET www.jfmblog.com/c/3.html
[ sql ] [ DB ] CONNECT:[ UseTime:0.011959s ] mysql:host=127.0.0.1;dbname=jfmblog;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_blog_category` [ RunTime:0.012347s ]
[ sql ] [ SQL ] SELECT * FROM `fa_blog_category` WHERE  `status` = 'normal' ORDER BY `weigh` DESC,`id` DESC [ RunTime:0.000956s ]
[ sql ] [ SQL ] SELECT * FROM `fa_blog_category` WHERE  `id` = 3 LIMIT 1 [ RunTime:0.000924s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_blog_post` [ RunTime:0.005222s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `fa_blog_post` WHERE  `status` = 'normal'  AND `category_id` = 3 LIMIT 1 [ RunTime:0.000884s ]
[ sql ] [ SQL ] SELECT * FROM `fa_blog_post` WHERE  `status` = 'normal'  AND `category_id` = 3 ORDER BY `weigh` DESC,`id` DESC LIMIT 0,10 [ RunTime:0.000897s ]
[ sql ] [ SQL ] SELECT * FROM `fa_blog_category` WHERE  `id` IN (3) [ RunTime:0.000776s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_blog_block` [ RunTime:0.005287s ]
[ sql ] [ SQL ] SELECT * FROM `fa_blog_block` WHERE  `name` = 'sidebarad1'  AND `status` = 'normal' LIMIT 1 [ RunTime:0.000852s ]
[ sql ] [ SQL ] SELECT * FROM `fa_blog_block` WHERE  `name` = 'sidebarad2'  AND `status` = 'normal' LIMIT 1 [ RunTime:0.000916s ]
[ sql ] [ SQL ] SELECT * FROM `fa_blog_post` WHERE  `status` = 'normal' ORDER BY `createtime` DESC LIMIT 10 [ RunTime:0.000856s ]
[ sql ] [ SQL ] SELECT * FROM `fa_blog_category` WHERE  `id` IN (3) [ RunTime:0.000797s ]
[ sql ] [ SQL ] SELECT * FROM `fa_blog_post` WHERE  `status` = 'normal'  AND (  (FIND_IN_SET('recommend', flag)) ) ORDER BY `createtime` DESC LIMIT 10 [ RunTime:0.000812s ]
---------------------------------------------------------------
[ 2020-03-05T12:11:34+08:00 ] 127.0.0.1 GET www.jfmblog.com/p/7.html
[ sql ] [ DB ] CONNECT:[ UseTime:0.011769s ] mysql:host=127.0.0.1;dbname=jfmblog;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_blog_post` [ RunTime:0.012316s ]
[ sql ] [ SQL ] SELECT * FROM `fa_blog_post` WHERE  `id` = 7 LIMIT 1 [ RunTime:0.000841s ]
[ sql ] [ SQL ] UPDATE `fa_blog_post`  SET `views`=`views`+1  WHERE  `id` = 7 [ RunTime:0.092279s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_blog_category` [ RunTime:0.012083s ]
[ sql ] [ SQL ] SELECT * FROM `fa_blog_category` WHERE  `id` = 3 LIMIT 1 [ RunTime:0.000828s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_blog_comment` [ RunTime:0.005041s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `fa_blog_comment` WHERE  `post_id` = 7  AND `pid` = 0  AND `status` = 'normal' LIMIT 1 [ RunTime:0.001042s ]
[ sql ] [ SQL ] SELECT * FROM `fa_blog_comment` WHERE  `post_id` = 7  AND `pid` = 0  AND `status` = 'normal' ORDER BY `id` DESC LIMIT 0,10 [ RunTime:0.000984s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_blog_block` [ RunTime:0.004949s ]
[ sql ] [ SQL ] SELECT * FROM `fa_blog_post` WHERE  `status` = 'normal' ORDER BY `createtime` DESC LIMIT 3 [ RunTime:0.000843s ]
[ sql ] [ SQL ] SELECT * FROM `fa_blog_category` WHERE  `id` IN (3) [ RunTime:0.000776s ]
[ sql ] [ SQL ] SELECT * FROM `fa_blog_category` WHERE  `id` IN (3) [ RunTime:0.000795s ]
---------------------------------------------------------------
[ 2020-03-05T12:11:50+08:00 ] 127.0.0.1 GET www.jfmblog.com/admin/blog/post/edit/ids/7?dialog=1
[ sql ] [ DB ] CONNECT:[ UseTime:0.011622s ] mysql:host=127.0.0.1;dbname=jfmblog;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_auth_group_access` [ RunTime:0.012221s ]
[ sql ] [ SQL ] SELECT `aga`.`uid`,`aga`.`group_id`,`ag`.`id`,`ag`.`pid`,`ag`.`name`,`ag`.`rules` FROM `fa_auth_group_access` `aga` LEFT JOIN `fa_auth_group` `ag` ON `aga`.`group_id`=`ag`.`id` WHERE  (  aga.uid='1' and ag.status='normal' ) [ RunTime:0.001029s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_auth_rule` [ RunTime:0.005277s ]
[ sql ] [ SQL ] SELECT `id`,`pid`,`condition`,`icon`,`name`,`title`,`ismenu` FROM `fa_auth_rule` WHERE  `status` = 'normal' [ RunTime:0.001227s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_blog_category` [ RunTime:0.005432s ]
[ sql ] [ SQL ] SELECT * FROM `fa_blog_category` ORDER BY `weigh` DESC,`id` DESC [ RunTime:0.000926s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_blog_post` [ RunTime:0.005749s ]
[ sql ] [ SQL ] SELECT * FROM `fa_blog_post` WHERE  `id` = 7 LIMIT 1 [ RunTime:0.000857s ]
---------------------------------------------------------------
[ 2020-03-05T12:11:55+08:00 ] 127.0.0.1 POST www.jfmblog.com/admin/ajax/upload
[ sql ] [ DB ] CONNECT:[ UseTime:0.011743s ] mysql:host=127.0.0.1;dbname=jfmblog;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_attachment` [ RunTime:0.005097s ]
[ sql ] [ SQL ] SELECT * FROM `fa_attachment` WHERE  `url` = '/uploads/20200305/2439d323649651ddbe1438488ee0785f.jpg' LIMIT 1 [ RunTime:0.000987s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_admin_log` [ RunTime:0.005170s ]
[ sql ] [ SQL ] INSERT INTO `fa_admin_log` (`title` , `content` , `url` , `admin_id` , `username` , `useragent` , `ip` , `createtime`) VALUES ('' , '{\"name\":\"timg.jpg\"}' , '/admin/ajax/upload' , 1 , 'admin' , 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/80.0.3970.5 Safari/537.36' , '127.0.0.1' , 1583381515) [ RunTime:0.160603s ]
---------------------------------------------------------------
[ 2020-03-05T12:11:57+08:00 ] 127.0.0.1 POST www.jfmblog.com/admin/blog/post/edit/ids/7?dialog=1
[ sql ] [ DB ] CONNECT:[ UseTime:0.012267s ] mysql:host=127.0.0.1;dbname=jfmblog;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_auth_group_access` [ RunTime:0.005040s ]
[ sql ] [ SQL ] SELECT `aga`.`uid`,`aga`.`group_id`,`ag`.`id`,`ag`.`pid`,`ag`.`name`,`ag`.`rules` FROM `fa_auth_group_access` `aga` LEFT JOIN `fa_auth_group` `ag` ON `aga`.`group_id`=`ag`.`id` WHERE  (  aga.uid='1' and ag.status='normal' ) [ RunTime:0.000854s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_auth_rule` [ RunTime:0.005068s ]
[ sql ] [ SQL ] SELECT `id`,`pid`,`condition`,`icon`,`name`,`title`,`ismenu` FROM `fa_auth_rule` WHERE  `status` = 'normal' [ RunTime:0.001171s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_blog_category` [ RunTime:0.005252s ]
[ sql ] [ SQL ] SELECT * FROM `fa_blog_category` ORDER BY `weigh` DESC,`id` DESC [ RunTime:0.000821s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_blog_post` [ RunTime:0.005130s ]
[ sql ] [ SQL ] SELECT * FROM `fa_blog_post` WHERE  `id` = 7 LIMIT 1 [ RunTime:0.000843s ]
[ sql ] [ SQL ] UPDATE `fa_blog_post`  SET `thumb`='/uploads/20200305/2439d323649651ddbe1438488ee0785f.jpg',`comments`=0,`updatetime`=1583381517  WHERE  `id` = 7 [ RunTime:0.001067s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_admin_log` [ RunTime:0.005232s ]
[ sql ] [ SQL ] INSERT INTO `fa_admin_log` (`title` , `content` , `url` , `admin_id` , `username` , `useragent` , `ip` , `createtime`) VALUES ('博客管理 日志管理 修改' , '{\"dialog\":\"1\",\"row\":{\"category_id\":\"3\",\"flag\":[\"hot\"],\"title\":\"\\u901a\\u7528\\u722c\\u866b\",\"summary\":\"\\u901a\\u7528\\u722c\\u866b\",\"content\":\"import requestsimport timeclass TiebaSpider:    def __init__(self, name):        self.name = name        self.url = &quot;https:\\/\\/tieba.baidu.com\\/f?kw=&quot;+name+&quot;&amp;ie=utf-8&amp;pn={}&quot;        self.headers = {&quot;User-Agent&quot;: &quot;Mozilla\\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\\/537.36&quot;                                      &quot; (KHTML, like Gecko) Chrome\\/80.0.3970.5 Safari\\/537.36&quot;}    def get_url_list(self):        \'\'\'\\u6784\\u9020url\\u5217\\u8868\'\'\'        url_list = []        for i in range(1000):            url_list.append(self.url.format(i * 50))        return url_list    def parse_url(self, url):        \'\'\'\\u89e3\\u6790url\'\'\'        response = requests.get(url, headers=self.headers)        return response.content.decode()    def save_html(self, html_str, page_num):        file_path = &quot;{}--\\u7b2c{}\\u9875.html&quot;.format(self.name, page_num)        with open(file_path, &quot;w&quot;, encoding=&quot;utf-8&quot;) as f:            f.write(html_str)    def run(self):        # 1.\\u6784\\u9020url\\u5217\\u8868        url_list = self.get_url_list()        # 2.\\u904d\\u5386\\uff0c\\u53d1\\u9001\\u8bf7\\u6c42\\uff0c\\u83b7\\u53d6\\u76f8\\u5e94        for url in url_list:            html_str = self.parse_url(url)            # 3.\\u4fdd\\u5b58            page_num = url_list.index(url) + 1            self.save_html(html_str, page_num)            time.sleep(10)if __name__ == \'__main__\':    tieba = TiebaSpider(&quot;\\u5434\\u4ea6\\u51e1&quot;)    tieba.run()\",\"thumb\":\"\\/uploads\\/20200305\\/2439d323649651ddbe1438488ee0785f.jpg\",\"image\":\"\\/uploads\\/20200305\\/2439d323649651ddbe1438488ee0785f.jpg\",\"keywords\":\"\",\"description\":\"\",\"views\":\"18\",\"comments\":\"0\",\"weigh\":\"7\",\"status\":\"normal\"},\"ids\":\"7\"}' , '/admin/blog/post/edit/ids/7?dialog=1' , 1 , 'admin' , 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/80.0.3970.5 Safari/537.36' , '127.0.0.1' , 1583381517) [ RunTime:0.026223s ]
---------------------------------------------------------------
[ 2020-03-05T12:11:57+08:00 ] 127.0.0.1 GET www.jfmblog.com/admin/blog/post/index?sort=weigh&order=desc&offset=0&limit=10&filter=%7B%7D&op=%7B%7D&_=1583381103801
[ sql ] [ DB ] CONNECT:[ UseTime:0.012332s ] mysql:host=127.0.0.1;dbname=jfmblog;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_auth_group_access` [ RunTime:0.005343s ]
[ sql ] [ SQL ] SELECT `aga`.`uid`,`aga`.`group_id`,`ag`.`id`,`ag`.`pid`,`ag`.`name`,`ag`.`rules` FROM `fa_auth_group_access` `aga` LEFT JOIN `fa_auth_group` `ag` ON `aga`.`group_id`=`ag`.`id` WHERE  (  aga.uid='1' and ag.status='normal' ) [ RunTime:0.000736s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_auth_rule` [ RunTime:0.005353s ]
[ sql ] [ SQL ] SELECT `id`,`pid`,`condition`,`icon`,`name`,`title`,`ismenu` FROM `fa_auth_rule` WHERE  `status` = 'normal' [ RunTime:0.001178s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_blog_category` [ RunTime:0.006036s ]
[ sql ] [ SQL ] SELECT * FROM `fa_blog_category` ORDER BY `weigh` DESC,`id` DESC [ RunTime:0.000812s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_blog_post` [ RunTime:0.005129s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `fa_blog_post` `blog_post` LEFT JOIN `fa_blog_category` `category` ON `blog_post`.`category_id`=`category`.`id` ORDER BY `blog_post`.`weigh` DESC LIMIT 1 [ RunTime:0.000700s ]
[ sql ] [ SQL ] SELECT `blog_post`.`id`,`blog_post`.`category_id`,`blog_post`.`flag`,`blog_post`.`title`,`blog_post`.`summary`,`blog_post`.`content`,`blog_post`.`thumb`,`blog_post`.`image`,`blog_post`.`keywords`,`blog_post`.`description`,`blog_post`.`views`,`blog_post`.`comments`,`blog_post`.`createtime`,`blog_post`.`updatetime`,`blog_post`.`weigh`,`blog_post`.`status`,category.id AS category__id,category.pid AS category__pid,category.name AS category__name,category.nickname AS category__nickname,category.flag AS category__flag,category.image AS category__image,category.keywords AS category__keywords,category.description AS category__description,category.diyname AS category__diyname,category.createtime AS category__createtime,category.updatetime AS category__updatetime,category.weigh AS category__weigh,category.status AS category__status FROM `fa_blog_post` `blog_post` LEFT JOIN `fa_blog_category` `category` ON `blog_post`.`category_id`=`category`.`id` ORDER BY `blog_post`.`weigh` DESC LIMIT 0,10 [ RunTime:0.000860s ]
---------------------------------------------------------------
[ 2020-03-05T12:12:00+08:00 ] 127.0.0.1 GET www.jfmblog.com/c/2.html
[ sql ] [ DB ] CONNECT:[ UseTime:0.011886s ] mysql:host=127.0.0.1;dbname=jfmblog;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_blog_category` [ RunTime:0.012190s ]
[ sql ] [ SQL ] SELECT * FROM `fa_blog_category` WHERE  `status` = 'normal' ORDER BY `weigh` DESC,`id` DESC [ RunTime:0.000988s ]
[ sql ] [ SQL ] SELECT * FROM `fa_blog_category` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.000953s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_blog_post` [ RunTime:0.005073s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `fa_blog_post` WHERE  `status` = 'normal'  AND `category_id` = 2 LIMIT 1 [ RunTime:0.000989s ]
[ sql ] [ SQL ] SELECT * FROM `fa_blog_post` WHERE  `status` = 'normal'  AND `category_id` = 2 ORDER BY `weigh` DESC,`id` DESC LIMIT 0,10 [ RunTime:0.000936s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_blog_block` [ RunTime:0.005066s ]
[ sql ] [ SQL ] SELECT * FROM `fa_blog_block` WHERE  `name` = 'sidebarad1'  AND `status` = 'normal' LIMIT 1 [ RunTime:0.000969s ]
[ sql ] [ SQL ] SELECT * FROM `fa_blog_block` WHERE  `name` = 'sidebarad2'  AND `status` = 'normal' LIMIT 1 [ RunTime:0.000987s ]
[ sql ] [ SQL ] SELECT * FROM `fa_blog_post` WHERE  `status` = 'normal' ORDER BY `createtime` DESC LIMIT 10 [ RunTime:0.000901s ]
[ sql ] [ SQL ] SELECT * FROM `fa_blog_category` WHERE  `id` IN (3) [ RunTime:0.000811s ]
[ sql ] [ SQL ] SELECT * FROM `fa_blog_post` WHERE  `status` = 'normal'  AND (  (FIND_IN_SET('recommend', flag)) ) ORDER BY `createtime` DESC LIMIT 10 [ RunTime:0.000804s ]
---------------------------------------------------------------
[ 2020-03-05T12:12:03+08:00 ] 127.0.0.1 GET www.jfmblog.com/c/3.html
[ sql ] [ DB ] CONNECT:[ UseTime:0.012177s ] mysql:host=127.0.0.1;dbname=jfmblog;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_blog_category` [ RunTime:0.012332s ]
[ sql ] [ SQL ] SELECT * FROM `fa_blog_category` WHERE  `id` = 3 LIMIT 1 [ RunTime:0.000910s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_blog_post` [ RunTime:0.005378s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `fa_blog_post` WHERE  `status` = 'normal'  AND `category_id` = 3 LIMIT 1 [ RunTime:0.000838s ]
[ sql ] [ SQL ] SELECT * FROM `fa_blog_post` WHERE  `status` = 'normal'  AND `category_id` = 3 ORDER BY `weigh` DESC,`id` DESC LIMIT 0,10 [ RunTime:0.000957s ]
[ sql ] [ SQL ] SELECT * FROM `fa_blog_category` WHERE  `id` IN (3) [ RunTime:0.000911s ]
[ sql ] [ SQL ] SELECT * FROM `fa_blog_category` WHERE  `id` IN (3) [ RunTime:0.000805s ]
---------------------------------------------------------------
[ 2020-03-05T12:12:06+08:00 ] 127.0.0.1 GET www.jfmblog.com/p/7.html
[ sql ] [ DB ] CONNECT:[ UseTime:0.011973s ] mysql:host=127.0.0.1;dbname=jfmblog;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_blog_post` [ RunTime:0.012336s ]
[ sql ] [ SQL ] SELECT * FROM `fa_blog_post` WHERE  `id` = 7 LIMIT 1 [ RunTime:0.000956s ]
[ sql ] [ SQL ] UPDATE `fa_blog_post`  SET `views`=`views`+1  WHERE  `id` = 7 [ RunTime:0.040175s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_blog_category` [ RunTime:0.005175s ]
[ sql ] [ SQL ] SELECT * FROM `fa_blog_category` WHERE  `id` = 3 LIMIT 1 [ RunTime:0.000843s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_blog_comment` [ RunTime:0.005144s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `fa_blog_comment` WHERE  `post_id` = 7  AND `pid` = 0  AND `status` = 'normal' LIMIT 1 [ RunTime:0.001061s ]
[ sql ] [ SQL ] SELECT * FROM `fa_blog_comment` WHERE  `post_id` = 7  AND `pid` = 0  AND `status` = 'normal' ORDER BY `id` DESC LIMIT 0,10 [ RunTime:0.001095s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_blog_block` [ RunTime:0.005053s ]
[ sql ] [ SQL ] SELECT * FROM `fa_blog_post` WHERE  `status` = 'normal' ORDER BY `createtime` DESC LIMIT 3 [ RunTime:0.000841s ]
[ sql ] [ SQL ] SELECT * FROM `fa_blog_category` WHERE  `id` IN (3) [ RunTime:0.000770s ]
[ sql ] [ SQL ] SELECT * FROM `fa_blog_category` WHERE  `id` IN (3) [ RunTime:0.000888s ]
---------------------------------------------------------------
[ 2020-03-05T12:12:12+08:00 ] 127.0.0.1 GET www.jfmblog.com/p/7.html
[ sql ] [ DB ] CONNECT:[ UseTime:0.016367s ] mysql:host=127.0.0.1;dbname=jfmblog;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_blog_post` [ RunTime:0.005214s ]
[ sql ] [ SQL ] SELECT * FROM `fa_blog_post` WHERE  `id` = 7 LIMIT 1 [ RunTime:0.000874s ]
[ sql ] [ SQL ] UPDATE `fa_blog_post`  SET `views`=`views`+1  WHERE  `id` = 7 [ RunTime:0.046777s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_blog_category` [ RunTime:0.010640s ]
[ sql ] [ SQL ] SELECT * FROM `fa_blog_category` WHERE  `id` = 3 LIMIT 1 [ RunTime:0.000993s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_blog_comment` [ RunTime:0.005262s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `fa_blog_comment` WHERE  `post_id` = 7  AND `pid` = 0  AND `status` = 'normal' LIMIT 1 [ RunTime:0.000987s ]
[ sql ] [ SQL ] SELECT * FROM `fa_blog_comment` WHERE  `post_id` = 7  AND `pid` = 0  AND `status` = 'normal' ORDER BY `id` DESC LIMIT 0,10 [ RunTime:0.000964s ]
[ sql ] [ SQL ] SELECT * FROM `fa_blog_category` WHERE  `id` IN (3) [ RunTime:0.000830s ]
[ sql ] [ SQL ] SELECT * FROM `fa_blog_category` WHERE  `id` IN (3) [ RunTime:0.000803s ]
---------------------------------------------------------------
[ 2020-03-05T12:13:40+08:00 ] 127.0.0.1 GET www.jfmblog.com/c/3.html
[ sql ] [ DB ] CONNECT:[ UseTime:0.002737s ] mysql:host=127.0.0.1;dbname=jfmblog;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_blog_category` [ RunTime:0.013974s ]
[ sql ] [ SQL ] SELECT * FROM `fa_blog_category` WHERE  `id` = 3 LIMIT 1 [ RunTime:0.000948s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_blog_post` [ RunTime:0.005731s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `fa_blog_post` WHERE  `status` = 'normal'  AND `category_id` = 3 LIMIT 1 [ RunTime:0.000913s ]
[ sql ] [ SQL ] SELECT * FROM `fa_blog_post` WHERE  `status` = 'normal'  AND `category_id` = 3 ORDER BY `weigh` DESC,`id` DESC LIMIT 0,10 [ RunTime:0.001274s ]
[ sql ] [ SQL ] SELECT * FROM `fa_blog_category` WHERE  `id` IN (3) [ RunTime:0.000745s ]
[ sql ] [ SQL ] SELECT * FROM `fa_blog_category` WHERE  `id` IN (3) [ RunTime:0.000818s ]
---------------------------------------------------------------
[ 2020-03-05T12:32:27+08:00 ] 127.0.0.1 GET www.jfmblog.com/p/7.html
[ sql ] [ DB ] CONNECT:[ UseTime:0.021370s ] mysql:host=127.0.0.1;dbname=jfmblog;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_blog_post` [ RunTime:0.012418s ]
[ sql ] [ SQL ] SELECT * FROM `fa_blog_post` WHERE  `id` = 7 LIMIT 1 [ RunTime:0.000856s ]
[ sql ] [ SQL ] UPDATE `fa_blog_post`  SET `views`=`views`+1  WHERE  `id` = 7 [ RunTime:0.045499s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_blog_category` [ RunTime:0.011181s ]
[ sql ] [ SQL ] SELECT * FROM `fa_blog_category` WHERE  `id` = 3 LIMIT 1 [ RunTime:0.000969s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_blog_comment` [ RunTime:0.005382s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `fa_blog_comment` WHERE  `post_id` = 7  AND `pid` = 0  AND `status` = 'normal' LIMIT 1 [ RunTime:0.000976s ]
[ sql ] [ SQL ] SELECT * FROM `fa_blog_comment` WHERE  `post_id` = 7  AND `pid` = 0  AND `status` = 'normal' ORDER BY `id` DESC LIMIT 0,10 [ RunTime:0.000993s ]
[ sql ] [ SQL ] SELECT * FROM `fa_blog_category` WHERE  `id` IN (3) [ RunTime:0.000779s ]
[ sql ] [ SQL ] SELECT * FROM `fa_blog_category` WHERE  `id` IN (3) [ RunTime:0.000799s ]
---------------------------------------------------------------
[ 2020-03-05T12:33:07+08:00 ] 127.0.0.1 GET www.jfmblog.com/admin/blog/post/edit/ids/7?dialog=1
[ sql ] [ DB ] CONNECT:[ UseTime:0.012052s ] mysql:host=127.0.0.1;dbname=jfmblog;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_auth_group_access` [ RunTime:0.013007s ]
[ sql ] [ SQL ] SELECT `aga`.`uid`,`aga`.`group_id`,`ag`.`id`,`ag`.`pid`,`ag`.`name`,`ag`.`rules` FROM `fa_auth_group_access` `aga` LEFT JOIN `fa_auth_group` `ag` ON `aga`.`group_id`=`ag`.`id` WHERE  (  aga.uid='1' and ag.status='normal' ) [ RunTime:0.000823s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_auth_rule` [ RunTime:0.005716s ]
[ sql ] [ SQL ] SELECT `id`,`pid`,`condition`,`icon`,`name`,`title`,`ismenu` FROM `fa_auth_rule` WHERE  `status` = 'normal' [ RunTime:0.001147s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_blog_category` [ RunTime:0.005096s ]
[ sql ] [ SQL ] SELECT * FROM `fa_blog_category` ORDER BY `weigh` DESC,`id` DESC [ RunTime:0.000757s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_blog_post` [ RunTime:0.005030s ]
[ sql ] [ SQL ] SELECT * FROM `fa_blog_post` WHERE  `id` = 7 LIMIT 1 [ RunTime:0.000840s ]
---------------------------------------------------------------
[ 2020-03-05T12:33:21+08:00 ] 127.0.0.1 POST www.jfmblog.com/admin/blog/post/edit/ids/7?dialog=1
[ sql ] [ DB ] CONNECT:[ UseTime:0.012545s ] mysql:host=127.0.0.1;dbname=jfmblog;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_auth_group_access` [ RunTime:0.004668s ]
[ sql ] [ SQL ] SELECT `aga`.`uid`,`aga`.`group_id`,`ag`.`id`,`ag`.`pid`,`ag`.`name`,`ag`.`rules` FROM `fa_auth_group_access` `aga` LEFT JOIN `fa_auth_group` `ag` ON `aga`.`group_id`=`ag`.`id` WHERE  (  aga.uid='1' and ag.status='normal' ) [ RunTime:0.000691s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_auth_rule` [ RunTime:0.005205s ]
[ sql ] [ SQL ] SELECT `id`,`pid`,`condition`,`icon`,`name`,`title`,`ismenu` FROM `fa_auth_rule` WHERE  `status` = 'normal' [ RunTime:0.001237s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_blog_category` [ RunTime:0.005152s ]
[ sql ] [ SQL ] SELECT * FROM `fa_blog_category` ORDER BY `weigh` DESC,`id` DESC [ RunTime:0.000757s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_blog_post` [ RunTime:0.004888s ]
[ sql ] [ SQL ] SELECT * FROM `fa_blog_post` WHERE  `id` = 7 LIMIT 1 [ RunTime:0.000806s ]
[ sql ] [ SQL ] UPDATE `fa_blog_post`  SET `title`='贴吧爬虫',`summary`='<p>贴吧爬虫</p>',`comments`=0,`updatetime`=1583382801  WHERE  `id` = 7 [ RunTime:0.001292s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_admin_log` [ RunTime:0.005075s ]
[ sql ] [ SQL ] INSERT INTO `fa_admin_log` (`title` , `content` , `url` , `admin_id` , `username` , `useragent` , `ip` , `createtime`) VALUES ('博客管理 日志管理 修改' , '{\"dialog\":\"1\",\"row\":{\"category_id\":\"3\",\"flag\":[\"hot\"],\"title\":\"\\u8d34\\u5427\\u722c\\u866b\",\"summary\":\"\\u8d34\\u5427\\u722c\\u866b\",\"content\":\"import requestsimport timeclass TiebaSpider:    def __init__(self, name):        self.name = name        self.url = &quot;https:\\/\\/tieba.baidu.com\\/f?kw=&quot;+name+&quot;&amp;ie=utf-8&amp;pn={}&quot;        self.headers = {&quot;User-Agent&quot;: &quot;Mozilla\\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\\/537.36&quot;                                      &quot; (KHTML, like Gecko) Chrome\\/80.0.3970.5 Safari\\/537.36&quot;}    def get_url_list(self):        \'\'\'\\u6784\\u9020url\\u5217\\u8868\'\'\'        url_list = []        for i in range(1000):            url_list.append(self.url.format(i * 50))        return url_list    def parse_url(self, url):        \'\'\'\\u89e3\\u6790url\'\'\'        response = requests.get(url, headers=self.headers)        return response.content.decode()    def save_html(self, html_str, page_num):        file_path = &quot;{}--\\u7b2c{}\\u9875.html&quot;.format(self.name, page_num)        with open(file_path, &quot;w&quot;, encoding=&quot;utf-8&quot;) as f:            f.write(html_str)    def run(self):        # 1.\\u6784\\u9020url\\u5217\\u8868        url_list = self.get_url_list()        # 2.\\u904d\\u5386\\uff0c\\u53d1\\u9001\\u8bf7\\u6c42\\uff0c\\u83b7\\u53d6\\u76f8\\u5e94        for url in url_list:            html_str = self.parse_url(url)            # 3.\\u4fdd\\u5b58            page_num = url_list.index(url) + 1            self.save_html(html_str, page_num)            time.sleep(10)if __name__ == \'__main__\':    tieba = TiebaSpider(&quot;\\u5434\\u4ea6\\u51e1&quot;)    tieba.run()\",\"thumb\":\"\\/uploads\\/20200305\\/2439d323649651ddbe1438488ee0785f.jpg\",\"image\":\"\\/uploads\\/20200305\\/2439d323649651ddbe1438488ee0785f.jpg\",\"keywords\":\"\",\"description\":\"\",\"views\":\"21\",\"comments\":\"0\",\"weigh\":\"7\",\"status\":\"normal\"},\"ids\":\"7\"}' , '/admin/blog/post/edit/ids/7?dialog=1' , 1 , 'admin' , 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/80.0.3970.5 Safari/537.36' , '127.0.0.1' , 1583382801) [ RunTime:0.046691s ]
---------------------------------------------------------------
[ 2020-03-05T12:33:22+08:00 ] 127.0.0.1 GET www.jfmblog.com/admin/blog/post/index?sort=weigh&order=desc&offset=0&limit=10&filter=%7B%7D&op=%7B%7D&_=1583381103802
[ sql ] [ DB ] CONNECT:[ UseTime:0.012195s ] mysql:host=127.0.0.1;dbname=jfmblog;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_auth_group_access` [ RunTime:0.013035s ]
[ sql ] [ SQL ] SELECT `aga`.`uid`,`aga`.`group_id`,`ag`.`id`,`ag`.`pid`,`ag`.`name`,`ag`.`rules` FROM `fa_auth_group_access` `aga` LEFT JOIN `fa_auth_group` `ag` ON `aga`.`group_id`=`ag`.`id` WHERE  (  aga.uid='1' and ag.status='normal' ) [ RunTime:0.000976s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_auth_rule` [ RunTime:0.005027s ]
[ sql ] [ SQL ] SELECT `id`,`pid`,`condition`,`icon`,`name`,`title`,`ismenu` FROM `fa_auth_rule` WHERE  `status` = 'normal' [ RunTime:0.001191s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_blog_category` [ RunTime:0.004960s ]
[ sql ] [ SQL ] SELECT * FROM `fa_blog_category` ORDER BY `weigh` DESC,`id` DESC [ RunTime:0.000985s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_blog_post` [ RunTime:0.005522s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `fa_blog_post` `blog_post` LEFT JOIN `fa_blog_category` `category` ON `blog_post`.`category_id`=`category`.`id` ORDER BY `blog_post`.`weigh` DESC LIMIT 1 [ RunTime:0.000784s ]
[ sql ] [ SQL ] SELECT `blog_post`.`id`,`blog_post`.`category_id`,`blog_post`.`flag`,`blog_post`.`title`,`blog_post`.`summary`,`blog_post`.`content`,`blog_post`.`thumb`,`blog_post`.`image`,`blog_post`.`keywords`,`blog_post`.`description`,`blog_post`.`views`,`blog_post`.`comments`,`blog_post`.`createtime`,`blog_post`.`updatetime`,`blog_post`.`weigh`,`blog_post`.`status`,category.id AS category__id,category.pid AS category__pid,category.name AS category__name,category.nickname AS category__nickname,category.flag AS category__flag,category.image AS category__image,category.keywords AS category__keywords,category.description AS category__description,category.diyname AS category__diyname,category.createtime AS category__createtime,category.updatetime AS category__updatetime,category.weigh AS category__weigh,category.status AS category__status FROM `fa_blog_post` `blog_post` LEFT JOIN `fa_blog_category` `category` ON `blog_post`.`category_id`=`category`.`id` ORDER BY `blog_post`.`weigh` DESC LIMIT 0,10 [ RunTime:0.000939s ]
---------------------------------------------------------------
[ 2020-03-05T12:33:26+08:00 ] 127.0.0.1 GET www.jfmblog.com/c/2.html
[ sql ] [ DB ] CONNECT:[ UseTime:0.011560s ] mysql:host=127.0.0.1;dbname=jfmblog;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_blog_category` [ RunTime:0.012348s ]
[ sql ] [ SQL ] SELECT * FROM `fa_blog_category` WHERE  `status` = 'normal' ORDER BY `weigh` DESC,`id` DESC [ RunTime:0.000949s ]
[ sql ] [ SQL ] SELECT * FROM `fa_blog_category` WHERE  `id` = 2 LIMIT 1 [ RunTime:0.001013s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_blog_post` [ RunTime:0.004988s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `fa_blog_post` WHERE  `status` = 'normal'  AND `category_id` = 2 LIMIT 1 [ RunTime:0.001242s ]
[ sql ] [ SQL ] SELECT * FROM `fa_blog_post` WHERE  `status` = 'normal'  AND `category_id` = 2 ORDER BY `weigh` DESC,`id` DESC LIMIT 0,10 [ RunTime:0.000947s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_blog_block` [ RunTime:0.005541s ]
[ sql ] [ SQL ] SELECT * FROM `fa_blog_block` WHERE  `name` = 'sidebarad1'  AND `status` = 'normal' LIMIT 1 [ RunTime:0.000961s ]
[ sql ] [ SQL ] SELECT * FROM `fa_blog_block` WHERE  `name` = 'sidebarad2'  AND `status` = 'normal' LIMIT 1 [ RunTime:0.001031s ]
[ sql ] [ SQL ] SELECT * FROM `fa_blog_post` WHERE  `status` = 'normal' ORDER BY `createtime` DESC LIMIT 10 [ RunTime:0.000889s ]
[ sql ] [ SQL ] SELECT * FROM `fa_blog_category` WHERE  `id` IN (3) [ RunTime:0.000767s ]
[ sql ] [ SQL ] SELECT * FROM `fa_blog_post` WHERE  `status` = 'normal'  AND (  (FIND_IN_SET('recommend', flag)) ) ORDER BY `createtime` DESC LIMIT 10 [ RunTime:0.000792s ]
---------------------------------------------------------------
[ 2020-03-05T12:33:28+08:00 ] 127.0.0.1 GET www.jfmblog.com/c/3.html
[ sql ] [ DB ] CONNECT:[ UseTime:0.011776s ] mysql:host=127.0.0.1;dbname=jfmblog;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_blog_category` [ RunTime:0.012304s ]
[ sql ] [ SQL ] SELECT * FROM `fa_blog_category` WHERE  `id` = 3 LIMIT 1 [ RunTime:0.000877s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_blog_post` [ RunTime:0.005187s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `fa_blog_post` WHERE  `status` = 'normal'  AND `category_id` = 3 LIMIT 1 [ RunTime:0.000965s ]
[ sql ] [ SQL ] SELECT * FROM `fa_blog_post` WHERE  `status` = 'normal'  AND `category_id` = 3 ORDER BY `weigh` DESC,`id` DESC LIMIT 0,10 [ RunTime:0.001055s ]
[ sql ] [ SQL ] SELECT * FROM `fa_blog_category` WHERE  `id` IN (3) [ RunTime:0.000867s ]
[ sql ] [ SQL ] SELECT * FROM `fa_blog_category` WHERE  `id` IN (3) [ RunTime:0.000868s ]
---------------------------------------------------------------
[ 2020-03-05T12:33:30+08:00 ] 127.0.0.1 GET www.jfmblog.com/p/7.html
[ sql ] [ DB ] CONNECT:[ UseTime:0.011619s ] mysql:host=127.0.0.1;dbname=jfmblog;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_blog_post` [ RunTime:0.005008s ]
[ sql ] [ SQL ] SELECT * FROM `fa_blog_post` WHERE  `id` = 7 LIMIT 1 [ RunTime:0.000965s ]
[ sql ] [ SQL ] UPDATE `fa_blog_post`  SET `views`=`views`+1  WHERE  `id` = 7 [ RunTime:0.058589s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_blog_category` [ RunTime:0.008936s ]
[ sql ] [ SQL ] SELECT * FROM `fa_blog_category` WHERE  `id` = 3 LIMIT 1 [ RunTime:0.000827s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_blog_comment` [ RunTime:0.005028s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `fa_blog_comment` WHERE  `post_id` = 7  AND `pid` = 0  AND `status` = 'normal' LIMIT 1 [ RunTime:0.001085s ]
[ sql ] [ SQL ] SELECT * FROM `fa_blog_comment` WHERE  `post_id` = 7  AND `pid` = 0  AND `status` = 'normal' ORDER BY `id` DESC LIMIT 0,10 [ RunTime:0.001090s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_blog_block` [ RunTime:0.005037s ]
[ sql ] [ SQL ] SELECT * FROM `fa_blog_post` WHERE  `status` = 'normal' ORDER BY `createtime` DESC LIMIT 3 [ RunTime:0.000946s ]
[ sql ] [ SQL ] SELECT * FROM `fa_blog_category` WHERE  `id` IN (3) [ RunTime:0.000838s ]
[ sql ] [ SQL ] SELECT * FROM `fa_blog_category` WHERE  `id` IN (3) [ RunTime:0.000863s ]
---------------------------------------------------------------
[ 2020-03-05T12:36:24+08:00 ] 127.0.0.1 GET www.jfmblog.com/p/7.html
[ sql ] [ DB ] CONNECT:[ UseTime:0.011792s ] mysql:host=127.0.0.1;dbname=jfmblog;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_blog_post` [ RunTime:0.013156s ]
[ sql ] [ SQL ] SELECT * FROM `fa_blog_post` WHERE  `id` = 7 LIMIT 1 [ RunTime:0.000902s ]
[ sql ] [ SQL ] UPDATE `fa_blog_post`  SET `views`=`views`+1  WHERE  `id` = 7 [ RunTime:0.039216s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_blog_category` [ RunTime:0.006661s ]
[ sql ] [ SQL ] SELECT * FROM `fa_blog_category` WHERE  `id` = 3 LIMIT 1 [ RunTime:0.000892s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_blog_comment` [ RunTime:0.005372s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `fa_blog_comment` WHERE  `post_id` = 7  AND `pid` = 0  AND `status` = 'normal' LIMIT 1 [ RunTime:0.001048s ]
[ sql ] [ SQL ] SELECT * FROM `fa_blog_comment` WHERE  `post_id` = 7  AND `pid` = 0  AND `status` = 'normal' ORDER BY `id` DESC LIMIT 0,10 [ RunTime:0.001028s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_blog_block` [ RunTime:0.005285s ]
[ sql ] [ SQL ] SELECT * FROM `fa_blog_category` WHERE  `id` IN (3) [ RunTime:0.000943s ]
[ sql ] [ SQL ] SELECT * FROM `fa_blog_category` WHERE  `id` IN (3) [ RunTime:0.000950s ]
---------------------------------------------------------------
[ 2020-03-05T12:38:02+08:00 ] 127.0.0.1 GET www.jfmblog.com/c/3.html
[ sql ] [ DB ] CONNECT:[ UseTime:0.011868s ] mysql:host=127.0.0.1;dbname=jfmblog;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_blog_category` [ RunTime:0.006010s ]
[ sql ] [ SQL ] SELECT * FROM `fa_blog_category` WHERE  `id` = 3 LIMIT 1 [ RunTime:0.000885s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_blog_post` [ RunTime:0.005102s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `fa_blog_post` WHERE  `status` = 'normal'  AND `category_id` = 3 LIMIT 1 [ RunTime:0.001054s ]
[ sql ] [ SQL ] SELECT * FROM `fa_blog_post` WHERE  `status` = 'normal'  AND `category_id` = 3 ORDER BY `weigh` DESC,`id` DESC LIMIT 0,10 [ RunTime:0.000973s ]
[ sql ] [ SQL ] SELECT * FROM `fa_blog_category` WHERE  `id` IN (3) [ RunTime:0.000798s ]
[ sql ] [ SQL ] SELECT * FROM `fa_blog_category` WHERE  `id` IN (3) [ RunTime:0.000774s ]
---------------------------------------------------------------
[ 2020-03-05T12:38:04+08:00 ] 127.0.0.1 GET www.jfmblog.com/c/3.html
[ sql ] [ DB ] CONNECT:[ UseTime:0.011614s ] mysql:host=127.0.0.1;dbname=jfmblog;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_blog_category` [ RunTime:0.005842s ]
[ sql ] [ SQL ] SELECT * FROM `fa_blog_category` WHERE  `id` = 3 LIMIT 1 [ RunTime:0.000872s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_blog_post` [ RunTime:0.005008s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `fa_blog_post` WHERE  `status` = 'normal'  AND `category_id` = 3 LIMIT 1 [ RunTime:0.000916s ]
[ sql ] [ SQL ] SELECT * FROM `fa_blog_post` WHERE  `status` = 'normal'  AND `category_id` = 3 ORDER BY `weigh` DESC,`id` DESC LIMIT 0,10 [ RunTime:0.001061s ]
[ sql ] [ SQL ] SELECT * FROM `fa_blog_category` WHERE  `id` IN (3) [ RunTime:0.000852s ]
[ sql ] [ SQL ] SELECT * FROM `fa_blog_category` WHERE  `id` IN (3) [ RunTime:0.000785s ]
---------------------------------------------------------------
[ 2020-03-05T12:38:06+08:00 ] 127.0.0.1 GET www.jfmblog.com/c/4.html
[ sql ] [ DB ] CONNECT:[ UseTime:0.012592s ] mysql:host=127.0.0.1;dbname=jfmblog;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_blog_category` [ RunTime:0.014232s ]
[ sql ] [ SQL ] SELECT * FROM `fa_blog_category` WHERE  `id` = 4 LIMIT 1 [ RunTime:0.000875s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_blog_post` [ RunTime:0.005342s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `fa_blog_post` WHERE  `status` = 'normal'  AND `category_id` = 4 LIMIT 1 [ RunTime:0.000919s ]
[ sql ] [ SQL ] SELECT * FROM `fa_blog_post` WHERE  `status` = 'normal'  AND `category_id` = 4 ORDER BY `weigh` DESC,`id` DESC LIMIT 0,10 [ RunTime:0.000972s ]
[ sql ] [ SQL ] SELECT * FROM `fa_blog_category` WHERE  `id` IN (3) [ RunTime:0.000916s ]
---------------------------------------------------------------
[ 2020-03-05T12:38:08+08:00 ] 127.0.0.1 GET www.jfmblog.com/c/3.html
[ sql ] [ DB ] CONNECT:[ UseTime:0.011690s ] mysql:host=127.0.0.1;dbname=jfmblog;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_blog_category` [ RunTime:0.006214s ]
[ sql ] [ SQL ] SELECT * FROM `fa_blog_category` WHERE  `id` = 3 LIMIT 1 [ RunTime:0.000896s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `fa_blog_post` [ RunTime:0.005162s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `fa_blog_post` WHERE  `status` = 'normal'  AND `category_id` = 3 LIMIT 1 [ RunTime:0.000903s ]
[ sql ] [ SQL ] SELECT * FROM `fa_blog_post` WHERE  `status` = 'normal'  AND `category_id` = 3 ORDER BY `weigh` DESC,`id` DESC LIMIT 0,10 [ RunTime:0.000883s ]
[ sql ] [ SQL ] SELECT * FROM `fa_blog_category` WHERE  `id` IN (3) [ RunTime:0.000757s ]
[ sql ] [ SQL ] SELECT * FROM `fa_blog_category` WHERE  `id` IN (3) [ RunTime:0.000760s ]
